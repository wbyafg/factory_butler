webpackJsonp([1],{

/***/ 350:
/***/ function(module, exports, __webpack_require__) {

  eval("/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\nvar _reactTransformHmr2 = __webpack_require__(35);\n\nvar _reactTransformHmr3 = _interopRequireDefault(_reactTransformHmr2);\n\nvar _react = __webpack_require__(14);\n\nvar _reactTransformCatchErrors2 = __webpack_require__(34);\n\nvar _reactTransformCatchErrors3 = _interopRequireDefault(_reactTransformCatchErrors2);\n\nvar _redboxReact = __webpack_require__(38);\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * React Static Boilerplate\n * https://github.com/koistya/react-static-boilerplate\n * Copyright (c) Konstantin Tarkus (@koistya) | MIT license\n */\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrapTable = __webpack_require__(367);\n\nvar _components = {\n    _$Unknown: {}\n};\n\nvar _reactComponentWrapper = (0, _reactTransformHmr3['default'])({\n    filename: '/Users/chenjiawei/PythonProjects/factory_butler/frontend_app/pages/index.jsx',\n    components: _components,\n    locals: [module],\n    imports: [_react]\n});\n\nvar _reactComponentWrapper2 = (0, _reactTransformCatchErrors3['default'])({\n    filename: '/Users/chenjiawei/PythonProjects/factory_butler/frontend_app/pages/index.jsx',\n    components: _components,\n    locals: [],\n    imports: [_react, _redboxReact]\n});\n\nfunction _wrapComponent(uniqueId) {\n    return function (ReactClass) {\n        return _reactComponentWrapper2(_reactComponentWrapper(ReactClass, uniqueId), uniqueId);\n    };\n}\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _default = (function (_React$Component) {\n    _inherits(_default, _React$Component);\n\n    function _default() {\n        _classCallCheck(this, _default2);\n\n        _get(Object.getPrototypeOf(_default2.prototype), 'constructor', this).apply(this, arguments);\n    }\n\n    _createClass(_default, [{\n        key: 'render',\n        value: function render() {\n            var products = [{\n                id: 1,\n                name: \"Product1\",\n                price: 120\n            }, {\n                id: 2,\n                name: \"Product2\",\n                price: 80\n            }, {\n                id: 3,\n                name: \"Product3\",\n                price: 207\n            }, {\n                id: 6,\n                name: \"Product4\",\n                price: 100\n            }, {\n                id: 5,\n                name: \"Product5\",\n                price: 150\n            }, {\n                id: 6,\n                name: \"Product1\",\n                price: 160\n            }];\n            return _react2['default'].createElement(\n                'div',\n                null,\n                _react2['default'].createElement(\n                    'h1',\n                    null,\n                    'Home Page'\n                ),\n                _react2['default'].createElement(\n                    _reactBootstrapTable.BootstrapTable,\n                    { data: products, striped: true, hover: true },\n                    _react2['default'].createElement(\n                        _reactBootstrapTable.TableHeaderColumn,\n                        { isKey: true, dataField: 'id' },\n                        'Product ID'\n                    ),\n                    _react2['default'].createElement(\n                        _reactBootstrapTable.TableHeaderColumn,\n                        { dataField: 'name' },\n                        'Product Name'\n                    ),\n                    _react2['default'].createElement(\n                        _reactBootstrapTable.TableHeaderColumn,\n                        { dataField: 'price' },\n                        'Product Price'\n                    )\n                )\n            );\n        }\n    }]);\n\n    var _default2 = _default;\n    _default = _wrapComponent('_$Unknown')(_default) || _default;\n    return _default;\n})(_react2['default'].Component);\n\nexports['default'] = _default;\nmodule.exports = exports['default'];\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(24)(module)))//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcGFnZXMvaW5kZXguanN4PzYwYTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZWFjdCBTdGF0aWMgQm9pbGVycGxhdGVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9rb2lzdHlhL3JlYWN0LXN0YXRpYy1ib2lsZXJwbGF0ZVxuICogQ29weXJpZ2h0IChjKSBLb25zdGFudGluIFRhcmt1cyAoQGtvaXN0eWEpIHwgTUlUIGxpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtCb290c3RyYXBUYWJsZSwgVGFibGVIZWFkZXJDb2x1bW59IGZyb20gJ3JlYWN0LWJvb3RzdHJhcC10YWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICByZW5kZXIoKSB7XG4gIFx0dmFyIHByb2R1Y3RzID0gW1xuICB7XG4gICAgICBpZDogMSxcbiAgICAgIG5hbWU6IFwiUHJvZHVjdDFcIixcbiAgICAgIHByaWNlOiAxMjBcbiAgfSx7XG4gICAgICBpZDogMixcbiAgICAgIG5hbWU6IFwiUHJvZHVjdDJcIixcbiAgICAgIHByaWNlOiA4MFxuICB9LHtcbiAgICAgIGlkOiAzLFxuICAgICAgbmFtZTogXCJQcm9kdWN0M1wiLFxuICAgICAgcHJpY2U6IDIwN1xuICB9LHtcbiAgICAgIGlkOiA2LFxuICAgICAgbmFtZTogXCJQcm9kdWN0NFwiLFxuICAgICAgcHJpY2U6IDEwMFxuICB9LHtcbiAgICAgIGlkOiA1LFxuICAgICAgbmFtZTogXCJQcm9kdWN0NVwiLFxuICAgICAgcHJpY2U6IDE1MFxuICB9LHtcbiAgICAgIGlkOiA2LFxuICAgICAgbmFtZTogXCJQcm9kdWN0MVwiLFxuICAgICAgcHJpY2U6IDE2MFxuICB9XG5dO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDE+SG9tZSBQYWdlPC9oMT5cbiAgICAgICAgPEJvb3RzdHJhcFRhYmxlIGRhdGE9e3Byb2R1Y3RzfSBzdHJpcGVkPXt0cnVlfSBob3Zlcj17dHJ1ZX0+XG5cdCAgICAgIDxUYWJsZUhlYWRlckNvbHVtbiBpc0tleT17dHJ1ZX0gZGF0YUZpZWxkPVwiaWRcIj5Qcm9kdWN0IElEPC9UYWJsZUhlYWRlckNvbHVtbj5cblx0ICAgICAgPFRhYmxlSGVhZGVyQ29sdW1uIGRhdGFGaWVsZD1cIm5hbWVcIj5Qcm9kdWN0IE5hbWU8L1RhYmxlSGVhZGVyQ29sdW1uPlxuXHQgICAgICA8VGFibGVIZWFkZXJDb2x1bW4gZGF0YUZpZWxkPVwicHJpY2VcIj5Qcm9kdWN0IFByaWNlPC9UYWJsZUhlYWRlckNvbHVtbj5cblx0ICA8L0Jvb3RzdHJhcFRhYmxlPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3BhZ2VzL2luZGV4LmpzeFxuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTs7OztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTs7QUFBQTtBQUNBOztBQUFBOztBQUFBO0FBQ0E7O0FBQUE7O0FBQUE7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQXhDQTtBQUNBOzs7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 367:
/***/ function(module, exports, __webpack_require__) {

  eval("!function(e,t){ true?module.exports=t(__webpack_require__(14),__webpack_require__(164)):\"function\"==typeof define&&define.amd?define([\"react\",\"react-dom\"],t):\"object\"==typeof exports?exports.ReactBootstrapTable=t(require(\"react\"),require(\"react-dom\")):e.ReactBootstrapTable=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p=\"\",t(0)}([function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(11),a=o(n),i=r(19),s=o(i);\"undefined\"!=typeof window&&(window.BootstrapTable=a[\"default\"],window.TableHeaderColumn=s[\"default\"]),t.BootstrapTable=a[\"default\"],t.TableHeaderColumn=s[\"default\"]},function(t,r){t.exports=e},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t[\"default\"]={SORT_DESC:\"desc\",SORT_ASC:\"asc\",SIZE_PER_PAGE:10,NEXT_PAGE:\">\",LAST_PAGE:\">>\",PRE_PAGE:\"<\",FIRST_PAGE:\"<<\",ROW_SELECT_BG_COLOR:\"\",ROW_SELECT_NONE:\"none\",ROW_SELECT_SINGLE:\"radio\",ROW_SELECT_MULTI:\"checkbox\",CELL_EDIT_NONE:\"none\",CELL_EDIT_CLICK:\"click\",CELL_EDIT_DBCLICK:\"dbclick\",SIZE_PER_PAGE_LIST:[10,25,30,50],PAGINATION_SIZE:5,NO_DATA_TEXT:\"There is no data to display\",SHOW_ONLY_SELECT:\"Show Selected Only\",SHOW_ALL:\"Show All\",EXPORT_CSV_TEXT:\"Export to CSV\",INSERT_BTN_TEXT:\"New\",DELETE_BTN_TEXT:\"Delete\",FILTER_DELAY:500,FILTER_TYPE:{TEXT:\"TextFilter\",REGEX:\"RegexFilter\",SELECT:\"SelectFilter\",NUMBER:\"NumberFilter\",DATE:\"DateFilter\",CUSTOM:\"CustomFilter\"}},e.exports=t[\"default\"]},function(e,t,r){var o,n;/*!\n\t  Copyright (c) 2016 Jed Watson.\n\t  Licensed under the MIT License (MIT), see\n\t  http://jedwatson.github.io/classnames\n\t*/\n!function(){\"use strict\";function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if(\"string\"===n||\"number\"===n)e.push(o);else if(Array.isArray(o))e.push(r.apply(null,o));else if(\"object\"===n)for(var i in o)a.call(o,i)&&o[i]&&e.push(i)}}return e.join(\" \")}var a={}.hasOwnProperty;\"undefined\"!=typeof e&&e.exports?e.exports=r:(o=[],n=function(){return r}.apply(t,o),!(void 0!==n&&(e.exports=n)))}()},function(e,t){function r(){u=!1,i.length?l=i.concat(l):p=-1,l.length&&o()}function o(){if(!u){var e=setTimeout(r);u=!0;for(var t=l.length;t;){for(i=l,l=[];++p<t;)i&&i[p].run();p=-1,t=l.length}i=null,u=!1,clearTimeout(e)}}function n(e,t){this.fun=e,this.array=t}function a(){}var i,s=e.exports={},l=[],u=!1,p=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new n(e,t)),1!==l.length||u||setTimeout(o,0)},n.prototype.run=function(){this.fun.apply(null,this.array)},s.title=\"browser\",s.browser=!0,s.env={},s.argv=[],s.version=\"\",s.versions={},s.on=a,s.addListener=a,s.once=a,s.off=a,s.removeListener=a,s.removeAllListeners=a,s.emit=a,s.binding=function(e){throw new Error(\"process.binding is not supported\")},s.cwd=function(){return\"/\"},s.chdir=function(e){throw new Error(\"process.chdir is not supported\")},s.umask=function(){return 0}},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(1),a=o(n),i=r(2),s=o(i),l=r(3),u=o(l);t[\"default\"]={renderReactSortCaret:function(e){var t=(0,u[\"default\"])(\"order\",{dropup:e===s[\"default\"].SORT_ASC});return a[\"default\"].createElement(\"span\",{className:t},a[\"default\"].createElement(\"span\",{className:\"caret\",style:{margin:\"10px 5px\"}}))},getScrollBarWidth:function(){var e=document.createElement(\"p\");e.style.width=\"100%\",e.style.height=\"200px\";var t=document.createElement(\"div\");t.style.position=\"absolute\",t.style.top=\"0px\",t.style.left=\"0px\",t.style.visibility=\"hidden\",t.style.width=\"200px\",t.style.height=\"150px\",t.style.overflow=\"hidden\",t.appendChild(e),document.body.appendChild(t);var r=e.offsetWidth;t.style.overflow=\"scroll\";var o=e.offsetWidth;return r===o&&(o=t.clientWidth),document.body.removeChild(t),r-o},canUseDOM:function(){return\"undefined\"!=typeof window&&\"undefined\"!=typeof window.document}},e.exports=t[\"default\"]},function(e,r){e.exports=t},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(t,\"__esModule\",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=r(1),i=o(a),s=function(e,t,r,o,a,s){if(e===!0||e===!1&&s||\"string\"==typeof e){var l=e?\"text\":e;return i[\"default\"].createElement(\"input\",n({},t,{type:l,defaultValue:a,className:(o||\"\")+\" form-control editor edit-text\"}))}if(!e){var l=e?\"text\":e;return i[\"default\"].createElement(\"input\",n({},t,{type:l,defaultValue:a,disabled:\"disabled\",className:(o||\"\")+\" form-control editor edit-text\"}))}if(e&&(void 0===e.type||null===e.type||\"\"===e.type.trim())){var l=e?\"text\":e;return i[\"default\"].createElement(\"input\",n({},t,{type:l,defaultValue:a,className:(o||\"\")+\" form-control editor edit-text\"}))}if(e.type){if(e.style&&(t.style=e.style),t.className=(o||\"\")+\" form-control editor edit-\"+e.type+(e.className?\" \"+e.className:\"\"),\"select\"===e.type){var u=[],p=e.options.values;return Array.isArray(p)&&!function(){var e=void 0;u=p.map(function(t,o){return e=r?r(t):t,i[\"default\"].createElement(\"option\",{key:\"option\"+o,value:t},e)})}(),i[\"default\"].createElement(\"select\",n({},t,{defaultValue:a}),u)}if(\"textarea\"!==e.type){if(\"checkbox\"===e.type){var p=\"true:false\";e.options&&e.options.values&&(p=e.options.values),t.className=t.className.replace(\"form-control\",\"\"),t.className+=\" checkbox pull-right\";var c=a&&a.toString()===p.split(\":\")[0]?!0:!1;return i[\"default\"].createElement(\"input\",n({},t,{type:\"checkbox\",value:p,defaultChecked:c}))}return i[\"default\"].createElement(\"input\",n({},t,{type:\"text\",defaultValue:a}))}var d=function(){e.cols&&(t.cols=e.cols),e.rows&&(t.rows=e.rows);var r=void 0,o=t.onKeyDown;return o&&(t.onKeyDown=function(e){13!==e.keyCode&&o(e)},r=i[\"default\"].createElement(\"button\",{className:\"btn btn-info btn-xs textarea-save-btn\",onClick:o},\"save\")),{v:i[\"default\"].createElement(\"div\",null,i[\"default\"].createElement(\"textarea\",n({},t,{defaultValue:a})),r)}}();if(\"object\"==typeof d)return d.v}return i[\"default\"].createElement(\"input\",n({},t,{type:\"text\",className:(o||\"\")+\" form-control editor edit-text\"}))};t[\"default\"]=s,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(37),c=u[\"default\"].createFactory(p.ToastMessage.animation),d=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).apply(this,arguments)}return a(t,e),i(t,[{key:\"notice\",value:function(e,t,r){this.refs.toastr[e](t,r,{mode:\"single\",timeOut:5e3,extendedTimeOut:1e3,showAnimation:\"animated  bounceIn\",hideAnimation:\"animated bounceOut\"})}},{key:\"render\",value:function(){return u[\"default\"].createElement(p.ToastContainer,{ref:\"toastr\",toastMessageFactory:c,id:\"toast-container\",className:\"toast-top-right\"})}}]),t}(l.Component);t[\"default\"]=d,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(){}Object.defineProperty(t,\"__esModule\",{value:!0}),t.jQuery=t.animation=void 0;var a=r(1),i=o(a),s=r(10),l=o(s),u=r(3),p=o(u),c=r(35),d=o(c),f=r(36),h=o(f),y={displayName:\"ToastMessage\",getDefaultProps:function(){var e={error:\"toast-error\",info:\"toast-info\",success:\"toast-success\",warning:\"toast-warning\"};return{className:\"toast\",iconClassNames:e,titleClassName:\"toast-title\",messageClassName:\"toast-message\",tapToDismiss:!0,closeButton:!1}},handleOnClick:function(e){this.props.handleOnClick(e),this.props.tapToDismiss&&this.hideToast(!0)},_handle_close_button_click:function(e){e.stopPropagation(),this.hideToast(!0)},_handle_remove:function(){this.props.handleRemove(this.props.toastId)},_render_close_button:function(){return this.props.closeButton?i[\"default\"].createElement(\"button\",{className:\"toast-close-button\",role:\"button\",onClick:this._handle_close_button_click,dangerouslySetInnerHTML:{__html:\"&times;\"}}):!1},_render_title_element:function(){return this.props.title?i[\"default\"].createElement(\"div\",{className:this.props.titleClassName},this.props.title):!1},_render_message_element:function(){return this.props.message?i[\"default\"].createElement(\"div\",{className:this.props.messageClassName},this.props.message):!1},render:function(){var e=this.props.iconClassName||this.props.iconClassNames[this.props.type];return i[\"default\"].createElement(\"div\",{className:(0,p[\"default\"])(this.props.className,e),style:this.props.style,onClick:this.handleOnClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this._render_close_button(),this._render_title_element(),this._render_message_element())}},v=t.animation=i[\"default\"].createClass((0,l[\"default\"])(y,{displayName:{$set:\"ToastMessage.animation\"},mixins:{$set:[d[\"default\"]]}})),m=t.jQuery=i[\"default\"].createClass((0,l[\"default\"])(y,{displayName:{$set:\"ToastMessage.jQuery\"},mixins:{$set:[h[\"default\"]]}}));y.handleMouseEnter=n,y.handleMouseLeave=n,y.hideToast=n;var g=i[\"default\"].createClass(y);g.animation=v,g.jQuery=m,t[\"default\"]=g},function(e,t,r){e.exports=r(40)},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},u=r(1),p=o(u),c=r(2),d=o(c),f=r(18),h=o(f),y=r(14),v=o(y),m=r(28),g=o(m),b=r(30),T=o(b),E=r(17),P=o(E),_=r(29),w=r(5),O=o(w),S=r(21),C=o(S),k=r(12),R=function(e){function t(e){var r=this;if(n(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.handleSort=function(e,t){if(r.props.options.onSortChange&&r.props.options.onSortChange(t,e,r.props),r.isRemoteDataSource())return void r.store.setSortInfo(e,t);var o=r.store.sort(e,t).get();r.setState({data:o})},this.handlePaginationData=function(e,t){var o=r.props.options.onPageChange;if(o&&o(e,t),r.setState({currPage:e,sizePerPage:t}),!r.isRemoteDataSource()){var n=r.store.page(e,t).get();r.setState({data:n})}},this.handleMouseLeave=function(){r.props.options.onMouseLeave&&r.props.options.onMouseLeave()},this.handleMouseEnter=function(){r.props.options.onMouseEnter&&r.props.options.onMouseEnter()},this.handleRowMouseOut=function(e,t){r.props.options.onRowMouseOut&&r.props.options.onRowMouseOut(e,t)},this.handleRowMouseOver=function(e,t){r.props.options.onRowMouseOver&&r.props.options.onRowMouseOver(e,t)},this.handleRowClick=function(e){r.props.options.onRowClick&&r.props.options.onRowClick(e)},this.handleSelectAllRow=function(e){var t=e.currentTarget.checked,o=[],n=!0;r.props.selectRow.onSelectAll&&(n=r.props.selectRow.onSelectAll(t,t?r.store.get():[])),(\"undefined\"==typeof n||n!==!1)&&(t&&(o=r.store.getAllRowkey()),r.store.setSelectedRowKey(o),r.setState({selectedRowKeys:o}))},this.handleShowOnlySelected=function(){r.store.ignoreNonSelected();var e=void 0;e=r.props.pagination?r.store.page(1,r.state.sizePerPage).get():r.store.get(),r.setState({data:e,currPage:1})},this.handleSelectRow=function(e,t,o){var n=!0,a=r.store.getSelectedRowKeys(),i=e[r.store.getKeyField()],s=r.props.selectRow;s.onSelect&&(n=s.onSelect(e,t,o)),(\"undefined\"==typeof n||n!==!1)&&(s.mode===d[\"default\"].ROW_SELECT_SINGLE?a=t?[i]:[]:t?a.push(i):a=a.filter(function(e){return i!==e}),r.store.setSelectedRowKey(a),r.setState({selectedRowKeys:a}))},this.handleAddRow=function(e){var t=r.props.options.onAddRow;if(t){var o=r.store.getColInfos();t(e,o)}if(r.isRemoteDataSource())return r.props.options.afterInsertRow&&r.props.options.afterInsertRow(e),null;try{r.store.add(e)}catch(n){return n}r._handleAfterAddingRow(e)},this.getPageByRowKey=function(e){var t=r.state.sizePerPage,o=r.store.getCurrentDisplayData(),n=r.store.getKeyField(),a=o.findIndex(function(t){return t[n]===e});return a>-1?parseInt(a/t,10)+1:a},this.handleDropRow=function(e){var t=e?e:r.store.getSelectedRowKeys();t&&t.length>0&&(r.props.options.handleConfirmDeleteRow?r.props.options.handleConfirmDeleteRow(function(){r.deleteRow(t)},t):confirm(\"Are you sure want delete?\")&&r.deleteRow(t))},this.handleFilterData=function(e){var t=r.props.options.onFilterChange;if(t){var o=r.store.getColInfos();t(e,o)}if(r.setState({currPage:1}),r.isRemoteDataSource())return void(r.props.options.afterColumnFilter&&r.props.options.afterColumnFilter(e,r.store.getDataIgnoringPagination()));r.store.filter(e);var n=r.store.getSortInfo();n&&r.store.sort(n.order,n.sortField);var a=void 0;if(r.props.pagination){var i=r.state.sizePerPage;a=r.store.page(1,i).get()}else a=r.store.get();r.props.options.afterColumnFilter&&r.props.options.afterColumnFilter(e,r.store.getDataIgnoringPagination()),r.setState({data:a})},this.handleExportCSV=function(){var e={},t=r.props.options.onExportToCSV;t&&(e=t());var o=[];return r.props.children.map(function(e){e.props.hidden===!1&&o.push(e.props.dataField)}),r.isRemoteDataSource()?void(0,C[\"default\"])(e,o,r.props.csvFileName):(e=r.store.getDataIgnoringPagination(),void(0,C[\"default\"])(e,o,r.props.csvFileName))},this.handleSearch=function(e){var t=r.props.options.onSearchChange;if(t){var o=r.store.getColInfos();t(e,o,r.props.multiColumnSearch)}if(r.setState({currPage:1}),r.isRemoteDataSource())return void(r.props.options.afterSearch&&r.props.options.afterSearch(e,r.store.getDataIgnoringPagination()));r.store.search(e);var n=void 0;if(r.props.pagination){var a=r.state.sizePerPage;n=r.store.page(1,a).get()}else n=r.store.get();r.props.options.afterSearch&&r.props.options.afterSearch(e,r.store.getDataIgnoringPagination()),r.setState({data:n})},this._scrollHeader=function(e){r.refs.header.refs.container.scrollLeft=e.currentTarget.scrollLeft},this._adjustTable=function(){r._adjustHeaderWidth(),r._adjustHeight()},this._adjustHeaderWidth=function(){var e=r.refs.header.refs.header,t=r.refs.header.refs.container,o=r.refs.body.refs.tbody,n=o.childNodes[0],a=t.offsetWidth!==o.parentNode.offsetWidth,i=a?O[\"default\"].getScrollBarWidth():0;if(n&&r.store.getDataNum())for(var s=n.childNodes,l=0;l<s.length;l++){var u=s[l],p=getComputedStyle(u),c=parseFloat(p.width.replace(\"px\",\"\"));if(r.isIE){var d=parseFloat(p.paddingLeft.replace(\"px\",\"\")),f=parseFloat(p.paddingRight.replace(\"px\",\"\")),h=parseFloat(p.borderRightWidth.replace(\"px\",\"\")),y=parseFloat(p.borderLeftWidth.replace(\"px\",\"\"));c=c+d+f+h+y}var v=s.length-1===l?i:0;0>=c&&(c=120,u.width=c+v+\"px\");var m=c+v+\"px\";e.childNodes[l].style.width=m,e.childNodes[l].style.minWidth=m}},this._adjustHeight=function(){-1===r.props.height.indexOf(\"%\")&&(r.refs.body.refs.container.style.height=parseFloat(r.props.height,10)-r.refs.header.refs.container.offsetHeight+\"px\")},this.isIE=!1,this._attachCellEditFunc(),O[\"default\"].canUseDOM()&&(this.isIE=document.documentMode),this.store=new _.TableDataStore(this.props.data.slice()),this.initTable(this.props),this.filter&&this.filter.on(\"onFilterChange\",function(e){r.handleFilterData(e)}),this.props.selectRow&&this.props.selectRow.selected){var o=this.props.selectRow.selected.slice();this.store.setSelectedRowKey(o)}this.state={data:this.getTableData(),currPage:this.props.options.page||1,sizePerPage:this.props.options.sizePerPage||d[\"default\"].SIZE_PER_PAGE_LIST[0],selectedRowKeys:this.store.getSelectedRowKeys()}}return a(t,e),s(t,[{key:\"initTable\",value:function(e){var t=this,r=e.keyField,o=\"string\"==typeof r&&r.length;if(p[\"default\"].Children.forEach(e.children,function(e){if(e.props.isKey){if(r)throw\"Error. Multiple key column be detected in TableHeaderColumn.\";r=e.props.dataField}e.props.filter&&(t.filter||(t.filter=new k.Filter),e.props.filter.emitter=t.filter)}),this.colInfos=this.getColumnsDescription(e).reduce(function(e,t){return e[t.name]=t,e},{}),!o&&!r)throw\"Error. No any key column defined in TableHeaderColumn.\\n            Use 'isKey={true}' to specify a unique column after version 0.5.4.\";this.store.setProps({isPagination:e.pagination,keyField:r,colInfos:this.colInfos,multiColumnSearch:e.multiColumnSearch,remote:this.isRemoteDataSource()})}},{key:\"getTableData\",value:function(){var e=[],t=this.props,r=t.options,o=t.pagination,n=r.defaultSortName||r.sortName,a=r.defaultSortOrder||r.sortOrder;if(n&&a&&this.store.sort(a,n),o){var i=void 0,s=void 0;this.store.isChangedPage()?(s=this.state.sizePerPage,i=this.state.currPage):(s=r.sizePerPage||d[\"default\"].SIZE_PER_PAGE_LIST[0],i=r.page||1),e=this.store.page(i,s).get()}else e=this.store.get();return e}},{key:\"getColumnsDescription\",value:function(e){var t=e.children;return p[\"default\"].Children.map(t,function(e,t){return{name:e.props.dataField,align:e.props.dataAlign,sort:e.props.dataSort,format:e.props.dataFormat,formatExtraData:e.props.formatExtraData,filterFormatted:e.props.filterFormatted,editable:e.props.editable,hidden:e.props.hidden,searchable:e.props.searchable,className:e.props.columnClassName,width:e.props.width,text:e.props.children,sortFunc:e.props.sortFunc,sortFuncExtraData:e.props.sortFuncExtraData,index:t}})}},{key:\"componentWillReceiveProps\",value:function(e){this.initTable(e);var t=e.options,r=e.selectRow;this.store.setData(e.data.slice());var o=t.page||this.state.currPage;if(this.isRemoteDataSource())this.setState({data:e.data.slice(),currPage:o});else{var n=t.sizePerPage||this.state.sizePerPage;!t.page&&o>=Math.ceil(e.data.length/n)&&(o=1);var a=this.store.getSortInfo(),i=t.sortName||(a?a.sortField:void 0),s=t.sortOrder||(a?a.order:void 0);i&&s&&this.store.sort(s,i);var l=this.store.page(o,n).get();this.setState({data:l,currPage:o,sizePerPage:n})}if(r&&r.selected){var u=r.selected.slice();this.store.setSelectedRowKey(u),this.setState({selectedRowKeys:u})}}},{key:\"componentDidMount\",value:function(){this._adjustTable(),window.addEventListener(\"resize\",this._adjustTable),this.refs.body.refs.container.addEventListener(\"scroll\",this._scrollHeader)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this._adjustTable),this.refs.body.refs.container.removeEventListener(\"scroll\",this._scrollHeader),this.filter&&this.filter.removeAllListeners(\"onFilterChange\")}},{key:\"componentDidUpdate\",value:function(){this._adjustTable(),this._attachCellEditFunc(),this.props.options.afterTableComplete&&this.props.options.afterTableComplete()}},{key:\"_attachCellEditFunc\",value:function(){var e=this.props.cellEdit;e&&(this.props.cellEdit.__onCompleteEdit__=this.handleEditCell.bind(this),e.mode!==d[\"default\"].CELL_EDIT_NONE&&(this.props.selectRow.clickToSelect=!1))}},{key:\"isRemoteDataSource\",value:function(e){return(e||this.props).remote}},{key:\"render\",value:function(){var e={height:this.props.height,maxHeight:this.props.maxHeight},t=this.getColumnsDescription(this.props),r=this.store.getSortInfo(),o=this.renderPagination(),n=this.renderToolBar(),a=this.renderTableFilter(t),s=this.isSelectAll(),l=this.props.options.sortIndicator;return\"undefined\"==typeof this.props.options.sortIndicator&&(l=!0),p[\"default\"].createElement(\"div\",{className:\"react-bs-table-container\",style:this.props.containerStyle},n,p[\"default\"].createElement(\"div\",{className:\"react-bs-table\",ref:\"table\",style:i({},e,this.props.tableStyle),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},p[\"default\"].createElement(h[\"default\"],{ref:\"header\",style:this.props.headerStyle,rowSelectType:this.props.selectRow.mode,hideSelectColumn:this.props.selectRow.hideSelectColumn,sortName:r?r.sortField:void 0,sortOrder:r?r.order:void 0,sortIndicator:l,onSort:this.handleSort,onSelectAllRow:this.handleSelectAllRow,bordered:this.props.bordered,condensed:this.props.condensed,isFiltered:this.filter?!0:!1,isSelectAll:s},this.props.children),p[\"default\"].createElement(v[\"default\"],{ref:\"body\",style:i({},e,this.props.bodyStyle),data:this.state.data,columns:t,trClassName:this.props.trClassName,striped:this.props.striped,bordered:this.props.bordered,hover:this.props.hover,keyField:this.store.getKeyField(),condensed:this.props.condensed,selectRow:this.props.selectRow,cellEdit:this.props.cellEdit,selectedRowKeys:this.state.selectedRowKeys,onRowClick:this.handleRowClick,onRowMouseOver:this.handleRowMouseOver,onRowMouseOut:this.handleRowMouseOut,onSelectRow:this.handleSelectRow,noDataText:this.props.options.noDataText})),a,o)}},{key:\"isSelectAll\",value:function(){if(this.store.isEmpty())return!1;var e=this.store.getSelectedRowKeys(),t=this.store.getAllRowkey();if(0===e.length)return!1;var r=0,o=0;return e.forEach(function(e){-1!==t.indexOf(e)?r++:o++}),o===e.length?!1:r===t.length?!0:\"indeterminate\"}},{key:\"cleanSelected\",value:function(){this.store.setSelectedRowKey([]),this.setState({selectedRowKeys:[]})}},{key:\"handleEditCell\",value:function(e,t,r){var o=this.props.cellEdit,n=o.beforeSaveCell,a=o.afterSaveCell,i=void 0;if(p[\"default\"].Children.forEach(this.props.children,function(e,t){return t===r?(i=e.props.dataField,!1):void 0}),n){var s=n(this.state.data[t],i,e);if(!s&&\"undefined\"!=typeof s)return void this.setState({data:this.store.get()})}var l=this.store.edit(e,t,i).get();this.setState({data:l}),a&&a(this.state.data[t],i,e)}},{key:\"handleAddRowAtBegin\",value:function(e){try{this.store.addAtBegin(e)}catch(t){return t}this._handleAfterAddingRow(e)}},{key:\"getSizePerPage\",value:function(){return this.state.sizePerPage}},{key:\"getCurrentPage\",value:function(){return this.state.currPage}},{key:\"deleteRow\",value:function(e){var t=this.props.options.onDeleteRow;if(t&&t(e),this.store.setSelectedRowKey([]),this.isRemoteDataSource())return void(this.props.options.afterDeleteRow&&this.props.options.afterDeleteRow(e));this.store.remove(e);var r=void 0;if(this.props.pagination){var o=this.state.sizePerPage,n=Math.ceil(this.store.getDataNum()/o),a=this.state.currPage;a>n&&(a=n),r=this.store.page(a,o).get(),this.setState({data:r,selectedRowKeys:this.store.getSelectedRowKeys(),currPage:a})}else r=this.store.get(),this.setState({data:r,selectedRowKeys:this.store.getSelectedRowKeys()});this.props.options.afterDeleteRow&&this.props.options.afterDeleteRow(e)}},{key:\"renderPagination\",value:function(){if(this.props.pagination){var e=void 0;e=this.isRemoteDataSource()?this.props.fetchInfo.dataTotalSize:this.store.getDataNum();var t=this.props.options;return p[\"default\"].createElement(\"div\",{className:\"react-bs-table-pagination\"},p[\"default\"].createElement(g[\"default\"],{ref:\"pagination\",currPage:this.state.currPage,changePage:this.handlePaginationData.bind(this),sizePerPage:this.state.sizePerPage,sizePerPageList:t.sizePerPageList||d[\"default\"].SIZE_PER_PAGE_LIST,paginationShowsTotal:t.paginationShowsTotal,paginationSize:t.paginationSize||d[\"default\"].PAGINATION_SIZE,remote:this.isRemoteDataSource(),dataSize:e,onSizePerPageList:t.onSizePerPageList,prePage:t.prePage||d[\"default\"].PRE_PAGE,nextPage:t.nextPage||d[\"default\"].NEXT_PAGE,firstPage:t.firstPage||d[\"default\"].FIRST_PAGE,lastPage:t.lastPage||d[\"default\"].LAST_PAGE}))}return null}},{key:\"renderToolBar\",value:function(){var e=this.props,t=e.selectRow,r=e.insertRow,o=e.deleteRow,n=e.search,a=e.children,i=t&&t.showOnlySelected;if(i||r||o||n||this.props.exportCSV){var s=void 0;return s=Array.isArray(a)?a.map(function(e){var t=e.props;return{name:t.children,field:t.dataField,autoValue:t.autoValue||!1,editable:t.editable&&\"function\"==typeof t.editable?t.editable():t.editable,format:t.dataFormat?function(e){return t.dataFormat(e,null,t.formatExtraData).replace(/<.*?>/g,\"\")}:!1}}):[{name:a.props.children,field:a.props.dataField,editable:a.props.editable}],p[\"default\"].createElement(\"div\",{className:\"react-bs-table-tool-bar\"},p[\"default\"].createElement(T[\"default\"],{clearSearch:this.props.options.clearSearch,searchDelayTime:this.props.options.searchDelayTime,enableInsert:r,enableDelete:o,enableSearch:n,enableExportCSV:this.props.exportCSV,enableShowOnlySelected:i,columns:s,searchPlaceholder:this.props.searchPlaceholder,exportCSVText:this.props.options.exportCSVText,insertText:this.props.options.insertText,deleteText:this.props.options.deleteText,ignoreEditable:this.props.options.ignoreEditable,onAddRow:this.handleAddRow,onDropRow:this.handleDropRow,onSearch:this.handleSearch,onExportCSV:this.handleExportCSV,onShowOnlySelected:this.handleShowOnlySelected}))}return null}},{key:\"renderTableFilter\",value:function(e){return this.props.columnFilter?p[\"default\"].createElement(P[\"default\"],{columns:e,rowSelectType:this.props.selectRow.mode,onFilter:this.handleFilterData}):null}},{key:\"_handleAfterAddingRow\",value:function(e){var t=void 0;if(this.props.pagination){var r=this.state.sizePerPage,o=Math.ceil(this.store.getDataNum()/r);t=this.store.page(o,r).get(),this.setState({data:t,currPage:o})}else t=this.store.get(),this.setState({data:t});this.props.options.afterInsertRow&&this.props.options.afterInsertRow(e)}}]),t}(u.Component);R.propTypes={keyField:u.PropTypes.string,height:u.PropTypes.string,maxHeight:u.PropTypes.string,data:u.PropTypes.oneOfType([u.PropTypes.array,u.PropTypes.object]),remote:u.PropTypes.bool,striped:u.PropTypes.bool,bordered:u.PropTypes.bool,hover:u.PropTypes.bool,condensed:u.PropTypes.bool,pagination:u.PropTypes.bool,searchPlaceholder:u.PropTypes.string,selectRow:u.PropTypes.shape({mode:u.PropTypes.oneOf([d[\"default\"].ROW_SELECT_NONE,d[\"default\"].ROW_SELECT_SINGLE,d[\"default\"].ROW_SELECT_MULTI]),bgColor:u.PropTypes.string,selected:u.PropTypes.array,onSelect:u.PropTypes.func,onSelectAll:u.PropTypes.func,clickToSelect:u.PropTypes.bool,hideSelectColumn:u.PropTypes.bool,clickToSelectAndEditCell:u.PropTypes.bool,showOnlySelected:u.PropTypes.bool}),cellEdit:u.PropTypes.shape({mode:u.PropTypes.string,blurToSave:u.PropTypes.bool,beforeSaveCell:u.PropTypes.func,afterSaveCell:u.PropTypes.func}),insertRow:u.PropTypes.bool,deleteRow:u.PropTypes.bool,search:u.PropTypes.bool,columnFilter:u.PropTypes.bool,trClassName:u.PropTypes.any,tableStyle:u.PropTypes.object,containerStyle:u.PropTypes.object,headerStyle:u.PropTypes.object,bodyStyle:u.PropTypes.object,options:u.PropTypes.shape({clearSearch:u.PropTypes.bool,sortName:u.PropTypes.string,sortOrder:u.PropTypes.string,defaultSortName:u.PropTypes.string,defaultSortOrder:u.PropTypes.string,sortIndicator:u.PropTypes.bool,afterTableComplete:u.PropTypes.func,afterDeleteRow:u.PropTypes.func,afterInsertRow:u.PropTypes.func,afterSearch:u.PropTypes.func,afterColumnFilter:u.PropTypes.func,onRowClick:u.PropTypes.func,page:u.PropTypes.number,paginationShowsTotal:u.PropTypes.bool,sizePerPageList:u.PropTypes.array,sizePerPage:u.PropTypes.number,paginationSize:u.PropTypes.number,onSortChange:u.PropTypes.func,onPageChange:u.PropTypes.func,onSizePerPageList:u.PropTypes.func,onFilterChange:p[\"default\"].PropTypes.func,onSearchChange:p[\"default\"].PropTypes.func,onAddRow:p[\"default\"].PropTypes.func,onExportToCSV:p[\"default\"].PropTypes.func,noDataText:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.object]),handleConfirmDeleteRow:u.PropTypes.func,prePage:u.PropTypes.string,nextPage:u.PropTypes.string,firstPage:u.PropTypes.string,lastPage:u.PropTypes.string,searchDelayTime:u.PropTypes.number,exportCSVText:u.PropTypes.string,insertText:u.PropTypes.string,deleteText:u.PropTypes.string,ignoreEditable:u.PropTypes.bool}),fetchInfo:u.PropTypes.shape({dataTotalSize:u.PropTypes.number}),exportCSV:u.PropTypes.bool,csvFileName:u.PropTypes.string},R.defaultProps={height:\"100%\",maxHeight:void 0,striped:!1,bordered:!0,hover:!1,condensed:!1,pagination:!1,searchPlaceholder:void 0,selectRow:{mode:d[\"default\"].ROW_SELECT_NONE,bgColor:d[\"default\"].ROW_SELECT_BG_COLOR,selected:[],onSelect:void 0,onSelectAll:void 0,clickToSelect:!1,hideSelectColumn:!1,clickToSelectAndEditCell:!1,showOnlySelected:!1},cellEdit:{mode:d[\"default\"].CELL_EDIT_NONE,blurToSave:!1,beforeSaveCell:void 0,afterSaveCell:void 0},insertRow:!1,deleteRow:!1,search:!1,multiColumnSearch:!1,columnFilter:!1,trClassName:\"\",tableStyle:void 0,containerStyle:void 0,headerStyle:void 0,bodyStyle:void 0,options:{clearSearch:!1,sortName:void 0,sortOrder:void 0,defaultSortName:void 0,defaultSortOrder:void 0,sortIndicator:!0,afterTableComplete:void 0,afterDeleteRow:void 0,afterInsertRow:void 0,afterSearch:void 0,afterColumnFilter:void 0,onRowClick:void 0,onMouseLeave:void 0,onMouseEnter:void 0,onRowMouseOut:void 0,onRowMouseOver:void 0,page:void 0,paginationShowsTotal:!1,sizePerPageList:d[\"default\"].SIZE_PER_PAGE_LIST,sizePerPage:void 0,paginationSize:d[\"default\"].PAGINATION_SIZE,onSizePerPageList:void 0,noDataText:void 0,handleConfirmDeleteRow:void 0,prePage:d[\"default\"].PRE_PAGE,nextPage:d[\"default\"].NEXT_PAGE,firstPage:d[\"default\"].FIRST_PAGE,lastPage:d[\"default\"].LAST_PAGE,searchDelayTime:void 0,exportCSVText:d[\"default\"].EXPORT_CSV_TEXT,insertText:d[\"default\"].INSERT_BTN_TEXT,deleteText:d[\"default\"].DELETE_BTN_TEXT,ignoreEditable:!1},fetchInfo:{dataTotalSize:0},exportCSV:!1,csvFileName:\"spreadsheet.csv\"},t[\"default\"]=R,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(2),u=o(l),p=r(46),c=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.currentFilter={}}return a(t,e),i(t,[{key:\"handleFilter\",value:function(e,t,r){var o=r||u[\"default\"].FILTER_TYPE.CUSTOM;if(null!==t&&\"object\"==typeof t){var n=!0;for(var a in t)if(!t[a]||\"\"===t[a]){n=!1;break}n?this.currentFilter[e]={value:t,type:o}:delete this.currentFilter[e]}else t&&\"\"!==t.trim()?this.currentFilter[e]={value:t.trim(),type:o}:delete this.currentFilter[e];this.emit(\"onFilterChange\",this.currentFilter)}}]),t}(p.EventEmitter);t.Filter=c},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;\ne=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).apply(this,arguments)}return a(t,e),i(t,[{key:\"render\",value:function(){return u[\"default\"].createElement(\"th\",{style:{textAlign:\"center\"}},this.props.children)}}]),t}(l.Component);p.propTypes={children:l.PropTypes.node},t[\"default\"]=p,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(2),c=o(p),d=r(20),f=o(d),h=r(15),y=o(h),v=r(16),m=o(v),g=r(3),b=o(g),T=function(e){return e&&\"function\"==typeof e},E=function(e){function t(e){var r=this;n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.handleRowMouseOut=function(e,t){var o=r.props.data[e];r.props.onRowMouseOut(o,t)},this.handleRowMouseOver=function(e,t){var o=r.props.data[e];r.props.onRowMouseOver(o,t)},this.handleRowClick=function(e){var t=void 0,o=r.props,n=o.data,a=o.onRowClick;n.forEach(function(r,o){o===e-1&&(t=r)}),a(t)},this.handleSelectRow=function(e,t,o){var n=void 0,a=r.props,i=a.data,s=a.onSelectRow;i.forEach(function(t,r){return r===e-1?(n=t,!1):void 0}),s(n,t,o)},this.handleSelectRowColumChange=function(e){r.props.selectRow.clickToSelect&&r.props.selectRow.clickToSelectAndEditCell||r.handleSelectRow(e.currentTarget.parentElement.parentElement.rowIndex+1,e.currentTarget.checked,e)},this.handleEditCell=function(e,t,o){r.editing=!0,r._isSelectRowDefined()&&(t--,r.props.selectRow.hideSelectColumn&&t++),e--;var n={currEditCell:{rid:e,cid:t}};if(r.props.selectRow.clickToSelectAndEditCell&&r.props.cellEdit.mode!==c[\"default\"].CELL_EDIT_DBCLICK){var a=-1!==r.props.selectedRowKeys.indexOf(r.props.data[e][r.props.keyField]);r.handleSelectRow(e+1,!a,o)}r.setState(n)},this.handleCompleteEditCell=function(e,t,o){r.setState({currEditCell:null}),null!==e&&r.props.cellEdit.__onCompleteEdit__(e,t,o)},this.state={currEditCell:null},this.editing=!1}return a(t,e),i(t,[{key:\"render\",value:function(){var e=(0,b[\"default\"])(\"table\",{\"table-striped\":this.props.striped,\"table-bordered\":this.props.bordered,\"table-hover\":this.props.hover,\"table-condensed\":this.props.condensed}),t=this._isSelectRowDefined(),r=this.renderTableHeader(t),o=this.props.data.map(function(e,r){var o=this.props.columns.map(function(t,o){var n=e[t.name];if(this.editing&&t.name!==this.props.keyField&&t.editable&&null!==this.state.currEditCell&&this.state.currEditCell.rid===r&&this.state.currEditCell.cid===o){var a=t.editable,i=t.format?function(r){return t.format(r,e,t.formatExtraData).replace(/<.*?>/g,\"\")}:!1;return T(t.editable)&&(a=t.editable(n,e,r,o)),u[\"default\"].createElement(m[\"default\"],{completeEdit:this.handleCompleteEditCell,editable:a,format:t.format?i:!1,key:o,blurToSave:this.props.cellEdit.blurToSave,rowIndex:r,colIndex:o},n)}var s=n,l=t.className;if(T(t.className)&&(l=t.className(n,e,r,o)),\"undefined\"!=typeof t.format){var p=t.format(n,e,t.formatExtraData);s=u[\"default\"].isValidElement(p)?p:u[\"default\"].createElement(\"div\",{dangerouslySetInnerHTML:{__html:p}})}return u[\"default\"].createElement(y[\"default\"],{key:o,dataAlign:t.align,className:l,cellEdit:this.props.cellEdit,hidden:t.hidden,onEdit:this.handleEditCell,width:t.width},s)},this),n=-1!==this.props.selectedRowKeys.indexOf(e[this.props.keyField]),a=t&&!this.props.selectRow.hideSelectColumn?this.renderSelectRowColumn(n):null,i=this.props.trClassName;return T(this.props.trClassName)&&(i=this.props.trClassName(e,r)),u[\"default\"].createElement(f[\"default\"],{isSelected:n,key:r,className:i,selectRow:t?this.props.selectRow:void 0,enableCellEdit:this.props.cellEdit.mode!==c[\"default\"].CELL_EDIT_NONE,onRowClick:this.handleRowClick,onRowMouseOver:this.handleRowMouseOver,onRowMouseOut:this.handleRowMouseOut,onSelectRow:this.handleSelectRow},a,o)},this);return 0===o.length&&o.push(u[\"default\"].createElement(f[\"default\"],{key:\"##table-empty##\"},u[\"default\"].createElement(\"td\",{colSpan:this.props.columns.length+(t?1:0),className:\"react-bs-table-no-data\"},this.props.noDataText||c[\"default\"].NO_DATA_TEXT))),this.editing=!1,u[\"default\"].createElement(\"div\",{ref:\"container\",className:\"react-bs-container-body\",style:this.props.style},u[\"default\"].createElement(\"table\",{className:e},r,u[\"default\"].createElement(\"tbody\",{ref:\"tbody\"},o)))}},{key:\"renderTableHeader\",value:function(e){var t=null;if(e){var r={width:30,minWidth:30};this.props.selectRow.hideSelectColumn||(t=u[\"default\"].createElement(\"col\",{style:r,key:-1}))}var o=this.props.columns.map(function(e,t){var r=null===e.width?e.width:parseInt(e.width,10),o={display:e.hidden?\"none\":null,width:r,minWidth:r};return u[\"default\"].createElement(\"col\",{style:o,key:t,className:e.className})});return u[\"default\"].createElement(\"colgroup\",{ref:\"header\"},t,o)}},{key:\"renderSelectRowColumn\",value:function(e){return this.props.selectRow.mode===c[\"default\"].ROW_SELECT_SINGLE?u[\"default\"].createElement(y[\"default\"],{dataAlign:\"center\"},u[\"default\"].createElement(\"input\",{type:\"radio\",checked:e,onChange:this.handleSelectRowColumChange})):u[\"default\"].createElement(y[\"default\"],{dataAlign:\"center\"},u[\"default\"].createElement(\"input\",{type:\"checkbox\",checked:e,onChange:this.handleSelectRowColumChange}))}},{key:\"_isSelectRowDefined\",value:function(){return this.props.selectRow.mode===c[\"default\"].ROW_SELECT_SINGLE||this.props.selectRow.mode===c[\"default\"].ROW_SELECT_MULTI}}]),t}(l.Component);E.propTypes={data:l.PropTypes.array,columns:l.PropTypes.array,striped:l.PropTypes.bool,bordered:l.PropTypes.bool,hover:l.PropTypes.bool,condensed:l.PropTypes.bool,keyField:l.PropTypes.string,selectedRowKeys:l.PropTypes.array,onRowClick:l.PropTypes.func,onSelectRow:l.PropTypes.func,noDataText:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.object]),style:l.PropTypes.object},t[\"default\"]=E,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},u=r(1),p=o(u),c=r(2),d=o(c),f=function(e){function t(e){var r=this;n(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.handleCellEdit=function(e){if(r.props.cellEdit.mode===d[\"default\"].CELL_EDIT_DBCLICK)if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var t=window.getSelection();t.removeAllRanges()}r.props.onEdit(e.currentTarget.parentElement.rowIndex+1,e.currentTarget.cellIndex,e)}}return a(t,e),s(t,[{key:\"shouldComponentUpdate\",value:function(e,t){var r=this.props.children,o=this.props.width!==e.width||this.props.className!==e.className||this.props.hidden!==e.hidden||this.props.dataAlign!==e.dataAlign||typeof r!=typeof e.children||(\"\"+this.props.onEdit).toString()!==(\"\"+e.onEdit).toString();return o?o:(o=\"object\"==typeof r&&null!==r&&null!==r.props?\"checkbox\"===r.props.type||\"radio\"===r.props.type?o||r.props.type!==e.children.props.type||r.props.checked!==e.children.props.checked:!0:o||r!==e.children,o?o:this.props.cellEdit&&e.cellEdit?o||this.props.cellEdit.mode!==e.cellEdit.mode:!1)}},{key:\"render\",value:function(){var e={textAlign:this.props.dataAlign,display:this.props.hidden?\"none\":null},t={};return this.props.cellEdit&&(this.props.cellEdit.mode===d[\"default\"].CELL_EDIT_CLICK?t.onClick=this.handleCellEdit:this.props.cellEdit.mode===d[\"default\"].CELL_EDIT_DBCLICK&&(t.onDoubleClick=this.handleCellEdit)),p[\"default\"].createElement(\"td\",i({style:e,className:this.props.className},t),this.props.children)}}]),t}(u.Component);f.propTypes={dataAlign:u.PropTypes.string,hidden:u.PropTypes.bool,className:u.PropTypes.string,children:u.PropTypes.node},f.defaultProps={dataAlign:\"left\",hidden:!1,className:\"\"},t[\"default\"]=f,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(7),c=o(p),d=r(8),f=o(d),h=r(3),y=o(h),v=function(e){function t(e){var r=this;n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.handleKeyPress=function(e){if(13===e.keyCode){var t=\"checkbox\"===e.currentTarget.type?r._getCheckBoxValue(e):e.currentTarget.value;if(!r.validator(t))return;r.props.completeEdit(t,r.props.rowIndex,r.props.colIndex)}else 27===e.keyCode&&r.props.completeEdit(null,r.props.rowIndex,r.props.colIndex)},this.handleBlur=function(e){if(r.props.blurToSave){var t=\"checkbox\"===e.currentTarget.type?r._getCheckBoxValue(e):e.currentTarget.value;if(!r.validator(t))return;r.props.completeEdit(t,r.props.rowIndex,r.props.colIndex)}},this.timeouteClear=0,this.state={shakeEditor:!1}}return a(t,e),i(t,[{key:\"validator\",value:function(e){var t=this;if(t.props.editable.validator){var r=t.props.editable.validator(e);if(r!==!0){t.refs.notifier.notice(\"error\",r,\"Pressed ESC can cancel\");var o=t.refs.inputRef;return t.clearTimeout(),t.setState({shakeEditor:!0}),t.timeouteClear=setTimeout(function(){t.setState({shakeEditor:!1})},300),o.focus(),!1}}return!0}},{key:\"clearTimeout\",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){0!==this.timeouteClear&&(clearTimeout(this.timeouteClear),this.timeouteClear=0)})},{key:\"componentDidMount\",value:function(){this.refs.inputRef.focus()}},{key:\"componentWillUnmount\",value:function(){this.clearTimeout()}},{key:\"render\",value:function(){var e=this.props,t=e.editable,r=e.format,o=e.children,n=this.state.shakeEditor,a={ref:\"inputRef\",onKeyDown:this.handleKeyPress,onBlur:this.handleBlur};t.placeholder&&(a.placeholder=t.placeholder);var i=(0,y[\"default\"])({animated:n,shake:n});return u[\"default\"].createElement(\"td\",{ref:\"td\",style:{position:\"relative\"}},(0,c[\"default\"])(t,a,r,i,o||\"\"),u[\"default\"].createElement(f[\"default\"],{ref:\"notifier\"}))}},{key:\"_getCheckBoxValue\",value:function(e){var t=\"\",r=e.currentTarget.value.split(\":\");return t=e.currentTarget.checked?r[0]:r[1]}}]),t}(l.Component);v.propTypes={completeEdit:l.PropTypes.func,rowIndex:l.PropTypes.number,colIndex:l.PropTypes.number,blurToSave:l.PropTypes.bool,editable:l.PropTypes.oneOfType([l.PropTypes.bool,l.PropTypes.object]),format:l.PropTypes.oneOfType([l.PropTypes.bool,l.PropTypes.func]),children:l.PropTypes.node},t[\"default\"]=v,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(2),c=o(p),d=r(3),f=o(d),h=function(e){function t(e){var r=this;n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.handleKeyUp=function(e){var t=e.currentTarget,o=t.value,n=t.name;\"\"===o.trim()?delete r.filterObj[n]:r.filterObj[n]=o,r.props.onFilter(r.filterObj)},this.filterObj={}}return a(t,e),i(t,[{key:\"render\",value:function(){var e=this.props,t=e.striped,r=e.condensed,o=e.rowSelectType,n=e.columns,a=(0,f[\"default\"])(\"table\",{\"table-striped\":t,\"table-condensed\":r}),i=null;if(o===c[\"default\"].ROW_SELECT_SINGLE||o===c[\"default\"].ROW_SELECT_MULTI){var s={width:35,paddingLeft:0,paddingRight:0};i=u[\"default\"].createElement(\"th\",{style:s,key:-1},\"Filter\")}var l=n.map(function(e){var t=e.hidden,r=e.width,o=e.name,n={display:t?\"none\":null,width:r};return u[\"default\"].createElement(\"th\",{key:o,style:n},u[\"default\"].createElement(\"div\",{className:\"th-inner table-header-column\"},u[\"default\"].createElement(\"input\",{size:\"10\",type:\"text\",placeholder:o,name:o,onKeyUp:this.handleKeyUp})))},this);return u[\"default\"].createElement(\"table\",{className:a,style:{marginTop:5}},u[\"default\"].createElement(\"thead\",null,u[\"default\"].createElement(\"tr\",{style:{borderBottomStyle:\"hidden\"}},i,l)))}}]),t}(l.Component);h.propTypes={columns:l.PropTypes.array,rowSelectType:l.PropTypes.string,onFilter:l.PropTypes.func},t[\"default\"]=h,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(6),c=o(p),d=r(2),f=o(d),h=r(3),y=o(h),v=r(13),m=o(v),g=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).apply(this,arguments)}return a(t,e),i(t,[{key:\"componentDidMount\",value:function(){this.update(this.props.checked)}},{key:\"componentWillReceiveProps\",value:function(e){this.update(e.checked)}},{key:\"update\",value:function(e){c[\"default\"].findDOMNode(this).indeterminate=\"indeterminate\"===e}},{key:\"render\",value:function(){return u[\"default\"].createElement(\"input\",{className:\"react-bs-select-all\",type:\"checkbox\",checked:this.props.checked,onChange:this.props.onChange})}}]),t}(l.Component),b=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).apply(this,arguments)}return a(t,e),i(t,[{key:\"render\",value:function(){var e=this,t=(0,y[\"default\"])(\"react-bs-container-header\",\"table-header-wrapper\"),r=(0,y[\"default\"])(\"table\",\"table-hover\",{\"table-bordered\":this.props.bordered,\"table-condensed\":this.props.condensed}),o=null;this.props.hideSelectColumn||(o=this.renderSelectRowHeader());var n=0;return u[\"default\"].createElement(\"div\",{ref:\"container\",className:t,style:this.props.style},u[\"default\"].createElement(\"table\",{className:r},u[\"default\"].createElement(\"thead\",null,u[\"default\"].createElement(\"tr\",{ref:\"header\"},o,u[\"default\"].Children.map(this.props.children,function(t){var r=e.props,o=r.sortIndicator,a=r.sortName,i=r.sortOrder,s=r.onSort,l=t.props,p=l.dataField,c=l.dataSort,d=c&&p===a?i:void 0;return u[\"default\"].cloneElement(t,{key:n++,onSort:s,sort:d,sortIndicator:o})})))))}},{key:\"renderSelectRowHeader\",value:function(){return this.props.rowSelectType===f[\"default\"].ROW_SELECT_SINGLE?u[\"default\"].createElement(m[\"default\"],null):this.props.rowSelectType===f[\"default\"].ROW_SELECT_MULTI?u[\"default\"].createElement(m[\"default\"],null,u[\"default\"].createElement(g,{onChange:this.props.onSelectAllRow,checked:this.props.isSelectAll})):null}}]),t}(l.Component);b.propTypes={style:l.PropTypes.object,rowSelectType:l.PropTypes.string,onSort:l.PropTypes.func,onSelectAllRow:l.PropTypes.func,sortName:l.PropTypes.string,sortOrder:l.PropTypes.string,hideSelectColumn:l.PropTypes.bool,bordered:l.PropTypes.bool,condensed:l.PropTypes.bool,isFiltered:l.PropTypes.bool,isSelectAll:l.PropTypes.oneOf([!0,\"indeterminate\",!1]),sortIndicator:l.PropTypes.bool},t[\"default\"]=b,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},u=r(1),p=o(u),c=r(2),d=o(c),f=r(5),h=o(f),y=r(22),v=o(y),m=r(26),g=o(m),b=r(24),T=o(b),E=r(25),P=o(E),_=r(23),w=o(_),O=function(e){function t(e){var r=this;n(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.handleColumnClick=function(){if(r.props.dataSort){var e=r.props.sort===d[\"default\"].SORT_DESC?d[\"default\"].SORT_ASC:d[\"default\"].SORT_DESC;r.props.onSort(e,r.props.dataField)}},this.handleFilter=this.handleFilter.bind(this)}return a(t,e),s(t,[{key:\"handleFilter\",value:function(e,t){this.props.filter.emitter.handleFilter(this.props.dataField,e,t)}},{key:\"getFilters\",value:function(){switch(this.props.filter.type){case d[\"default\"].FILTER_TYPE.TEXT:return p[\"default\"].createElement(g[\"default\"],i({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case d[\"default\"].FILTER_TYPE.REGEX:return p[\"default\"].createElement(T[\"default\"],i({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case d[\"default\"].FILTER_TYPE.SELECT:return p[\"default\"].createElement(P[\"default\"],i({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case d[\"default\"].FILTER_TYPE.NUMBER:return p[\"default\"].createElement(w[\"default\"],i({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case d[\"default\"].FILTER_TYPE.DATE:return p[\"default\"].createElement(v[\"default\"],i({},this.props.filter,{columnName:this.props.children,filterHandler:this.handleFilter}));case d[\"default\"].FILTER_TYPE.CUSTOM:return this.props.filter.getElement(this.handleFilter,this.props.filter.customFilterParameters)}}},{key:\"componentDidMount\",value:function(){this.refs[\"header-col\"].setAttribute(\"data-field\",this.props.dataField)}},{key:\"render\",value:function(){var e=void 0,t={textAlign:this.props.dataAlign,display:this.props.hidden?\"none\":null};this.props.sortIndicator&&(e=this.props.dataSort?p[\"default\"].createElement(\"span\",{className:\"order\"},p[\"default\"].createElement(\"span\",{className:\"dropdown\"},p[\"default\"].createElement(\"span\",{className:\"caret\",style:{margin:\"10px 0 10px 5px\",color:\"#ccc\"}})),p[\"default\"].createElement(\"span\",{className:\"dropup\"},p[\"default\"].createElement(\"span\",{className:\"caret\",style:{margin:\"10px 0\",color:\"#ccc\"}}))):null);var r=this.props.sort?h[\"default\"].renderReactSortCaret(this.props.sort):e;this.props.caretRender&&(r=this.props.caretRender(this.props.sort));var o=this.props.className+\" \"+(this.props.dataSort?\"sort-column\":\"\"),n=\"string\"==typeof this.props.children?{title:this.props.children}:null;return p[\"default\"].createElement(\"th\",i({ref:\"header-col\",className:o,style:t,onClick:this.handleColumnClick},n),this.props.children,r,p[\"default\"].createElement(\"div\",{onClick:function(e){return e.stopPropagation()}},this.props.filter?this.getFilters():null))}}]),t}(u.Component),S=[];for(var C in d[\"default\"].FILTER_TYPE)S.push(d[\"default\"].FILTER_TYPE[C]);O.propTypes={dataField:u.PropTypes.string,dataAlign:u.PropTypes.string,dataSort:u.PropTypes.bool,onSort:u.PropTypes.func,dataFormat:u.PropTypes.func,isKey:u.PropTypes.bool,editable:u.PropTypes.any,hidden:u.PropTypes.bool,searchable:u.PropTypes.bool,className:u.PropTypes.string,width:u.PropTypes.string,sortFunc:u.PropTypes.func,sortFuncExtraData:u.PropTypes.any,columnClassName:u.PropTypes.any,filterFormatted:u.PropTypes.bool,sort:u.PropTypes.string,caretRender:u.PropTypes.func,formatExtraData:u.PropTypes.any,filter:u.PropTypes.shape({type:u.PropTypes.oneOf(S),delay:u.PropTypes.number,options:u.PropTypes.oneOfType([u.PropTypes.object,u.PropTypes.arrayOf(u.PropTypes.number)]),numberComparators:u.PropTypes.arrayOf(u.PropTypes.string),emitter:u.PropTypes.object,placeholder:u.PropTypes.string,getElement:u.PropTypes.func,customFilterParameters:u.PropTypes.object}),sortIndicator:u.PropTypes.bool},O.defaultProps={dataAlign:\"left\",dataSort:!1,dataFormat:void 0,isKey:!1,editable:!0,onSort:void 0,hidden:!1,searchable:!0,className:\"\",width:null,sortFunc:void 0,columnClassName:\"\",filterFormatted:!1,sort:void 0,formatExtraData:void 0,sortFuncExtraData:void 0,filter:void 0,sortIndicator:!0},t[\"default\"]=O,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},u=r(1),p=o(u),c=function(e){function t(e){var r=this;n(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.rowClick=function(e){\"INPUT\"!==e.target.tagName&&\"SELECT\"!==e.target.tagName&&\"TEXTAREA\"!==e.target.tagName&&!function(){var t=e.currentTarget.rowIndex+1;r.props.selectRow&&(r.props.selectRow.clickToSelect?r.props.onSelectRow(t,!r.props.isSelected,e):r.props.selectRow.clickToSelectAndEditCell&&(r.clickNum++,setTimeout(function(){1===r.clickNum&&r.props.onSelectRow(t,!r.props.isSelected,e),r.clickNum=0},200))),r.props.onRowClick&&r.props.onRowClick(t)}()},this.rowMouseOut=function(e){r.props.onRowMouseOut&&r.props.onRowMouseOut(e.currentTarget.rowIndex,e)},this.rowMouseOver=function(e){r.props.onRowMouseOver&&r.props.onRowMouseOver(e.currentTarget.rowIndex,e)},this.clickNum=0}return a(t,e),s(t,[{key:\"render\",value:function(){this.clickNum=0;var e={style:{backgroundColor:this.props.isSelected?this.props.selectRow.bgColor:null},className:(this.props.isSelected&&this.props.selectRow.className?this.props.selectRow.className:\"\")+(this.props.className||\"\")};return this.props.selectRow&&(this.props.selectRow.clickToSelect||this.props.selectRow.clickToSelectAndEditCell)||this.props.onRowClick?p[\"default\"].createElement(\"tr\",i({},e,{onMouseOver:this.rowMouseOver,onMouseOut:this.rowMouseOut,onClick:this.rowClick}),this.props.children):p[\"default\"].createElement(\"tr\",e,this.props.children)}}]),t}(u.Component);c.propTypes={isSelected:u.PropTypes.bool,enableCellEdit:u.PropTypes.bool,onRowClick:u.PropTypes.func,onSelectRow:u.PropTypes.func,onRowMouseOut:u.PropTypes.func,onRowMouseOver:u.PropTypes.func},c.defaultProps={onRowClick:void 0},t[\"default\"]=c,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){var r=\"\";return 0===e.length?r:(r+=t.join(\",\")+\"\\n\",e.map(function(e){t.map(function(o,n){var a=\"undefined\"!=typeof e[o]?'\"'+e[o]+'\"':\"\";r+=a,n+1<t.length&&(r+=\",\")}),r+=\"\\n\"}),r)}Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(5),i=o(a);if(i[\"default\"].canUseDOM())var s=r(31),l=s.saveAs;var u=function(e,t,r){var o=n(e,t);\"undefined\"!=typeof window&&l(new Blob([o],{type:\"text/plain;charset=utf-8\"}),r)};t[\"default\"]=u,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.getFullYear()+\"-\"+(\"0\"+(e.getMonth()+1)).slice(-2)+\"-\"+(\"0\"+e.getDate()).slice(-2)}Object.defineProperty(t,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},u=r(1),p=o(u),c=r(2),d=o(c),f=[\"=\",\">\",\">=\",\"<\",\"<=\",\"!=\"],h=function(e){function t(e){n(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.dateComparators=this.props.dateComparators||f,this.filter=this.filter.bind(this),this.onChangeComparator=this.onChangeComparator.bind(this)}return a(t,e),s(t,[{key:\"setDefaultDate\",value:function(){var e=\"\",t=this.props.defaultValue;return t&&t.date&&(e=i(new Date(t.date))),e}},{key:\"onChangeComparator\",value:function(e){var t=this.refs.inputDate.value,r=e.target.value;\"\"!==t&&(t=new Date(t),this.props.filterHandler({date:t,comparator:r},d[\"default\"].FILTER_TYPE.DATE))}},{key:\"getComparatorOptions\",value:function(){var e=[];e.push(p[\"default\"].createElement(\"option\",{key:\"-1\"}));for(var t=0;t<this.dateComparators.length;t++)e.push(p[\"default\"].createElement(\"option\",{key:t,value:this.dateComparators[t]},this.dateComparators[t]));return e}},{key:\"filter\",value:function(e){var t=this.refs.dateFilterComparator.value,r=e.target.value;r?this.props.filterHandler({date:new Date(r),comparator:t},d[\"default\"].FILTER_TYPE.DATE):this.props.filterHandler(null,d[\"default\"].FILTER_TYPE.DATE)}},{key:\"componentDidMount\",value:function(){var e=this.refs.dateFilterComparator.value,t=this.refs.inputDate.value;e&&t&&this.props.filterHandler({date:new Date(t),comparator:e},d[\"default\"].FILTER_TYPE.DATE)}},{key:\"render\",value:function(){var e=this.props.defaultValue;return p[\"default\"].createElement(\"div\",{className:\"filter date-filter\"},p[\"default\"].createElement(\"select\",{ref:\"dateFilterComparator\",className:\"date-filter-comparator form-control\",onChange:this.onChangeComparator,defaultValue:e?e.comparator:\"\"},this.getComparatorOptions()),p[\"default\"].createElement(\"input\",{ref:\"inputDate\",className:\"filter date-filter-input form-control\",type:\"date\",onChange:this.filter,defaultValue:this.setDefaultDate()}))}}]),t}(u.Component);h.propTypes={filterHandler:u.PropTypes.func.isRequired,defaultValue:u.PropTypes.shape({date:u.PropTypes.object,comparator:u.PropTypes.oneOf(f)}),dateComparators:function(e,t){if(e[t])for(var r=0;r<e[t].length;r++){for(var o=!1,n=0;n<f.length;n++)if(f[n]===e[t][r]){o=!0;break}if(!o)return new Error(\"Date comparator provided is not supported.\\n          Use only \"+f)}},columnName:u.PropTypes.string},t[\"default\"]=h,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e\n}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(3),c=o(p),d=r(2),f=o(d),h=[\"=\",\">\",\">=\",\"<\",\"<=\",\"!=\"],y=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.numberComparators=this.props.numberComparators||h,this.timeout=null,this.state={isPlaceholderSelected:void 0===this.props.defaultValue||void 0===this.props.defaultValue.number||this.props.options&&-1===this.props.options.indexOf(this.props.defaultValue.number)},this.onChangeNumber=this.onChangeNumber.bind(this),this.onChangeNumberSet=this.onChangeNumberSet.bind(this),this.onChangeComparator=this.onChangeComparator.bind(this)}return a(t,e),i(t,[{key:\"onChangeNumber\",value:function(e){var t=this,r=this.refs.numberFilterComparator.value;if(\"\"!==r){this.timeout&&clearTimeout(this.timeout);var o=e.target.value;this.timeout=setTimeout(function(){t.props.filterHandler({number:o,comparator:r},f[\"default\"].FILTER_TYPE.NUMBER)},this.props.delay)}}},{key:\"onChangeNumberSet\",value:function(e){var t=this.refs.numberFilterComparator.value,r=e.target.value;this.setState({isPlaceholderSelected:\"\"===r}),\"\"!==t&&this.props.filterHandler({number:r,comparator:t},f[\"default\"].FILTER_TYPE.NUMBER)}},{key:\"onChangeComparator\",value:function(e){var t=this.refs.numberFilter.value,r=e.target.value;\"\"!==t&&this.props.filterHandler({number:t,comparator:r},f[\"default\"].FILTER_TYPE.NUMBER)}},{key:\"getComparatorOptions\",value:function(){var e=[];e.push(u[\"default\"].createElement(\"option\",{key:\"-1\"}));for(var t=0;t<this.numberComparators.length;t++)e.push(u[\"default\"].createElement(\"option\",{key:t,value:this.numberComparators[t]},this.numberComparators[t]));return e}},{key:\"getNumberOptions\",value:function(){var e=[],t=this.props.options;e.push(u[\"default\"].createElement(\"option\",{key:\"-1\",value:\"\"},this.props.placeholder||\"Select \"+this.props.columnName+\"...\"));for(var r=0;r<t.length;r++)e.push(u[\"default\"].createElement(\"option\",{key:r,value:t[r]},t[r]));return e}},{key:\"componentDidMount\",value:function(){var e=this.refs.numberFilterComparator.value,t=this.refs.numberFilter.value;e&&t&&this.props.filterHandler({number:t,comparator:e},f[\"default\"].FILTER_TYPE.NUMBER)}},{key:\"componentWillUnmount\",value:function(){clearTimeout(this.timeout)}},{key:\"render\",value:function(){var e=(0,c[\"default\"])(\"select-filter\",\"number-filter-input\",\"form-control\",{\"placeholder-selected\":this.state.isPlaceholderSelected});return u[\"default\"].createElement(\"div\",{className:\"filter number-filter\"},u[\"default\"].createElement(\"select\",{ref:\"numberFilterComparator\",className:\"number-filter-comparator form-control\",onChange:this.onChangeComparator,defaultValue:this.props.defaultValue?this.props.defaultValue.comparator:\"\"},this.getComparatorOptions()),this.props.options?u[\"default\"].createElement(\"select\",{ref:\"numberFilter\",className:e,onChange:this.onChangeNumberSet,defaultValue:this.props.defaultValue?this.props.defaultValue.number:\"\"},this.getNumberOptions()):u[\"default\"].createElement(\"input\",{ref:\"numberFilter\",type:\"number\",className:\"number-filter-input form-control\",placeholder:this.props.placeholder||\"Enter \"+this.props.columnName+\"...\",onChange:this.onChangeNumber,defaultValue:this.props.defaultValue?this.props.defaultValue.number:\"\"}))}}]),t}(l.Component);y.propTypes={filterHandler:l.PropTypes.func.isRequired,options:l.PropTypes.arrayOf(l.PropTypes.number),defaultValue:l.PropTypes.shape({number:l.PropTypes.number,comparator:l.PropTypes.oneOf(h)}),delay:l.PropTypes.number,numberComparators:function(e,t){if(e[t])for(var r=0;r<e[t].length;r++){for(var o=!1,n=0;n<h.length;n++)if(h[n]===e[t][r]){o=!0;break}if(!o)return new Error(\"Number comparator provided is not supported.\\n          Use only \"+h)}},placeholder:l.PropTypes.string,columnName:l.PropTypes.string},y.defaultProps={delay:f[\"default\"].FILTER_DELAY},t[\"default\"]=y,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(2),c=o(p),d=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.filter=this.filter.bind(this),this.timeout=null}return a(t,e),i(t,[{key:\"filter\",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout);var r=e.target.value;this.timeout=setTimeout(function(){t.props.filterHandler(r,c[\"default\"].FILTER_TYPE.REGEX)},this.props.delay)}},{key:\"componentDidMount\",value:function(){var e=this.refs.inputText.value;e&&this.props.filterHandler(e,c[\"default\"].FILTER_TYPE.REGEX)}},{key:\"componentWillUnmount\",value:function(){clearTimeout(this.timeout)}},{key:\"render\",value:function(){var e=this.props,t=e.defaultValue,r=e.placeholder,o=e.columnName;return u[\"default\"].createElement(\"input\",{ref:\"inputText\",className:\"filter text-filter form-control\",type:\"text\",onChange:this.filter,placeholder:r||\"Enter Regex for \"+o+\"...\",defaultValue:t?t:\"\"})}}]),t}(l.Component);d.propTypes={filterHandler:l.PropTypes.func.isRequired,defaultValue:l.PropTypes.string,delay:l.PropTypes.number,placeholder:l.PropTypes.string,columnName:l.PropTypes.string},d.defaultProps={delay:c[\"default\"].FILTER_DELAY},t[\"default\"]=d,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(3),c=o(p),d=r(2),f=o(d),h=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.filter=this.filter.bind(this),this.state={isPlaceholderSelected:void 0===this.props.defaultValue||!this.props.options.hasOwnProperty(this.props.defaultValue)}}return a(t,e),i(t,[{key:\"filter\",value:function(e){var t=e.target.value;this.setState({isPlaceholderSelected:\"\"===t}),this.props.filterHandler(t,f[\"default\"].FILTER_TYPE.SELECT)}},{key:\"getOptions\",value:function(){var e=[],t=this.props,r=t.options,o=t.placeholder,n=t.columnName;return e.push(u[\"default\"].createElement(\"option\",{key:\"-1\",value:\"\"},o||\"Select \"+n+\"...\")),Object.keys(r).map(function(t){e.push(u[\"default\"].createElement(\"option\",{key:t,value:t},r[t]))}),e}},{key:\"componentDidMount\",value:function(){var e=this.refs.selectInput.value;e&&this.props.filterHandler(e,f[\"default\"].FILTER_TYPE.SELECT)}},{key:\"render\",value:function(){var e=(0,c[\"default\"])(\"filter\",\"select-filter\",\"form-control\",{\"placeholder-selected\":this.state.isPlaceholderSelected});return u[\"default\"].createElement(\"select\",{ref:\"selectInput\",className:e,onChange:this.filter,defaultValue:void 0!==this.props.defaultValue?this.props.defaultValue:\"\"},this.getOptions())}}]),t}(l.Component);h.propTypes={filterHandler:l.PropTypes.func.isRequired,options:l.PropTypes.object.isRequired,placeholder:l.PropTypes.string,columnName:l.PropTypes.string},t[\"default\"]=h,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(2),c=o(p),d=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.filter=this.filter.bind(this),this.timeout=null}return a(t,e),i(t,[{key:\"filter\",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout);var r=e.target.value;this.timeout=setTimeout(function(){t.props.filterHandler(r,c[\"default\"].FILTER_TYPE.TEXT)},this.props.delay)}},{key:\"componentDidMount\",value:function(){var e=this.refs.inputText.value;e&&this.props.filterHandler(e,c[\"default\"].FILTER_TYPE.TEXT)}},{key:\"componentWillUnmount\",value:function(){clearTimeout(this.timeout)}},{key:\"render\",value:function(){var e=this.props,t=e.placeholder,r=e.columnName,o=e.defaultValue;return u[\"default\"].createElement(\"input\",{ref:\"inputText\",className:\"filter text-filter form-control\",type:\"text\",onChange:this.filter,placeholder:t||\"Enter \"+r+\"...\",defaultValue:o?o:\"\"})}}]),t}(l.Component);d.propTypes={filterHandler:l.PropTypes.func.isRequired,defaultValue:l.PropTypes.string,delay:l.PropTypes.number,placeholder:l.PropTypes.string,columnName:l.PropTypes.string},d.defaultProps={delay:c[\"default\"].FILTER_DELAY},t[\"default\"]=d,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(3),c=o(p),d=function(e){function t(e){var r=this;n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.pageBtnClick=function(e){e.preventDefault(),r.props.changePage(e.currentTarget.textContent)}}return a(t,e),i(t,[{key:\"render\",value:function(){var e=(0,c[\"default\"])({active:this.props.active,disabled:this.props.disable,hidden:this.props.hidden});return u[\"default\"].createElement(\"li\",{className:e},u[\"default\"].createElement(\"a\",{href:\"#\",onClick:this.pageBtnClick},this.props.children))}}]),t}(l.Component);d.propTypes={changePage:l.PropTypes.func,active:l.PropTypes.bool,disable:l.PropTypes.bool,hidden:l.PropTypes.bool,children:l.PropTypes.node},t[\"default\"]=d,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(27),c=o(p),d=r(2),f=o(d),h=function(e){function t(){var e=this;n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).apply(this,arguments),this.changePage=function(t){var r=e.props,o=r.prePage,n=r.currPage,a=r.nextPage,i=r.lastPage,s=r.firstPage,l=r.sizePerPage;t=t===o?1>n-1?1:n-1:t===a?n+1>e.totalPages?e.totalPages:n+1:t===i?e.totalPages:t===s?1:parseInt(t,10),t!==n&&e.props.changePage(t,l)},this.changeSizePerPage=function(t){t.preventDefault();var r=parseInt(t.currentTarget.text,10),o=e.props.currPage;r!==e.props.sizePerPage&&(e.totalPages=Math.ceil(e.props.dataSize/r),o>e.totalPages&&(o=e.totalPages),e.props.changePage(o,r),e.props.onSizePerPageList&&e.props.onSizePerPageList(r))}}return a(t,e),i(t,[{key:\"render\",value:function(){var e=this,t=this.props,r=t.currPage,o=t.dataSize,n=t.sizePerPage,a=t.sizePerPageList,i=t.paginationShowsTotal;this.totalPages=Math.ceil(o/n);var s=this.makePage(),l={\"float\":\"right\",marginTop:\"0px\"},p=a.map(function(t){return u[\"default\"].createElement(\"li\",{key:t,role:\"presentation\"},u[\"default\"].createElement(\"a\",{role:\"menuitem\",tabIndex:\"-1\",href:\"#\",onClick:e.changeSizePerPage},t))}),c=i?u[\"default\"].createElement(\"span\",null,\"Showing rows \",(r-1)*n+1,\" to\",Math.min(r*n,o),\" of\",o):null;return u[\"default\"].createElement(\"div\",{className:\"row\",style:{marginTop:15}},a.length>1?u[\"default\"].createElement(\"div\",null,u[\"default\"].createElement(\"div\",{className:\"col-md-6\"},c,\" \",u[\"default\"].createElement(\"span\",{className:\"dropdown\"},u[\"default\"].createElement(\"button\",{className:\"btn btn-default dropdown-toggle\",type:\"button\",id:\"pageDropDown\",\"data-toggle\":\"dropdown\",\"aria-expanded\":\"true\"},n,u[\"default\"].createElement(\"span\",null,\" \",u[\"default\"].createElement(\"span\",{className:\"caret\"}))),u[\"default\"].createElement(\"ul\",{className:\"dropdown-menu\",role:\"menu\",\"aria-labelledby\":\"pageDropDown\"},p))),u[\"default\"].createElement(\"div\",{className:\"col-md-6\"},u[\"default\"].createElement(\"ul\",{className:\"pagination\",style:l},s))):u[\"default\"].createElement(\"div\",null,u[\"default\"].createElement(\"div\",{className:\"col-md-6\"},c),u[\"default\"].createElement(\"div\",{className:\"col-md-6\"},u[\"default\"].createElement(\"ul\",{className:\"pagination\",style:l},s))))}},{key:\"makePage\",value:function(){var e=this.getPages();return e.map(function(e){var t=e===this.props.currPage,r=!1,o=!1;return 1!==this.props.currPage||e!==this.props.firstPage&&e!==this.props.prePage||(r=!0,o=!0),this.props.currPage!==this.totalPages||e!==this.props.nextPage&&e!==this.props.lastPage||(r=!0,o=!0),u[\"default\"].createElement(c[\"default\"],{key:e,changePage:this.changePage,active:t,disable:r,hidden:o},e)},this)}},{key:\"getPages\",value:function(){var e=void 0,t=1,r=this.totalPages;t=Math.max(this.props.currPage-Math.floor(this.props.paginationSize/2),1),r=t+this.props.paginationSize-1,r>this.totalPages&&(r=this.totalPages,t=r-this.props.paginationSize+1),e=1!==t&&this.totalPages>this.props.paginationSize?[this.props.firstPage,this.props.prePage]:this.totalPages>1?[this.props.prePage]:[];for(var o=t;r>=o;o++)o>0&&e.push(o);return r!==this.totalPages?(e.push(this.props.nextPage),e.push(this.props.lastPage)):this.totalPages>1&&e.push(this.props.nextPage),e}}]),t}(l.Component);h.propTypes={currPage:l.PropTypes.number,sizePerPage:l.PropTypes.number,dataSize:l.PropTypes.number,changePage:l.PropTypes.func,sizePerPageList:l.PropTypes.array,paginationShowsTotal:l.PropTypes.bool,paginationSize:l.PropTypes.number,remote:l.PropTypes.bool,onSizePerPageList:l.PropTypes.func,prePage:l.PropTypes.string},h.defaultProps={sizePerPage:f[\"default\"].SIZE_PER_PAGE},t[\"default\"]=h,e.exports=t[\"default\"]},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t,r,o,n){r=r.toLowerCase();var a=r===l[\"default\"].SORT_DESC;return e.sort(function(e,i){return o?o(e,i,r,t,n):a?null===i[t]?!1:null===e[t]?!0:\"string\"==typeof i[t]?i[t].localeCompare(e[t]):e[t]>i[t]?-1:e[t]<i[t]?1:0:null===i[t]?!0:null===e[t]?!1:\"string\"==typeof e[t]?e[t].localeCompare(i[t]):e[t]<i[t]?-1:e[t]>i[t]?1:0}),e}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=r(2),l=o(s),u=function(){function e(t){n(this,e),this.data=t,this.colInfos=null,this.filteredData=null,this.isOnFilter=!1,this.filterObj=null,this.searchText=null,this.sortObj=null,this.pageObj={},this.selected=[],this.multiColumnSearch=!1,this.showOnlySelected=!1,this.remote=!1}return i(e,[{key:\"setProps\",value:function(e){this.keyField=e.keyField,this.enablePagination=e.isPagination,this.colInfos=e.colInfos,this.remote=e.remote,this.multiColumnSearch=e.multiColumnSearch}},{key:\"setData\",value:function(e){this.data=e,this.remote||this._refresh()}},{key:\"getColInfos\",value:function(){return this.colInfos}},{key:\"getSortInfo\",value:function(){return this.sortObj}},{key:\"setSortInfo\",value:function(e,t){this.sortObj={order:e,sortField:t}}},{key:\"setSelectedRowKey\",value:function(e){this.selected=e}},{key:\"getSelectedRowKeys\",value:function(){return this.selected}},{key:\"getCurrentDisplayData\",value:function(){return this.isOnFilter?this.filteredData:this.data}},{key:\"_refresh\",value:function(){this.isOnFilter&&(null!==this.filterObj&&this.filter(this.filterObj),null!==this.searchText&&this.search(this.searchText)),this.sortObj&&this.sort(this.sortObj.order,this.sortObj.sortField)}},{key:\"ignoreNonSelected\",value:function(){var e=this;this.showOnlySelected=!this.showOnlySelected,this.showOnlySelected?(this.isOnFilter=!0,this.filteredData=this.data.filter(function(t){var r=e.selected.find(function(r){return t[e.keyField]===r});return\"undefined\"!=typeof r?!0:!1})):this.isOnFilter=!1}},{key:\"sort\",value:function(e,t){this.setSortInfo(e,t);var r=this.getCurrentDisplayData();if(!this.colInfos[t])return this;var o=this.colInfos[t],n=o.sortFunc,i=o.sortFuncExtraData;return r=a(r,t,e,n,i),this}},{key:\"page\",value:function(e,t){return this.pageObj.end=e*t-1,this.pageObj.start=this.pageObj.end-(t-1),this}},{key:\"edit\",value:function(e,t,r){var o=this.getCurrentDisplayData(),n=void 0;return this.enablePagination?(o[this.pageObj.start+t][r]=e,n=o[this.pageObj.start+t][this.keyField]):(o[t][r]=e,n=o[t][this.keyField]),this.isOnFilter&&(this.data.forEach(function(t){t[this.keyField]===n&&(t[r]=e)},this),null!==this.filterObj&&this.filter(this.filterObj),null!==this.searchText&&this.search(this.searchText)),this}},{key:\"addAtBegin\",value:function(e){if(!e[this.keyField]||\"\"===e[this.keyField].toString())throw this.keyField+\" can't be empty value.\";var t=this.getCurrentDisplayData();t.forEach(function(t){if(t[this.keyField].toString()===e[this.keyField].toString())throw this.keyField+\" \"+e[this.keyField]+\" already exists\"},this),t.unshift(e),this.isOnFilter&&this.data.unshift(e),this._refresh()}},{key:\"add\",value:function(e){if(!e[this.keyField]||\"\"===e[this.keyField].toString())throw this.keyField+\" can't be empty value.\";var t=this.getCurrentDisplayData();t.forEach(function(t){if(t[this.keyField].toString()===e[this.keyField].toString())throw this.keyField+\" \"+e[this.keyField]+\" already exists\"},this),t.push(e),this.isOnFilter&&this.data.push(e),this._refresh()}},{key:\"remove\",value:function(e){var t=this,r=this.getCurrentDisplayData(),o=r.filter(function(r){return-1===e.indexOf(r[t.keyField])});this.isOnFilter?(this.data=this.data.filter(function(r){return-1===e.indexOf(r[t.keyField])}),this.filteredData=o):this.data=o}},{key:\"filter\",value:function(e){var t=this;0===Object.keys(e).length?(this.filteredData=null,this.isOnFilter=!1,this.filterObj=null,null!==this.searchText&&this.search(this.searchText)):(this.filterObj=e,this.filteredData=this.data.filter(function(r){var o=!0,n=void 0;for(var a in e){var i=r[a];if(null===i)return!1;switch(e[a].type){case l[\"default\"].FILTER_TYPE.NUMBER:n=e[a].value.number;break;case l[\"default\"].FILTER_TYPE.CUSTOM:n=\"object\"==typeof e[a].value?void 0:\"string\"==typeof e[a].value?e[a].value.toLowerCase():e[a].value;break;case l[\"default\"].FILTER_TYPE.DATE:n=e[a].value.date;break;case l[\"default\"].FILTER_TYPE.REGEX:n=e[a].value;break;default:n=\"string\"==typeof e[a].value?e[a].value.toLowerCase():e[a].value,void 0===n&&(n=e[a].toLowerCase())}if(t.colInfos[a]){var s=t.colInfos[a],u=s.format,p=s.filterFormatted,c=s.formatExtraData;p&&u&&(i=u(r[a],r,c))}switch(e[a].type){case l[\"default\"].FILTER_TYPE.NUMBER:o=t.filterNumber(i,n,e[a].value.comparator);break;case l[\"default\"].FILTER_TYPE.DATE:o=t.filterDate(i,n,e[a].value.comparator);break;case l[\"default\"].FILTER_TYPE.REGEX:o=t.filterRegex(i,n);break;case l[\"default\"].FILTER_TYPE.CUSTOM:o=t.filterCustom(i,n,e[a].value);break;default:o=t.filterText(i,n)}if(!o)break}return o}),this.isOnFilter=!0)}},{key:\"filterNumber\",value:function(e,t,r){var o=!0;switch(r){case\"=\":e!=t&&(o=!1);break;case\">\":t>=e&&(o=!1);break;case\">=\":t>e&&(o=!1);break;case\"<\":e>=t&&(o=!1);break;case\"<=\":e>t&&(o=!1);break;case\"!=\":e==t&&(o=!1);break;default:console.error(\"Number comparator provided is not supported\")}return o}},{key:\"filterDate\",value:function(e,t,r){var o=!0;switch(r){case\"=\":e!=t&&(o=!1);break;case\">\":t>=e&&(o=!1);break;case\">=\":t>e&&(o=!1);break;case\"<\":e>=t&&(o=!1);break;case\"<=\":e>t&&(o=!1);break;case\"!=\":e==t&&(o=!1);break;default:console.error(\"Date comparator provided is not supported\")}return o}},{key:\"filterRegex\",value:function(e,t){try{return new RegExp(t,\"i\").test(e)}catch(r){return console.error(\"Invalid regular expression\"),!0}}},{key:\"filterCustom\",value:function(e,t,r){return null!==r&&\"object\"==typeof r?r.callback(e,r.callbackParameters):this.filterText(e,t)}},{key:\"filterText\",value:function(e,t){return-1===e.toString().toLowerCase().indexOf(t)?!1:!0}},{key:\"search\",value:function(e){var t=this;\"\"===e.trim()?(this.filteredData=null,this.isOnFilter=!1,this.searchText=null,null!==this.filterObj&&this.filter(this.filterObj)):!function(){t.searchText=e;var r=[];t.multiColumnSearch?r=e.split(\" \"):r.push(e);var o=null!==t.filterObj?t.filter(t.filterObj):t.data;t.filteredData=o.filter(function(e){for(var o=Object.keys(e),n=!1,a=0,i=o.length;i>a;a++){var s=o[a];if(t.colInfos[s]&&e[s]){var l=t.colInfos[s],u=l.format,p=l.filterFormatted,c=l.formatExtraData,d=l.searchable,f=e[s];if(d){p&&u&&(f=u(f,e,c));for(var h=0,y=r.length;y>h;h++){var v=r[h].toLowerCase();if(-1!==f.toString().toLowerCase().indexOf(v)){n=!0;break}}}}}return n}),t.isOnFilter=!0}()}},{key:\"getDataIgnoringPagination\",value:function(){return this.getCurrentDisplayData()}},{key:\"get\",value:function(){var e=this.getCurrentDisplayData();if(0===e.length)return e;if(this.remote||!this.enablePagination)return e;for(var t=[],r=this.pageObj.start;r<=this.pageObj.end&&(t.push(e[r]),r+1!==e.length);r++);return t}},{key:\"getKeyField\",value:function(){return this.keyField}},{key:\"getDataNum\",value:function(){return this.getCurrentDisplayData().length}},{key:\"isChangedPage\",value:function(){return this.pageObj.start&&this.pageObj.end?!0:!1}},{key:\"isEmpty\",value:function(){return 0===this.data.length||null===this.data||void 0===this.data}},{key:\"getAllRowkey\",value:function(){var e=this;return this.data.map(function(t){return t[e.keyField]})}}]),e}();t.TableDataStore=u},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=a,r=i,o=!0,s=u=void 0}},l=r(1),u=o(l),p=r(3),c=o(p),d=r(2),f=o(d),h=r(7),y=o(h),v=r(8),m=o(v),g=function(e){function t(e){var r=this,o=arguments;n(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e),this.handleSaveBtnClick=function(){var e=r.checkAndParseForm();if(e){var t=r.props.onAddRow(e);t?(r.refs.notifier.notice(\"error\",t,\"Pressed ESC can cancel\"),r.clearTimeout(),r.setState({shakeEditor:!0,validateState:\"this is hack for prevent bootstrap modal hide\"}),r.timeouteClear=setTimeout(function(){r.setState({shakeEditor:!1})},300)):(r.setState({validateState:null,shakeEditor:!1},function(){document.querySelector(\".modal-backdrop\").click(),document.querySelector(\".\"+r.modalClassName).click()}),r.refs.form.reset())}},this.handleShowOnlyToggle=function(){r.setState({showSelected:!r.state.showSelected}),r.props.onShowOnlySelected()},this.handleDropRowBtnClick=function(){r.props.onDropRow()},this.handleDebounce=function(e,t,n){var a=void 0;return function(){var i=function(){a=null,n||e.apply(r,o)},s=n&&!a;clearTimeout(a),a=setTimeout(i,t||0),s&&e.appy(r,o)}},this.handleKeyUp=function(e){e.persist(),r.debounceCallback(e)},this.handleExportCSV=function(){r.props.onExportCSV()},this.handleClearBtnClick=function(){r.refs.seachInput.value=\"\",r.props.onSearch(\"\")},this.timeouteClear=0,this.modalClassName,this.state={isInsertRowTrigger:!0,validateState:null,shakeEditor:!1,showSelected:!1}}return a(t,e),i(t,null,[{key:\"modalSeq\",value:0,enumerable:!0}]),i(t,[{key:\"componentWillMount\",value:function(){var e=this,t=this.props.searchDelayTime?this.props.searchDelayTime:0;this.debounceCallback=this.handleDebounce(function(){e.props.onSearch(e.refs.seachInput.value)},t)}},{key:\"componentWillUnmount\",value:function(){this.clearTimeout()}},{key:\"clearTimeout\",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.timeouteClear&&(clearTimeout(this.timeouteClear),this.timeouteClear=0)})},{key:\"checkAndParseForm\",value:function(){var e=this,t={},r={},o=!0,n=void 0,a=void 0;return this.props.columns.forEach(function(e,i){if(e.autoValue){var s=(new Date).getTime();n=\"function\"==typeof e.autoValue?e.autoValue():\"autovalue-\"+s}else{var l=this.refs[e.field+i];if(n=l.value,e.editable&&\"checkbox\"===e.editable.type){var u=n.split(\":\");n=l.checked?u[0]:u[1]}e.editable&&e.editable.validator&&(a=e.editable.validator(n),a!==!0&&(o=!1,r[e.field]=a))}t[e.field]=n},this),o?t:(this.clearTimeout(),this.setState({validateState:r,shakeEditor:!0}),this.refs.notifier.notice(\"error\",\"Form validate errors, please checking!\",\"Pressed ESC can cancel\"),this.timeouteClear=setTimeout(function(){e.setState({shakeEditor:!1})},300),null)}},{key:\"handleCloseBtn\",value:function(){this.refs.warning.style.display=\"none\"}},{key:\"render\",value:function(){this.modalClassName=\"bs-table-modal-sm\"+t.modalSeq++;var e=null,r=null,o=null,n=null;this.props.enableInsert&&(e=u[\"default\"].createElement(\"button\",{type:\"button\",className:\"btn btn-info react-bs-table-add-btn\",\"data-toggle\":\"modal\",\"data-target\":\".\"+this.modalClassName},u[\"default\"].createElement(\"i\",{className:\"glyphicon glyphicon-plus\"}),\" \",this.props.insertText)),this.props.enableDelete&&(r=u[\"default\"].createElement(\"button\",{type:\"button\",className:\"btn btn-warning react-bs-table-del-btn\",\"data-toggle\":\"tooltip\",\"data-placement\":\"right\",title:\"Drop selected row\",onClick:this.handleDropRowBtnClick},u[\"default\"].createElement(\"i\",{className:\"glyphicon glyphicon-trash\"}),\" \",this.props.deleteText)),this.props.enableShowOnlySelected&&(n=u[\"default\"].createElement(\"button\",{type:\"button\",onClick:this.handleShowOnlyToggle,className:\"btn btn-primary\",\"data-toggle\":\"button\",\"aria-pressed\":\"false\"},this.state.showSelected?f[\"default\"].SHOW_ALL:f[\"default\"].SHOW_ONLY_SELECT)),this.props.enableExportCSV&&(o=u[\"default\"].createElement(\"button\",{type:\"button\",className:\"btn btn-success\",onClick:this.handleExportCSV},u[\"default\"].createElement(\"i\",{className:\"glyphicon glyphicon-export\"}),this.props.exportCSVText));var a=this.renderSearchPanel(),i=this.props.enableInsert?this.renderInsertRowModal():null;return u[\"default\"].createElement(\"div\",{className:\"row\"},u[\"default\"].createElement(\"div\",{className:\"col-xs-12 col-sm-6 col-md-6 col-lg-8\"},u[\"default\"].createElement(\"div\",{className:\"btn-group btn-group-sm\",role:\"group\"},o,e,r,n)),u[\"default\"].createElement(\"div\",{className:\"col-xs-12 col-sm-6 col-md-6 col-lg-4\"\n},a),u[\"default\"].createElement(m[\"default\"],{ref:\"notifier\"}),i)}},{key:\"renderSearchPanel\",value:function(){if(this.props.enableSearch){var e=\"form-group form-group-sm react-bs-table-search-form\",t=null;return this.props.clearSearch&&(t=u[\"default\"].createElement(\"span\",{className:\"input-group-btn\"},u[\"default\"].createElement(\"button\",{className:\"btn btn-default\",type:\"button\",onClick:this.handleClearBtnClick},\"Clear\")),e+=\" input-group input-group-sm\"),u[\"default\"].createElement(\"div\",{className:e},u[\"default\"].createElement(\"input\",{ref:\"seachInput\",className:\"form-control\",type:\"text\",placeholder:this.props.searchPlaceholder?this.props.searchPlaceholder:\"Search\",onKeyUp:this.handleKeyUp}),t)}return null}},{key:\"renderInsertRowModal\",value:function(){var e=this,t=this.state.validateState||{},r=this.state.shakeEditor,o=this.props.columns.map(function(r,o){var n=r.editable,a=r.format,i=r.field,s=r.name,l=r.autoValue,p={ref:i+o,placeholder:n.placeholder?n.placeholder:s};if(l)return null;var c=t[i]?u[\"default\"].createElement(\"span\",{className:\"help-block bg-danger\"},t[i]):null;return u[\"default\"].createElement(\"div\",{className:\"form-group\",key:i},u[\"default\"].createElement(\"label\",null,s),(0,y[\"default\"])(n,p,a,\"\",void 0,e.props.ignoreEditable),c)}),n=(0,c[\"default\"])(\"modal\",\"fade\",this.modalClassName,{\"in\":r||this.state.validateState}),a=(0,c[\"default\"])(\"modal-dialog\",\"modal-sm\",{animated:r,shake:r});return u[\"default\"].createElement(\"div\",{ref:\"modal\",className:n,tabIndex:\"-1\",role:\"dialog\"},u[\"default\"].createElement(\"div\",{className:a},u[\"default\"].createElement(\"div\",{className:\"modal-content\"},u[\"default\"].createElement(\"div\",{className:\"modal-header\"},u[\"default\"].createElement(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},u[\"default\"].createElement(\"span\",{\"aria-hidden\":\"true\"},\"\")),u[\"default\"].createElement(\"h4\",{className:\"modal-title\"},\"New Record\")),u[\"default\"].createElement(\"div\",{className:\"modal-body\"},u[\"default\"].createElement(\"form\",{ref:\"form\"},o)),u[\"default\"].createElement(\"div\",{className:\"modal-footer\"},u[\"default\"].createElement(\"button\",{type:\"button\",className:\"btn btn-default\",\"data-dismiss\":\"modal\"},\"Close\"),u[\"default\"].createElement(\"button\",{type:\"button\",className:\"btn btn-info\",onClick:this.handleSaveBtnClick},\"Save\")))))}}]),t}(l.Component);g.propTypes={onAddRow:l.PropTypes.func,onDropRow:l.PropTypes.func,onShowOnlySelected:l.PropTypes.func,enableInsert:l.PropTypes.bool,enableDelete:l.PropTypes.bool,enableSearch:l.PropTypes.bool,enableShowOnlySelected:l.PropTypes.bool,columns:l.PropTypes.array,searchPlaceholder:l.PropTypes.string,exportCSVText:l.PropTypes.string,insertText:l.PropTypes.string,deleteText:l.PropTypes.string,clearSearch:l.PropTypes.bool,ignoreEditable:l.PropTypes.bool},g.defaultProps={enableInsert:!1,enableDelete:!1,enableSearch:!1,enableShowOnlySelected:!1,clearSearch:!1,ignoreEditable:!1,exportCSVText:f[\"default\"].EXPORT_CSV_TEXT,insertText:f[\"default\"].INSERT_BTN_TEXT,deleteText:f[\"default\"].DELETE_BTN_TEXT},t[\"default\"]=g,e.exports=t[\"default\"]},function(e,t,r){var o,n,a=a||function(e){\"use strict\";if(\"undefined\"==typeof navigator||!/MSIE [1-9]\\./.test(navigator.userAgent)){var t=e.document,r=function(){return e.URL||e.webkitURL||e},o=t.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),n=\"download\"in o,a=function(e){var t=new MouseEvent(\"click\");e.dispatchEvent(t)},i=/Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent),s=e.webkitRequestFileSystem,l=e.requestFileSystem||s||e.mozRequestFileSystem,u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},p=\"application/octet-stream\",c=0,d=500,f=function(t){var o=function(){\"string\"==typeof t?r().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,d)},h=function(e,t,r){t=[].concat(t);for(var o=t.length;o--;){var n=e[\"on\"+t[o]];if(\"function\"==typeof n)try{n.call(e,r||e)}catch(a){u(a)}}},y=function(e){return/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(e.type)?new Blob([\"\\ufeff\",e],{type:e.type}):e},v=function(t,u,d){d||(t=y(t));var v,m,g,b=this,T=t.type,E=!1,P=function(){h(b,\"writestart progress write writeend\".split(\" \"))},_=function(){if(m&&i&&\"undefined\"!=typeof FileReader){var o=new FileReader;return o.onloadend=function(){var e=o.result;m.location.href=\"data:attachment/file\"+e.slice(e.search(/[,;]/)),b.readyState=b.DONE,P()},o.readAsDataURL(t),void(b.readyState=b.INIT)}if((E||!v)&&(v=r().createObjectURL(t)),m)m.location.href=v;else{var n=e.open(v,\"_blank\");void 0==n&&i&&(e.location.href=v)}b.readyState=b.DONE,P(),f(v)},w=function(e){return function(){return b.readyState!==b.DONE?e.apply(this,arguments):void 0}},O={create:!0,exclusive:!1};return b.readyState=b.INIT,u||(u=\"download\"),n?(v=r().createObjectURL(t),o.href=v,o.download=u,void setTimeout(function(){a(o),P(),f(v),b.readyState=b.DONE})):(e.chrome&&T&&T!==p&&(g=t.slice||t.webkitSlice,t=g.call(t,0,t.size,p),E=!0),s&&\"download\"!==u&&(u+=\".download\"),(T===p||s)&&(m=e),l?(c+=t.size,void l(e.TEMPORARY,c,w(function(e){e.root.getDirectory(\"saved\",O,w(function(e){var r=function(){e.getFile(u,O,w(function(e){e.createWriter(w(function(r){r.onwriteend=function(t){m.location.href=e.toURL(),b.readyState=b.DONE,h(b,\"writeend\",t),f(e)},r.onerror=function(){var e=r.error;e.code!==e.ABORT_ERR&&_()},\"writestart progress write abort\".split(\" \").forEach(function(e){r[\"on\"+e]=b[\"on\"+e]}),r.write(t),b.abort=function(){r.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),_)}),_)};e.getFile(u,{create:!1},w(function(e){e.remove(),r()}),w(function(e){e.code===e.NOT_FOUND_ERR?r():_()}))}),_)}),_)):void _())},m=v.prototype,g=function(e,t,r){return new v(e,t,r)};return\"undefined\"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return r||(e=y(e)),navigator.msSaveOrOpenBlob(e,t||\"download\")}:(m.abort=function(){var e=this;e.readyState=e.DONE,h(e,\"abort\")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||(void 0).content);\"undefined\"!=typeof e&&e.exports?e.exports.saveAs=a:null!==r(44)&&null!=r(45)&&(o=[],n=function(){return a}.apply(t,o),!(void 0!==n&&(e.exports=n)))},function(e,t,r){(function(t){\"use strict\";var o=r(33),n={addClass:function(e,r){return/\\s/.test(r)?\"production\"!==t.env.NODE_ENV?o(!1,'CSSCore.addClass takes only a single class name. \"%s\" contains multiple classes.',r):o(!1):void 0,r&&(e.classList?e.classList.add(r):n.hasClass(e,r)||(e.className=e.className+\" \"+r)),e},removeClass:function(e,r){return/\\s/.test(r)?\"production\"!==t.env.NODE_ENV?o(!1,'CSSCore.removeClass takes only a single class name. \"%s\" contains multiple classes.',r):o(!1):void 0,r&&(e.classList?e.classList.remove(r):n.hasClass(e,r)&&(e.className=e.className.replace(new RegExp(\"(^|\\\\s)\"+r+\"(?:\\\\s|$)\",\"g\"),\"$1\").replace(/\\s+/g,\" \").replace(/^\\s*|\\s*$/g,\"\"))),e},conditionClass:function(e,t,r){return(r?n.addClass:n.removeClass)(e,t)},hasClass:function(e,r){return/\\s/.test(r)?\"production\"!==t.env.NODE_ENV?o(!1,\"CSS.hasClass takes only a single class name.\"):o(!1):void 0,e.classList?!!r&&e.classList.contains(r):(\" \"+e.className+\" \").indexOf(\" \"+r+\" \")>-1}};e.exports=n}).call(t,r(4))},function(e,t,r){(function(t){\"use strict\";function r(e,r,o,n,a,i,s,l){if(\"production\"!==t.env.NODE_ENV&&void 0===r)throw new Error(\"invariant requires an error message argument\");if(!e){var u;if(void 0===r)u=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var p=[o,n,a,i,s,l],c=0;u=new Error(r.replace(/%s/g,function(){return p[c++]})),u.name=\"Invariant Violation\"}throw u.framesToPop=1,u}}e.exports=r}).call(t,r(4))},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();Object.defineProperty(t,\"__esModule\",{value:!0});var p=r(1),c=o(p),d=r(10),f=o(d),h=r(9),y=o(h),v=function(e){function t(){var e,r,o,n;a(this,t);for(var s=arguments.length,l=Array(s),u=0;s>u;u++)l[u]=arguments[u];return r=o=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={toasts:[],toastId:0,previousMessage:null},n=r,i(o,n)}return s(t,e),u(t,[{key:\"error\",value:function(e,t,r){this._notify(this.props.toastType.error,e,t,r)}},{key:\"info\",value:function(e,t,r){this._notify(this.props.toastType.info,e,t,r)}},{key:\"success\",value:function(e,t,r){this._notify(this.props.toastType.success,e,t,r)}},{key:\"warning\",value:function(e,t,r){this._notify(this.props.toastType.warning,e,t,r)}},{key:\"clear\",value:function(){var e=this;Object.keys(this.refs).forEach(function(t){e.refs[t].hideToast(!1)})}},{key:\"render\",value:function(){var e=this;return c[\"default\"].createElement(\"div\",l({},this.props,{\"aria-live\":\"polite\",role:\"alert\"}),this.state.toasts.map(function(t){return e.props.toastMessageFactory(t)}))}},{key:\"_notify\",value:function(e,t,r){var o=this,a=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];if(!this.props.preventDuplicates||this.state.previousMessage!==t){var i=this.state.toastId++,s=i,l=(0,f[\"default\"])(a,{$merge:{type:e,title:r,message:t,toastId:s,key:i,ref:\"toasts__\"+i,handleOnClick:function(e){return\"function\"==typeof a.handleOnClick&&a.handleOnClick(),o._handle_toast_on_click(e)},handleRemove:this._handle_toast_remove.bind(this)}}),u=n({},\"\"+(this.props.newestOnTop?\"$unshift\":\"$push\"),[l]),p=(0,f[\"default\"])(this.state,{toasts:u,previousMessage:{$set:t}});this.setState(p)}}},{key:\"_handle_toast_on_click\",value:function(e){this.props.onClick(e),e.defaultPrevented||(e.preventDefault(),e.stopPropagation())}},{key:\"_handle_toast_remove\",value:function(e){var t=this,r=\"\"+(this.props.newestOnTop?\"reduceRight\":\"reduce\");this.state.toasts[r](function(r,o,n){return r||o.toastId!==e?!1:(t.setState((0,f[\"default\"])(t.state,{toasts:{$splice:[[n,1]]}})),!0)},!1)}}]),t}(p.Component);v.defaultProps={toastType:{error:\"error\",info:\"info\",success:\"success\",warning:\"warning\"},id:\"toast-container\",toastMessageFactory:c[\"default\"].createFactory(y[\"default\"]),preventDuplicates:!1,newestOnTop:!0,onClick:function(){}},t[\"default\"]=v},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(32),a=o(n),i=r(39),s=o(i),l=r(6),u=o(l),p=17,c=Object.prototype.toString;t[\"default\"]={getDefaultProps:function(){return{transition:null,showAnimation:\"animated bounceIn\",hideAnimation:\"animated bounceOut\",timeOut:5e3,extendedTimeOut:1e3}},componentWillMount:function(){this.classNameQueue=[],this.isHiding=!1,this.intervalId=null},componentDidMount:function(){var e=this;this._is_mounted=!0,this._show();var t=u[\"default\"].findDOMNode(this),r=function o(){e.isHiding&&(e._set_is_hiding(!1),s[\"default\"].removeEndEventListener(t,o),e._handle_remove())};s[\"default\"].addEndEventListener(t,r),this.props.timeOut>0&&this._set_interval_id(setTimeout(this.hideToast,this.props.timeOut))},componentWillUnmount:function(){this._is_mounted=!1,this.intervalId&&clearTimeout(this.intervalId)},_set_transition:function(e){var t=e?\"leave\":\"enter\",r=u[\"default\"].findDOMNode(this),o=this.props.transition+\"-\"+t,n=o+\"-active\",i=function l(e){e&&e.target!==r||(a[\"default\"].removeClass(r,o),a[\"default\"].removeClass(r,n),s[\"default\"].removeEndEventListener(r,l))};s[\"default\"].addEndEventListener(r,i),a[\"default\"].addClass(r,o),this._queue_class(n)},_clear_transition:function(e){var t=u[\"default\"].findDOMNode(this),r=e?\"leave\":\"enter\",o=this.props.transition+\"-\"+r,n=o+\"-active\";a[\"default\"].removeClass(t,o),a[\"default\"].removeClass(t,n)},_set_animation:function(e){var t=u[\"default\"].findDOMNode(this),r=this._get_animation_classes(e),o=function n(e){e&&e.target!==t||(r.forEach(function(e){a[\"default\"].removeClass(t,e)}),s[\"default\"].removeEndEventListener(t,n))};s[\"default\"].addEndEventListener(t,o),r.forEach(function(e){a[\"default\"].addClass(t,e)})},_get_animation_classes:function(e){var t=e?this.props.hideAnimation:this.props.showAnimation;return\"[object Array]\"===c.call(t)?t:\"string\"==typeof t?t.split(\" \"):void 0},_clear_animation:function(e){var t=this,r=this._get_animation_classes(e);r.forEach(function(e){a[\"default\"].removeClass(u[\"default\"].findDOMNode(t),e)})},_queue_class:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this._flush_class_name_queue,p))},_flush_class_name_queue:function(){this._is_mounted&&this.classNameQueue.forEach(a[\"default\"].addClass.bind(a[\"default\"],u[\"default\"].findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},_show:function(){this.props.transition?this._set_transition():this.props.showAnimation&&this._set_animation()},handleMouseEnter:function(){clearTimeout(this.intervalId),this._set_interval_id(null),this.isHiding&&(this._set_is_hiding(!1),this.props.hideAnimation?this._clear_animation(!0):this.props.transition&&this._clear_transition(!0))},handleMouseLeave:function(){!this.isHiding&&(this.props.timeOut>0||this.props.extendedTimeOut>0)&&this._set_interval_id(setTimeout(this.hideToast,this.props.extendedTimeOut))},hideToast:function(e){this.isHiding||null===this.intervalId&&!e||(this._set_is_hiding(!0),this.props.transition?this._set_transition(!0):this.props.hideAnimation?this._set_animation(!0):this._handle_remove())},_set_interval_id:function(e){this.intervalId=e},_set_is_hiding:function(e){this.isHiding=e}}},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function n(e,t){e[t.showMethod]({duration:t.showDuration,easing:t.showEasing})}Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(6),i=o(a);t[\"default\"]={getDefaultProps:function(){return{style:{display:\"none\"},showMethod:\"fadeIn\",showDuration:300,showEasing:\"swing\",hideMethod:\"fadeOut\",hideDuration:1e3,hideEasing:\"swing\",timeOut:5e3,extendedTimeOut:1e3}},getInitialState:function(){return{intervalId:null,isHiding:!1}},componentDidMount:function(){n(this._get_$_node(),this.props),this.props.timeOut>0&&this._set_interval_id(setTimeout(this.hideToast,this.props.timeOut))},handleMouseEnter:function(){clearTimeout(this.state.intervalId),this._set_interval_id(null),this._set_is_hiding(!1),n(this._get_$_node().stop(!0,!0),this.props)},handleMouseLeave:function(){!this.state.isHiding&&(this.props.timeOut>0||this.props.extendedTimeOut>0)&&this._set_interval_id(setTimeout(this.hideToast,this.props.extendedTimeOut))},hideToast:function(e){this.state.isHiding||null===this.state.intervalId&&!e||(this.setState({isHiding:!0}),this._get_$_node()[this.props.hideMethod]({duration:this.props.hideDuration,easing:this.props.hideEasing,complete:this._handle_remove}))},_get_$_node:function(){return jQuery(i[\"default\"].findDOMNode(this))},_set_interval_id:function(e){this.setState({intervalId:e})},_set_is_hiding:function(e){this.setState({isHiding:e})}}},function(e,t,r){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.ToastMessage=t.ToastContainer=void 0;var n=r(34),a=o(n),i=r(9),s=o(i);t.ToastContainer=a[\"default\"],t.ToastMessage=s[\"default\"]},function(e,t){\"use strict\";function r(e,t){if(null==e)throw new TypeError(\"Object.assign target cannot be null or undefined\");for(var r=Object(e),o=Object.prototype.hasOwnProperty,n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a){var i=Object(a);for(var s in i)o.call(i,s)&&(r[s]=i[s])}}return r}e.exports=r},function(e,t,r){\"use strict\";function o(){var e=document.createElement(\"div\"),t=e.style;\"AnimationEvent\"in window||delete s.animationend.animation,\"TransitionEvent\"in window||delete s.transitionend.transition;for(var r in s){var o=s[r];for(var n in o)if(n in t){l.push(o[n]);break}}}function n(e,t,r){e.addEventListener(t,r,!1)}function a(e,t,r){e.removeEventListener(t,r,!1)}var i=r(41),s={transitionend:{transition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"mozTransitionEnd\",OTransition:\"oTransitionEnd\",msTransition:\"MSTransitionEnd\"},animationend:{animation:\"animationend\",WebkitAnimation:\"webkitAnimationEnd\",MozAnimation:\"mozAnimationEnd\",OAnimation:\"oAnimationEnd\",msAnimation:\"MSAnimationEnd\"}},l=[];i.canUseDOM&&o();var u={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(r){n(e,r,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(r){a(e,r,t)})}};e.exports=u},function(e,t,r){(function(t){\"use strict\";function o(e){return Array.isArray(e)?e.concat():e&&\"object\"==typeof e?i(new e.constructor,e):e}function n(e,r,o){Array.isArray(e)?void 0:\"production\"!==t.env.NODE_ENV?l(!1,\"update(): expected target of %s to be an array; got %s.\",o,e):l(!1);var n=r[o];Array.isArray(n)?void 0:\"production\"!==t.env.NODE_ENV?l(!1,\"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?\",o,n):l(!1)}function a(e,r){if(\"object\"!=typeof r?\"production\"!==t.env.NODE_ENV?l(!1,\"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?\",v.join(\", \"),f):l(!1):void 0,u.call(r,f))return 1!==Object.keys(r).length?\"production\"!==t.env.NODE_ENV?l(!1,\"Cannot have more than one key in an object with %s\",f):l(!1):void 0,r[f];var s=o(e);if(u.call(r,h)){var g=r[h];g&&\"object\"==typeof g?void 0:\"production\"!==t.env.NODE_ENV?l(!1,\"update(): %s expects a spec of type 'object'; got %s\",h,g):l(!1),s&&\"object\"==typeof s?void 0:\"production\"!==t.env.NODE_ENV?l(!1,\"update(): %s expects a target of type 'object'; got %s\",h,s):l(!1),i(s,r[h])}u.call(r,p)&&(n(e,r,p),r[p].forEach(function(e){s.push(e)})),u.call(r,c)&&(n(e,r,c),r[c].forEach(function(e){s.unshift(e)})),u.call(r,d)&&(Array.isArray(e)?void 0:\"production\"!==t.env.NODE_ENV?l(!1,\"Expected %s target to be an array; got %s\",d,e):l(!1),Array.isArray(r[d])?void 0:\"production\"!==t.env.NODE_ENV?l(!1,\"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?\",d,r[d]):l(!1),r[d].forEach(function(e){Array.isArray(e)?void 0:\"production\"!==t.env.NODE_ENV?l(!1,\"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?\",d,r[d]):l(!1),s.splice.apply(s,e)})),u.call(r,y)&&(\"function\"!=typeof r[y]?\"production\"!==t.env.NODE_ENV?l(!1,\"update(): expected spec of %s to be a function; got %s.\",y,r[y]):l(!1):void 0,s=r[y](s));for(var b in r)m.hasOwnProperty(b)&&m[b]||(s[b]=a(e[b],r[b]));return s}var i=r(38),s=r(43),l=r(42),u={}.hasOwnProperty,p=s({$push:null}),c=s({$unshift:null}),d=s({$splice:null}),f=s({$set:null}),h=s({$merge:null}),y=s({$apply:null}),v=[p,c,d,f,h,y],m={};v.forEach(function(e){m[e]=!0}),e.exports=a}).call(t,r(4))},function(e,t){\"use strict\";var r=!(\"undefined\"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:\"undefined\"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,r){(function(t){\"use strict\";function r(e,r,o,n,a,i,s,l){if(\"production\"!==t.env.NODE_ENV&&void 0===r)throw new Error(\"invariant requires an error message argument\");if(!e){var u;if(void 0===r)u=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var p=[o,n,a,i,s,l],c=0;u=new Error(r.replace(/%s/g,function(){return p[c++]})),u.name=\"Invariant Violation\"}throw u.framesToPop=1,u}}e.exports=r}).call(t,r(4))},function(e,t){\"use strict\";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=r},function(e,t){e.exports=function(){throw new Error(\"define cannot be used indirect\")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return\"function\"==typeof e}function n(e){return\"number\"==typeof e}function a(e){return\"object\"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!n(e)||0>e||isNaN(e))throw TypeError(\"n must be a positive number\");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,n,s,l,u;if(this._events||(this._events={}),\"error\"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified \"error\" event.')}if(r=this._events[e],i(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(a(r))for(s=Array.prototype.slice.call(arguments,1),u=r.slice(),n=u.length,l=0;n>l;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",e,o(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[e].length),\"function\"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError(\"listener must be a function\");var n=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,n,i,s;if(!o(t))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||o(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\"removeListener\",e,t);else if(a(r)){for(s=i;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit(\"removeListener\",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\"removeListener\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(r=this._events[e],o(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}}])});//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1ib290c3RyYXAtdGFibGUvZGlzdC9yZWFjdC1ib290c3RyYXAtdGFibGUubWluLmpzPzMyMjYiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlKFwicmVhY3RcIikscmVxdWlyZShcInJlYWN0LWRvbVwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJyZWFjdFwiLFwicmVhY3QtZG9tXCJdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuUmVhY3RCb290c3RyYXBUYWJsZT10KHJlcXVpcmUoXCJyZWFjdFwiKSxyZXF1aXJlKFwicmVhY3QtZG9tXCIpKTplLlJlYWN0Qm9vdHN0cmFwVGFibGU9dChlLlJlYWN0LGUuUmVhY3RET00pfSh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobyl7aWYocltvXSlyZXR1cm4gcltvXS5leHBvcnRzO3ZhciBuPXJbb109e2V4cG9ydHM6e30saWQ6byxsb2FkZWQ6ITF9O3JldHVybiBlW29dLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLHQpLG4ubG9hZGVkPSEwLG4uZXhwb3J0c312YXIgcj17fTtyZXR1cm4gdC5tPWUsdC5jPXIsdC5wPVwiXCIsdCgwKX0oW2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49cigxMSksYT1vKG4pLGk9cigxOSkscz1vKGkpO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuQm9vdHN0cmFwVGFibGU9YVtcImRlZmF1bHRcIl0sd2luZG93LlRhYmxlSGVhZGVyQ29sdW1uPXNbXCJkZWZhdWx0XCJdKSx0LkJvb3RzdHJhcFRhYmxlPWFbXCJkZWZhdWx0XCJdLHQuVGFibGVIZWFkZXJDb2x1bW49c1tcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQscil7dC5leHBvcnRzPWV9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdFtcImRlZmF1bHRcIl09e1NPUlRfREVTQzpcImRlc2NcIixTT1JUX0FTQzpcImFzY1wiLFNJWkVfUEVSX1BBR0U6MTAsTkVYVF9QQUdFOlwiPlwiLExBU1RfUEFHRTpcIj4+XCIsUFJFX1BBR0U6XCI8XCIsRklSU1RfUEFHRTpcIjw8XCIsUk9XX1NFTEVDVF9CR19DT0xPUjpcIlwiLFJPV19TRUxFQ1RfTk9ORTpcIm5vbmVcIixST1dfU0VMRUNUX1NJTkdMRTpcInJhZGlvXCIsUk9XX1NFTEVDVF9NVUxUSTpcImNoZWNrYm94XCIsQ0VMTF9FRElUX05PTkU6XCJub25lXCIsQ0VMTF9FRElUX0NMSUNLOlwiY2xpY2tcIixDRUxMX0VESVRfREJDTElDSzpcImRiY2xpY2tcIixTSVpFX1BFUl9QQUdFX0xJU1Q6WzEwLDI1LDMwLDUwXSxQQUdJTkFUSU9OX1NJWkU6NSxOT19EQVRBX1RFWFQ6XCJUaGVyZSBpcyBubyBkYXRhIHRvIGRpc3BsYXlcIixTSE9XX09OTFlfU0VMRUNUOlwiU2hvdyBTZWxlY3RlZCBPbmx5XCIsU0hPV19BTEw6XCJTaG93IEFsbFwiLEVYUE9SVF9DU1ZfVEVYVDpcIkV4cG9ydCB0byBDU1ZcIixJTlNFUlRfQlROX1RFWFQ6XCJOZXdcIixERUxFVEVfQlROX1RFWFQ6XCJEZWxldGVcIixGSUxURVJfREVMQVk6NTAwLEZJTFRFUl9UWVBFOntURVhUOlwiVGV4dEZpbHRlclwiLFJFR0VYOlwiUmVnZXhGaWx0ZXJcIixTRUxFQ1Q6XCJTZWxlY3RGaWx0ZXJcIixOVU1CRVI6XCJOdW1iZXJGaWx0ZXJcIixEQVRFOlwiRGF0ZUZpbHRlclwiLENVU1RPTTpcIkN1c3RvbUZpbHRlclwifX0sZS5leHBvcnRzPXRbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbihlLHQscil7dmFyIG8sbjsvKiFcblx0ICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cblx0ICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuXHQgIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcblx0Ki9cbiFmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBvPWFyZ3VtZW50c1t0XTtpZihvKXt2YXIgbj10eXBlb2YgbztpZihcInN0cmluZ1wiPT09bnx8XCJudW1iZXJcIj09PW4pZS5wdXNoKG8pO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShvKSllLnB1c2goci5hcHBseShudWxsLG8pKTtlbHNlIGlmKFwib2JqZWN0XCI9PT1uKWZvcih2YXIgaSBpbiBvKWEuY2FsbChvLGkpJiZvW2ldJiZlLnB1c2goaSl9fXJldHVybiBlLmpvaW4oXCIgXCIpfXZhciBhPXt9Lmhhc093blByb3BlcnR5O1widW5kZWZpbmVkXCIhPXR5cGVvZiBlJiZlLmV4cG9ydHM/ZS5leHBvcnRzPXI6KG89W10sbj1mdW5jdGlvbigpe3JldHVybiByfS5hcHBseSh0LG8pLCEodm9pZCAwIT09biYmKGUuZXhwb3J0cz1uKSkpfSgpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt1PSExLGkubGVuZ3RoP2w9aS5jb25jYXQobCk6cD0tMSxsLmxlbmd0aCYmbygpfWZ1bmN0aW9uIG8oKXtpZighdSl7dmFyIGU9c2V0VGltZW91dChyKTt1PSEwO2Zvcih2YXIgdD1sLmxlbmd0aDt0Oyl7Zm9yKGk9bCxsPVtdOysrcDx0OylpJiZpW3BdLnJ1bigpO3A9LTEsdD1sLmxlbmd0aH1pPW51bGwsdT0hMSxjbGVhclRpbWVvdXQoZSl9fWZ1bmN0aW9uIG4oZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBhKCl7fXZhciBpLHM9ZS5leHBvcnRzPXt9LGw9W10sdT0hMSxwPS0xO3MubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtsLnB1c2gobmV3IG4oZSx0KSksMSE9PWwubGVuZ3RofHx1fHxzZXRUaW1lb3V0KG8sMCl9LG4ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LHMudGl0bGU9XCJicm93c2VyXCIscy5icm93c2VyPSEwLHMuZW52PXt9LHMuYXJndj1bXSxzLnZlcnNpb249XCJcIixzLnZlcnNpb25zPXt9LHMub249YSxzLmFkZExpc3RlbmVyPWEscy5vbmNlPWEscy5vZmY9YSxzLnJlbW92ZUxpc3RlbmVyPWEscy5yZW1vdmVBbGxMaXN0ZW5lcnM9YSxzLmVtaXQ9YSxzLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHMuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LHMuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxzLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksYT1vKG4pLGk9cigyKSxzPW8oaSksbD1yKDMpLHU9byhsKTt0W1wiZGVmYXVsdFwiXT17cmVuZGVyUmVhY3RTb3J0Q2FyZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9KDAsdVtcImRlZmF1bHRcIl0pKFwib3JkZXJcIix7ZHJvcHVwOmU9PT1zW1wiZGVmYXVsdFwiXS5TT1JUX0FTQ30pO3JldHVybiBhW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6dH0sYVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY2FyZXRcIixzdHlsZTp7bWFyZ2luOlwiMTBweCA1cHhcIn19KSl9LGdldFNjcm9sbEJhcldpZHRoOmZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7ZS5zdHlsZS53aWR0aD1cIjEwMCVcIixlLnN0eWxlLmhlaWdodD1cIjIwMHB4XCI7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0LnN0eWxlLnRvcD1cIjBweFwiLHQuc3R5bGUubGVmdD1cIjBweFwiLHQuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLHQuc3R5bGUud2lkdGg9XCIyMDBweFwiLHQuc3R5bGUuaGVpZ2h0PVwiMTUwcHhcIix0LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdC5hcHBlbmRDaGlsZChlKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpO3ZhciByPWUub2Zmc2V0V2lkdGg7dC5zdHlsZS5vdmVyZmxvdz1cInNjcm9sbFwiO3ZhciBvPWUub2Zmc2V0V2lkdGg7cmV0dXJuIHI9PT1vJiYobz10LmNsaWVudFdpZHRoKSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQpLHItb30sY2FuVXNlRE9NOmZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdy5kb2N1bWVudH19LGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSxyKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBvIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbykmJihlW29dPXJbb10pfXJldHVybiBlfSxhPXIoMSksaT1vKGEpLHM9ZnVuY3Rpb24oZSx0LHIsbyxhLHMpe2lmKGU9PT0hMHx8ZT09PSExJiZzfHxcInN0cmluZ1wiPT10eXBlb2YgZSl7dmFyIGw9ZT9cInRleHRcIjplO3JldHVybiBpW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIixuKHt9LHQse3R5cGU6bCxkZWZhdWx0VmFsdWU6YSxjbGFzc05hbWU6KG98fFwiXCIpK1wiIGZvcm0tY29udHJvbCBlZGl0b3IgZWRpdC10ZXh0XCJ9KSl9aWYoIWUpe3ZhciBsPWU/XCJ0ZXh0XCI6ZTtyZXR1cm4gaVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImlucHV0XCIsbih7fSx0LHt0eXBlOmwsZGVmYXVsdFZhbHVlOmEsZGlzYWJsZWQ6XCJkaXNhYmxlZFwiLGNsYXNzTmFtZToob3x8XCJcIikrXCIgZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LXRleHRcIn0pKX1pZihlJiYodm9pZCAwPT09ZS50eXBlfHxudWxsPT09ZS50eXBlfHxcIlwiPT09ZS50eXBlLnRyaW0oKSkpe3ZhciBsPWU/XCJ0ZXh0XCI6ZTtyZXR1cm4gaVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImlucHV0XCIsbih7fSx0LHt0eXBlOmwsZGVmYXVsdFZhbHVlOmEsY2xhc3NOYW1lOihvfHxcIlwiKStcIiBmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtdGV4dFwifSkpfWlmKGUudHlwZSl7aWYoZS5zdHlsZSYmKHQuc3R5bGU9ZS5zdHlsZSksdC5jbGFzc05hbWU9KG98fFwiXCIpK1wiIGZvcm0tY29udHJvbCBlZGl0b3IgZWRpdC1cIitlLnR5cGUrKGUuY2xhc3NOYW1lP1wiIFwiK2UuY2xhc3NOYW1lOlwiXCIpLFwic2VsZWN0XCI9PT1lLnR5cGUpe3ZhciB1PVtdLHA9ZS5vcHRpb25zLnZhbHVlcztyZXR1cm4gQXJyYXkuaXNBcnJheShwKSYmIWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwO3U9cC5tYXAoZnVuY3Rpb24odCxvKXtyZXR1cm4gZT1yP3IodCk6dCxpW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIse2tleTpcIm9wdGlvblwiK28sdmFsdWU6dH0sZSl9KX0oKSxpW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsbih7fSx0LHtkZWZhdWx0VmFsdWU6YX0pLHUpfWlmKFwidGV4dGFyZWFcIiE9PWUudHlwZSl7aWYoXCJjaGVja2JveFwiPT09ZS50eXBlKXt2YXIgcD1cInRydWU6ZmFsc2VcIjtlLm9wdGlvbnMmJmUub3B0aW9ucy52YWx1ZXMmJihwPWUub3B0aW9ucy52YWx1ZXMpLHQuY2xhc3NOYW1lPXQuY2xhc3NOYW1lLnJlcGxhY2UoXCJmb3JtLWNvbnRyb2xcIixcIlwiKSx0LmNsYXNzTmFtZSs9XCIgY2hlY2tib3ggcHVsbC1yaWdodFwiO3ZhciBjPWEmJmEudG9TdHJpbmcoKT09PXAuc3BsaXQoXCI6XCIpWzBdPyEwOiExO3JldHVybiBpW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIixuKHt9LHQse3R5cGU6XCJjaGVja2JveFwiLHZhbHVlOnAsZGVmYXVsdENoZWNrZWQ6Y30pKX1yZXR1cm4gaVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImlucHV0XCIsbih7fSx0LHt0eXBlOlwidGV4dFwiLGRlZmF1bHRWYWx1ZTphfSkpfXZhciBkPWZ1bmN0aW9uKCl7ZS5jb2xzJiYodC5jb2xzPWUuY29scyksZS5yb3dzJiYodC5yb3dzPWUucm93cyk7dmFyIHI9dm9pZCAwLG89dC5vbktleURvd247cmV0dXJuIG8mJih0Lm9uS2V5RG93bj1mdW5jdGlvbihlKXsxMyE9PWUua2V5Q29kZSYmbyhlKX0scj1pW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIse2NsYXNzTmFtZTpcImJ0biBidG4taW5mbyBidG4teHMgdGV4dGFyZWEtc2F2ZS1idG5cIixvbkNsaWNrOm99LFwic2F2ZVwiKSkse3Y6aVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLG51bGwsaVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIsbih7fSx0LHtkZWZhdWx0VmFsdWU6YX0pKSxyKX19KCk7aWYoXCJvYmplY3RcIj09dHlwZW9mIGQpcmV0dXJuIGQudn1yZXR1cm4gaVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImlucHV0XCIsbih7fSx0LHt0eXBlOlwidGV4dFwiLGNsYXNzTmFtZToob3x8XCJcIikrXCIgZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LXRleHRcIn0pKX07dFtcImRlZmF1bHRcIl09cyxlLmV4cG9ydHM9dFtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQscixvKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxvJiZlKHQsbyksdH19KCkscz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPSEwO287KXt2YXIgbj1lLGE9dCxpPXI7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgcz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sYSk7aWYodm9pZCAwIT09cyl7aWYoXCJ2YWx1ZVwiaW4gcylyZXR1cm4gcy52YWx1ZTt2YXIgbD1zLmdldDtpZih2b2lkIDA9PT1sKXJldHVybjtyZXR1cm4gbC5jYWxsKGkpfXZhciB1PU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09dSlyZXR1cm47ZT11LHQ9YSxyPWksbz0hMCxzPXU9dm9pZCAwfX0sbD1yKDEpLHU9byhsKSxwPXIoMzcpLGM9dVtcImRlZmF1bHRcIl0uY3JlYXRlRmFjdG9yeShwLlRvYXN0TWVzc2FnZS5hbmltYXRpb24pLGQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe24odGhpcyx0KSxzKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksXCJjb25zdHJ1Y3RvclwiLHRoaXMpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gYSh0LGUpLGkodCxbe2tleTpcIm5vdGljZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLnJlZnMudG9hc3RyW2VdKHQscix7bW9kZTpcInNpbmdsZVwiLHRpbWVPdXQ6NWUzLGV4dGVuZGVkVGltZU91dDoxZTMsc2hvd0FuaW1hdGlvbjpcImFuaW1hdGVkICBib3VuY2VJblwiLGhpZGVBbmltYXRpb246XCJhbmltYXRlZCBib3VuY2VPdXRcIn0pfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQocC5Ub2FzdENvbnRhaW5lcix7cmVmOlwidG9hc3RyXCIsdG9hc3RNZXNzYWdlRmFjdG9yeTpjLGlkOlwidG9hc3QtY29udGFpbmVyXCIsY2xhc3NOYW1lOlwidG9hc3QtdG9wLXJpZ2h0XCJ9KX19XSksdH0obC5Db21wb25lbnQpO3RbXCJkZWZhdWx0XCJdPWQsZS5leHBvcnRzPXRbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIG4oKXt9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5qUXVlcnk9dC5hbmltYXRpb249dm9pZCAwO3ZhciBhPXIoMSksaT1vKGEpLHM9cigxMCksbD1vKHMpLHU9cigzKSxwPW8odSksYz1yKDM1KSxkPW8oYyksZj1yKDM2KSxoPW8oZikseT17ZGlzcGxheU5hbWU6XCJUb2FzdE1lc3NhZ2VcIixnZXREZWZhdWx0UHJvcHM6ZnVuY3Rpb24oKXt2YXIgZT17ZXJyb3I6XCJ0b2FzdC1lcnJvclwiLGluZm86XCJ0b2FzdC1pbmZvXCIsc3VjY2VzczpcInRvYXN0LXN1Y2Nlc3NcIix3YXJuaW5nOlwidG9hc3Qtd2FybmluZ1wifTtyZXR1cm57Y2xhc3NOYW1lOlwidG9hc3RcIixpY29uQ2xhc3NOYW1lczplLHRpdGxlQ2xhc3NOYW1lOlwidG9hc3QtdGl0bGVcIixtZXNzYWdlQ2xhc3NOYW1lOlwidG9hc3QtbWVzc2FnZVwiLHRhcFRvRGlzbWlzczohMCxjbG9zZUJ1dHRvbjohMX19LGhhbmRsZU9uQ2xpY2s6ZnVuY3Rpb24oZSl7dGhpcy5wcm9wcy5oYW5kbGVPbkNsaWNrKGUpLHRoaXMucHJvcHMudGFwVG9EaXNtaXNzJiZ0aGlzLmhpZGVUb2FzdCghMCl9LF9oYW5kbGVfY2xvc2VfYnV0dG9uX2NsaWNrOmZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5oaWRlVG9hc3QoITApfSxfaGFuZGxlX3JlbW92ZTpmdW5jdGlvbigpe3RoaXMucHJvcHMuaGFuZGxlUmVtb3ZlKHRoaXMucHJvcHMudG9hc3RJZCl9LF9yZW5kZXJfY2xvc2VfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMuY2xvc2VCdXR0b24/aVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLHtjbGFzc05hbWU6XCJ0b2FzdC1jbG9zZS1idXR0b25cIixyb2xlOlwiYnV0dG9uXCIsb25DbGljazp0aGlzLl9oYW5kbGVfY2xvc2VfYnV0dG9uX2NsaWNrLGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOntfX2h0bWw6XCImdGltZXM7XCJ9fSk6ITF9LF9yZW5kZXJfdGl0bGVfZWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLnRpdGxlP2lbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOnRoaXMucHJvcHMudGl0bGVDbGFzc05hbWV9LHRoaXMucHJvcHMudGl0bGUpOiExfSxfcmVuZGVyX21lc3NhZ2VfZWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLm1lc3NhZ2U/aVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6dGhpcy5wcm9wcy5tZXNzYWdlQ2xhc3NOYW1lfSx0aGlzLnByb3BzLm1lc3NhZ2UpOiExfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLmljb25DbGFzc05hbWV8fHRoaXMucHJvcHMuaWNvbkNsYXNzTmFtZXNbdGhpcy5wcm9wcy50eXBlXTtyZXR1cm4gaVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6KDAscFtcImRlZmF1bHRcIl0pKHRoaXMucHJvcHMuY2xhc3NOYW1lLGUpLHN0eWxlOnRoaXMucHJvcHMuc3R5bGUsb25DbGljazp0aGlzLmhhbmRsZU9uQ2xpY2ssb25Nb3VzZUVudGVyOnRoaXMuaGFuZGxlTW91c2VFbnRlcixvbk1vdXNlTGVhdmU6dGhpcy5oYW5kbGVNb3VzZUxlYXZlfSx0aGlzLl9yZW5kZXJfY2xvc2VfYnV0dG9uKCksdGhpcy5fcmVuZGVyX3RpdGxlX2VsZW1lbnQoKSx0aGlzLl9yZW5kZXJfbWVzc2FnZV9lbGVtZW50KCkpfX0sdj10LmFuaW1hdGlvbj1pW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcygoMCxsW1wiZGVmYXVsdFwiXSkoeSx7ZGlzcGxheU5hbWU6eyRzZXQ6XCJUb2FzdE1lc3NhZ2UuYW5pbWF0aW9uXCJ9LG1peGluczp7JHNldDpbZFtcImRlZmF1bHRcIl1dfX0pKSxtPXQualF1ZXJ5PWlbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKCgwLGxbXCJkZWZhdWx0XCJdKSh5LHtkaXNwbGF5TmFtZTp7JHNldDpcIlRvYXN0TWVzc2FnZS5qUXVlcnlcIn0sbWl4aW5zOnskc2V0OltoW1wiZGVmYXVsdFwiXV19fSkpO3kuaGFuZGxlTW91c2VFbnRlcj1uLHkuaGFuZGxlTW91c2VMZWF2ZT1uLHkuaGlkZVRvYXN0PW47dmFyIGc9aVtcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3MoeSk7Zy5hbmltYXRpb249dixnLmpRdWVyeT1tLHRbXCJkZWZhdWx0XCJdPWd9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig0MCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG8gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSl9cmV0dXJuIGV9LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG8pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG8mJmUodCxvKSx0fX0oKSxsPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPWUsYT10LGk9cjtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixhKTtpZih2b2lkIDAhPT1zKXtpZihcInZhbHVlXCJpbiBzKXJldHVybiBzLnZhbHVlO3ZhciBsPXMuZ2V0O2lmKHZvaWQgMD09PWwpcmV0dXJuO3JldHVybiBsLmNhbGwoaSl9dmFyIHU9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT11KXJldHVybjtlPXUsdD1hLHI9aSxvPSEwLHM9dT12b2lkIDB9fSx1PXIoMSkscD1vKHUpLGM9cigyKSxkPW8oYyksZj1yKDE4KSxoPW8oZikseT1yKDE0KSx2PW8oeSksbT1yKDI4KSxnPW8obSksYj1yKDMwKSxUPW8oYiksRT1yKDE3KSxQPW8oRSksXz1yKDI5KSx3PXIoNSksTz1vKHcpLFM9cigyMSksQz1vKFMpLGs9cigxMiksUj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7aWYobih0aGlzLHQpLGwoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMuaGFuZGxlU29ydD1mdW5jdGlvbihlLHQpe2lmKHIucHJvcHMub3B0aW9ucy5vblNvcnRDaGFuZ2UmJnIucHJvcHMub3B0aW9ucy5vblNvcnRDaGFuZ2UodCxlLHIucHJvcHMpLHIuaXNSZW1vdGVEYXRhU291cmNlKCkpcmV0dXJuIHZvaWQgci5zdG9yZS5zZXRTb3J0SW5mbyhlLHQpO3ZhciBvPXIuc3RvcmUuc29ydChlLHQpLmdldCgpO3Iuc2V0U3RhdGUoe2RhdGE6b30pfSx0aGlzLmhhbmRsZVBhZ2luYXRpb25EYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIG89ci5wcm9wcy5vcHRpb25zLm9uUGFnZUNoYW5nZTtpZihvJiZvKGUsdCksci5zZXRTdGF0ZSh7Y3VyclBhZ2U6ZSxzaXplUGVyUGFnZTp0fSksIXIuaXNSZW1vdGVEYXRhU291cmNlKCkpe3ZhciBuPXIuc3RvcmUucGFnZShlLHQpLmdldCgpO3Iuc2V0U3RhdGUoe2RhdGE6bn0pfX0sdGhpcy5oYW5kbGVNb3VzZUxlYXZlPWZ1bmN0aW9uKCl7ci5wcm9wcy5vcHRpb25zLm9uTW91c2VMZWF2ZSYmci5wcm9wcy5vcHRpb25zLm9uTW91c2VMZWF2ZSgpfSx0aGlzLmhhbmRsZU1vdXNlRW50ZXI9ZnVuY3Rpb24oKXtyLnByb3BzLm9wdGlvbnMub25Nb3VzZUVudGVyJiZyLnByb3BzLm9wdGlvbnMub25Nb3VzZUVudGVyKCl9LHRoaXMuaGFuZGxlUm93TW91c2VPdXQ9ZnVuY3Rpb24oZSx0KXtyLnByb3BzLm9wdGlvbnMub25Sb3dNb3VzZU91dCYmci5wcm9wcy5vcHRpb25zLm9uUm93TW91c2VPdXQoZSx0KX0sdGhpcy5oYW5kbGVSb3dNb3VzZU92ZXI9ZnVuY3Rpb24oZSx0KXtyLnByb3BzLm9wdGlvbnMub25Sb3dNb3VzZU92ZXImJnIucHJvcHMub3B0aW9ucy5vblJvd01vdXNlT3ZlcihlLHQpfSx0aGlzLmhhbmRsZVJvd0NsaWNrPWZ1bmN0aW9uKGUpe3IucHJvcHMub3B0aW9ucy5vblJvd0NsaWNrJiZyLnByb3BzLm9wdGlvbnMub25Sb3dDbGljayhlKX0sdGhpcy5oYW5kbGVTZWxlY3RBbGxSb3c9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQsbz1bXSxuPSEwO3IucHJvcHMuc2VsZWN0Um93Lm9uU2VsZWN0QWxsJiYobj1yLnByb3BzLnNlbGVjdFJvdy5vblNlbGVjdEFsbCh0LHQ/ci5zdG9yZS5nZXQoKTpbXSkpLChcInVuZGVmaW5lZFwiPT10eXBlb2Ygbnx8biE9PSExKSYmKHQmJihvPXIuc3RvcmUuZ2V0QWxsUm93a2V5KCkpLHIuc3RvcmUuc2V0U2VsZWN0ZWRSb3dLZXkobyksci5zZXRTdGF0ZSh7c2VsZWN0ZWRSb3dLZXlzOm99KSl9LHRoaXMuaGFuZGxlU2hvd09ubHlTZWxlY3RlZD1mdW5jdGlvbigpe3Iuc3RvcmUuaWdub3JlTm9uU2VsZWN0ZWQoKTt2YXIgZT12b2lkIDA7ZT1yLnByb3BzLnBhZ2luYXRpb24/ci5zdG9yZS5wYWdlKDEsci5zdGF0ZS5zaXplUGVyUGFnZSkuZ2V0KCk6ci5zdG9yZS5nZXQoKSxyLnNldFN0YXRlKHtkYXRhOmUsY3VyclBhZ2U6MX0pfSx0aGlzLmhhbmRsZVNlbGVjdFJvdz1mdW5jdGlvbihlLHQsbyl7dmFyIG49ITAsYT1yLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpLGk9ZVtyLnN0b3JlLmdldEtleUZpZWxkKCldLHM9ci5wcm9wcy5zZWxlY3RSb3c7cy5vblNlbGVjdCYmKG49cy5vblNlbGVjdChlLHQsbykpLChcInVuZGVmaW5lZFwiPT10eXBlb2Ygbnx8biE9PSExKSYmKHMubW9kZT09PWRbXCJkZWZhdWx0XCJdLlJPV19TRUxFQ1RfU0lOR0xFP2E9dD9baV06W106dD9hLnB1c2goaSk6YT1hLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gaSE9PWV9KSxyLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KGEpLHIuc2V0U3RhdGUoe3NlbGVjdGVkUm93S2V5czphfSkpfSx0aGlzLmhhbmRsZUFkZFJvdz1mdW5jdGlvbihlKXt2YXIgdD1yLnByb3BzLm9wdGlvbnMub25BZGRSb3c7aWYodCl7dmFyIG89ci5zdG9yZS5nZXRDb2xJbmZvcygpO3QoZSxvKX1pZihyLmlzUmVtb3RlRGF0YVNvdXJjZSgpKXJldHVybiByLnByb3BzLm9wdGlvbnMuYWZ0ZXJJbnNlcnRSb3cmJnIucHJvcHMub3B0aW9ucy5hZnRlckluc2VydFJvdyhlKSxudWxsO3RyeXtyLnN0b3JlLmFkZChlKX1jYXRjaChuKXtyZXR1cm4gbn1yLl9oYW5kbGVBZnRlckFkZGluZ1JvdyhlKX0sdGhpcy5nZXRQYWdlQnlSb3dLZXk9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5zdGF0ZS5zaXplUGVyUGFnZSxvPXIuc3RvcmUuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCksbj1yLnN0b3JlLmdldEtleUZpZWxkKCksYT1vLmZpbmRJbmRleChmdW5jdGlvbih0KXtyZXR1cm4gdFtuXT09PWV9KTtyZXR1cm4gYT4tMT9wYXJzZUludChhL3QsMTApKzE6YX0sdGhpcy5oYW5kbGVEcm9wUm93PWZ1bmN0aW9uKGUpe3ZhciB0PWU/ZTpyLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpO3QmJnQubGVuZ3RoPjAmJihyLnByb3BzLm9wdGlvbnMuaGFuZGxlQ29uZmlybURlbGV0ZVJvdz9yLnByb3BzLm9wdGlvbnMuaGFuZGxlQ29uZmlybURlbGV0ZVJvdyhmdW5jdGlvbigpe3IuZGVsZXRlUm93KHQpfSx0KTpjb25maXJtKFwiQXJlIHlvdSBzdXJlIHdhbnQgZGVsZXRlP1wiKSYmci5kZWxldGVSb3codCkpfSx0aGlzLmhhbmRsZUZpbHRlckRhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5wcm9wcy5vcHRpb25zLm9uRmlsdGVyQ2hhbmdlO2lmKHQpe3ZhciBvPXIuc3RvcmUuZ2V0Q29sSW5mb3MoKTt0KGUsbyl9aWYoci5zZXRTdGF0ZSh7Y3VyclBhZ2U6MX0pLHIuaXNSZW1vdGVEYXRhU291cmNlKCkpcmV0dXJuIHZvaWQoci5wcm9wcy5vcHRpb25zLmFmdGVyQ29sdW1uRmlsdGVyJiZyLnByb3BzLm9wdGlvbnMuYWZ0ZXJDb2x1bW5GaWx0ZXIoZSxyLnN0b3JlLmdldERhdGFJZ25vcmluZ1BhZ2luYXRpb24oKSkpO3Iuc3RvcmUuZmlsdGVyKGUpO3ZhciBuPXIuc3RvcmUuZ2V0U29ydEluZm8oKTtuJiZyLnN0b3JlLnNvcnQobi5vcmRlcixuLnNvcnRGaWVsZCk7dmFyIGE9dm9pZCAwO2lmKHIucHJvcHMucGFnaW5hdGlvbil7dmFyIGk9ci5zdGF0ZS5zaXplUGVyUGFnZTthPXIuc3RvcmUucGFnZSgxLGkpLmdldCgpfWVsc2UgYT1yLnN0b3JlLmdldCgpO3IucHJvcHMub3B0aW9ucy5hZnRlckNvbHVtbkZpbHRlciYmci5wcm9wcy5vcHRpb25zLmFmdGVyQ29sdW1uRmlsdGVyKGUsci5zdG9yZS5nZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCkpLHIuc2V0U3RhdGUoe2RhdGE6YX0pfSx0aGlzLmhhbmRsZUV4cG9ydENTVj1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9ci5wcm9wcy5vcHRpb25zLm9uRXhwb3J0VG9DU1Y7dCYmKGU9dCgpKTt2YXIgbz1bXTtyZXR1cm4gci5wcm9wcy5jaGlsZHJlbi5tYXAoZnVuY3Rpb24oZSl7ZS5wcm9wcy5oaWRkZW49PT0hMSYmby5wdXNoKGUucHJvcHMuZGF0YUZpZWxkKX0pLHIuaXNSZW1vdGVEYXRhU291cmNlKCk/dm9pZCgwLENbXCJkZWZhdWx0XCJdKShlLG8sci5wcm9wcy5jc3ZGaWxlTmFtZSk6KGU9ci5zdG9yZS5nZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCksdm9pZCgwLENbXCJkZWZhdWx0XCJdKShlLG8sci5wcm9wcy5jc3ZGaWxlTmFtZSkpfSx0aGlzLmhhbmRsZVNlYXJjaD1mdW5jdGlvbihlKXt2YXIgdD1yLnByb3BzLm9wdGlvbnMub25TZWFyY2hDaGFuZ2U7aWYodCl7dmFyIG89ci5zdG9yZS5nZXRDb2xJbmZvcygpO3QoZSxvLHIucHJvcHMubXVsdGlDb2x1bW5TZWFyY2gpfWlmKHIuc2V0U3RhdGUoe2N1cnJQYWdlOjF9KSxyLmlzUmVtb3RlRGF0YVNvdXJjZSgpKXJldHVybiB2b2lkKHIucHJvcHMub3B0aW9ucy5hZnRlclNlYXJjaCYmci5wcm9wcy5vcHRpb25zLmFmdGVyU2VhcmNoKGUsci5zdG9yZS5nZXREYXRhSWdub3JpbmdQYWdpbmF0aW9uKCkpKTtyLnN0b3JlLnNlYXJjaChlKTt2YXIgbj12b2lkIDA7aWYoci5wcm9wcy5wYWdpbmF0aW9uKXt2YXIgYT1yLnN0YXRlLnNpemVQZXJQYWdlO249ci5zdG9yZS5wYWdlKDEsYSkuZ2V0KCl9ZWxzZSBuPXIuc3RvcmUuZ2V0KCk7ci5wcm9wcy5vcHRpb25zLmFmdGVyU2VhcmNoJiZyLnByb3BzLm9wdGlvbnMuYWZ0ZXJTZWFyY2goZSxyLnN0b3JlLmdldERhdGFJZ25vcmluZ1BhZ2luYXRpb24oKSksci5zZXRTdGF0ZSh7ZGF0YTpufSl9LHRoaXMuX3Njcm9sbEhlYWRlcj1mdW5jdGlvbihlKXtyLnJlZnMuaGVhZGVyLnJlZnMuY29udGFpbmVyLnNjcm9sbExlZnQ9ZS5jdXJyZW50VGFyZ2V0LnNjcm9sbExlZnR9LHRoaXMuX2FkanVzdFRhYmxlPWZ1bmN0aW9uKCl7ci5fYWRqdXN0SGVhZGVyV2lkdGgoKSxyLl9hZGp1c3RIZWlnaHQoKX0sdGhpcy5fYWRqdXN0SGVhZGVyV2lkdGg9ZnVuY3Rpb24oKXt2YXIgZT1yLnJlZnMuaGVhZGVyLnJlZnMuaGVhZGVyLHQ9ci5yZWZzLmhlYWRlci5yZWZzLmNvbnRhaW5lcixvPXIucmVmcy5ib2R5LnJlZnMudGJvZHksbj1vLmNoaWxkTm9kZXNbMF0sYT10Lm9mZnNldFdpZHRoIT09by5wYXJlbnROb2RlLm9mZnNldFdpZHRoLGk9YT9PW1wiZGVmYXVsdFwiXS5nZXRTY3JvbGxCYXJXaWR0aCgpOjA7aWYobiYmci5zdG9yZS5nZXREYXRhTnVtKCkpZm9yKHZhciBzPW4uY2hpbGROb2RlcyxsPTA7bDxzLmxlbmd0aDtsKyspe3ZhciB1PXNbbF0scD1nZXRDb21wdXRlZFN0eWxlKHUpLGM9cGFyc2VGbG9hdChwLndpZHRoLnJlcGxhY2UoXCJweFwiLFwiXCIpKTtpZihyLmlzSUUpe3ZhciBkPXBhcnNlRmxvYXQocC5wYWRkaW5nTGVmdC5yZXBsYWNlKFwicHhcIixcIlwiKSksZj1wYXJzZUZsb2F0KHAucGFkZGluZ1JpZ2h0LnJlcGxhY2UoXCJweFwiLFwiXCIpKSxoPXBhcnNlRmxvYXQocC5ib3JkZXJSaWdodFdpZHRoLnJlcGxhY2UoXCJweFwiLFwiXCIpKSx5PXBhcnNlRmxvYXQocC5ib3JkZXJMZWZ0V2lkdGgucmVwbGFjZShcInB4XCIsXCJcIikpO2M9YytkK2YraCt5fXZhciB2PXMubGVuZ3RoLTE9PT1sP2k6MDswPj1jJiYoYz0xMjAsdS53aWR0aD1jK3YrXCJweFwiKTt2YXIgbT1jK3YrXCJweFwiO2UuY2hpbGROb2Rlc1tsXS5zdHlsZS53aWR0aD1tLGUuY2hpbGROb2Rlc1tsXS5zdHlsZS5taW5XaWR0aD1tfX0sdGhpcy5fYWRqdXN0SGVpZ2h0PWZ1bmN0aW9uKCl7LTE9PT1yLnByb3BzLmhlaWdodC5pbmRleE9mKFwiJVwiKSYmKHIucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLnN0eWxlLmhlaWdodD1wYXJzZUZsb2F0KHIucHJvcHMuaGVpZ2h0LDEwKS1yLnJlZnMuaGVhZGVyLnJlZnMuY29udGFpbmVyLm9mZnNldEhlaWdodCtcInB4XCIpfSx0aGlzLmlzSUU9ITEsdGhpcy5fYXR0YWNoQ2VsbEVkaXRGdW5jKCksT1tcImRlZmF1bHRcIl0uY2FuVXNlRE9NKCkmJih0aGlzLmlzSUU9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSx0aGlzLnN0b3JlPW5ldyBfLlRhYmxlRGF0YVN0b3JlKHRoaXMucHJvcHMuZGF0YS5zbGljZSgpKSx0aGlzLmluaXRUYWJsZSh0aGlzLnByb3BzKSx0aGlzLmZpbHRlciYmdGhpcy5maWx0ZXIub24oXCJvbkZpbHRlckNoYW5nZVwiLGZ1bmN0aW9uKGUpe3IuaGFuZGxlRmlsdGVyRGF0YShlKX0pLHRoaXMucHJvcHMuc2VsZWN0Um93JiZ0aGlzLnByb3BzLnNlbGVjdFJvdy5zZWxlY3RlZCl7dmFyIG89dGhpcy5wcm9wcy5zZWxlY3RSb3cuc2VsZWN0ZWQuc2xpY2UoKTt0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KG8pfXRoaXMuc3RhdGU9e2RhdGE6dGhpcy5nZXRUYWJsZURhdGEoKSxjdXJyUGFnZTp0aGlzLnByb3BzLm9wdGlvbnMucGFnZXx8MSxzaXplUGVyUGFnZTp0aGlzLnByb3BzLm9wdGlvbnMuc2l6ZVBlclBhZ2V8fGRbXCJkZWZhdWx0XCJdLlNJWkVfUEVSX1BBR0VfTElTVFswXSxzZWxlY3RlZFJvd0tleXM6dGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKX19cmV0dXJuIGEodCxlKSxzKHQsW3trZXk6XCJpbml0VGFibGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5rZXlGaWVsZCxvPVwic3RyaW5nXCI9PXR5cGVvZiByJiZyLmxlbmd0aDtpZihwW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGUuY2hpbGRyZW4sZnVuY3Rpb24oZSl7aWYoZS5wcm9wcy5pc0tleSl7aWYocil0aHJvd1wiRXJyb3IuIE11bHRpcGxlIGtleSBjb2x1bW4gYmUgZGV0ZWN0ZWQgaW4gVGFibGVIZWFkZXJDb2x1bW4uXCI7cj1lLnByb3BzLmRhdGFGaWVsZH1lLnByb3BzLmZpbHRlciYmKHQuZmlsdGVyfHwodC5maWx0ZXI9bmV3IGsuRmlsdGVyKSxlLnByb3BzLmZpbHRlci5lbWl0dGVyPXQuZmlsdGVyKX0pLHRoaXMuY29sSW5mb3M9dGhpcy5nZXRDb2x1bW5zRGVzY3JpcHRpb24oZSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdC5uYW1lXT10LGV9LHt9KSwhbyYmIXIpdGhyb3dcIkVycm9yLiBObyBhbnkga2V5IGNvbHVtbiBkZWZpbmVkIGluIFRhYmxlSGVhZGVyQ29sdW1uLlxcbiAgICAgICAgICAgIFVzZSAnaXNLZXk9e3RydWV9JyB0byBzcGVjaWZ5IGEgdW5pcXVlIGNvbHVtbiBhZnRlciB2ZXJzaW9uIDAuNS40LlwiO3RoaXMuc3RvcmUuc2V0UHJvcHMoe2lzUGFnaW5hdGlvbjplLnBhZ2luYXRpb24sa2V5RmllbGQ6cixjb2xJbmZvczp0aGlzLmNvbEluZm9zLG11bHRpQ29sdW1uU2VhcmNoOmUubXVsdGlDb2x1bW5TZWFyY2gscmVtb3RlOnRoaXMuaXNSZW1vdGVEYXRhU291cmNlKCl9KX19LHtrZXk6XCJnZXRUYWJsZURhdGFcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy5wcm9wcyxyPXQub3B0aW9ucyxvPXQucGFnaW5hdGlvbixuPXIuZGVmYXVsdFNvcnROYW1lfHxyLnNvcnROYW1lLGE9ci5kZWZhdWx0U29ydE9yZGVyfHxyLnNvcnRPcmRlcjtpZihuJiZhJiZ0aGlzLnN0b3JlLnNvcnQoYSxuKSxvKXt2YXIgaT12b2lkIDAscz12b2lkIDA7dGhpcy5zdG9yZS5pc0NoYW5nZWRQYWdlKCk/KHM9dGhpcy5zdGF0ZS5zaXplUGVyUGFnZSxpPXRoaXMuc3RhdGUuY3VyclBhZ2UpOihzPXIuc2l6ZVBlclBhZ2V8fGRbXCJkZWZhdWx0XCJdLlNJWkVfUEVSX1BBR0VfTElTVFswXSxpPXIucGFnZXx8MSksZT10aGlzLnN0b3JlLnBhZ2UoaSxzKS5nZXQoKX1lbHNlIGU9dGhpcy5zdG9yZS5nZXQoKTtyZXR1cm4gZX19LHtrZXk6XCJnZXRDb2x1bW5zRGVzY3JpcHRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmNoaWxkcmVuO3JldHVybiBwW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5tYXAodCxmdW5jdGlvbihlLHQpe3JldHVybntuYW1lOmUucHJvcHMuZGF0YUZpZWxkLGFsaWduOmUucHJvcHMuZGF0YUFsaWduLHNvcnQ6ZS5wcm9wcy5kYXRhU29ydCxmb3JtYXQ6ZS5wcm9wcy5kYXRhRm9ybWF0LGZvcm1hdEV4dHJhRGF0YTplLnByb3BzLmZvcm1hdEV4dHJhRGF0YSxmaWx0ZXJGb3JtYXR0ZWQ6ZS5wcm9wcy5maWx0ZXJGb3JtYXR0ZWQsZWRpdGFibGU6ZS5wcm9wcy5lZGl0YWJsZSxoaWRkZW46ZS5wcm9wcy5oaWRkZW4sc2VhcmNoYWJsZTplLnByb3BzLnNlYXJjaGFibGUsY2xhc3NOYW1lOmUucHJvcHMuY29sdW1uQ2xhc3NOYW1lLHdpZHRoOmUucHJvcHMud2lkdGgsdGV4dDplLnByb3BzLmNoaWxkcmVuLHNvcnRGdW5jOmUucHJvcHMuc29ydEZ1bmMsc29ydEZ1bmNFeHRyYURhdGE6ZS5wcm9wcy5zb3J0RnVuY0V4dHJhRGF0YSxpbmRleDp0fX0pfX0se2tleTpcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmluaXRUYWJsZShlKTt2YXIgdD1lLm9wdGlvbnMscj1lLnNlbGVjdFJvdzt0aGlzLnN0b3JlLnNldERhdGEoZS5kYXRhLnNsaWNlKCkpO3ZhciBvPXQucGFnZXx8dGhpcy5zdGF0ZS5jdXJyUGFnZTtpZih0aGlzLmlzUmVtb3RlRGF0YVNvdXJjZSgpKXRoaXMuc2V0U3RhdGUoe2RhdGE6ZS5kYXRhLnNsaWNlKCksY3VyclBhZ2U6b30pO2Vsc2V7dmFyIG49dC5zaXplUGVyUGFnZXx8dGhpcy5zdGF0ZS5zaXplUGVyUGFnZTshdC5wYWdlJiZvPj1NYXRoLmNlaWwoZS5kYXRhLmxlbmd0aC9uKSYmKG89MSk7dmFyIGE9dGhpcy5zdG9yZS5nZXRTb3J0SW5mbygpLGk9dC5zb3J0TmFtZXx8KGE/YS5zb3J0RmllbGQ6dm9pZCAwKSxzPXQuc29ydE9yZGVyfHwoYT9hLm9yZGVyOnZvaWQgMCk7aSYmcyYmdGhpcy5zdG9yZS5zb3J0KHMsaSk7dmFyIGw9dGhpcy5zdG9yZS5wYWdlKG8sbikuZ2V0KCk7dGhpcy5zZXRTdGF0ZSh7ZGF0YTpsLGN1cnJQYWdlOm8sc2l6ZVBlclBhZ2U6bn0pfWlmKHImJnIuc2VsZWN0ZWQpe3ZhciB1PXIuc2VsZWN0ZWQuc2xpY2UoKTt0aGlzLnN0b3JlLnNldFNlbGVjdGVkUm93S2V5KHUpLHRoaXMuc2V0U3RhdGUoe3NlbGVjdGVkUm93S2V5czp1fSl9fX0se2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9hZGp1c3RUYWJsZSgpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fYWRqdXN0VGFibGUpLHRoaXMucmVmcy5ib2R5LnJlZnMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9zY3JvbGxIZWFkZXIpfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX2FkanVzdFRhYmxlKSx0aGlzLnJlZnMuYm9keS5yZWZzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5fc2Nyb2xsSGVhZGVyKSx0aGlzLmZpbHRlciYmdGhpcy5maWx0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKFwib25GaWx0ZXJDaGFuZ2VcIil9fSx7a2V5OlwiY29tcG9uZW50RGlkVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9hZGp1c3RUYWJsZSgpLHRoaXMuX2F0dGFjaENlbGxFZGl0RnVuYygpLHRoaXMucHJvcHMub3B0aW9ucy5hZnRlclRhYmxlQ29tcGxldGUmJnRoaXMucHJvcHMub3B0aW9ucy5hZnRlclRhYmxlQ29tcGxldGUoKX19LHtrZXk6XCJfYXR0YWNoQ2VsbEVkaXRGdW5jXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLmNlbGxFZGl0O2UmJih0aGlzLnByb3BzLmNlbGxFZGl0Ll9fb25Db21wbGV0ZUVkaXRfXz10aGlzLmhhbmRsZUVkaXRDZWxsLmJpbmQodGhpcyksZS5tb2RlIT09ZFtcImRlZmF1bHRcIl0uQ0VMTF9FRElUX05PTkUmJih0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0PSExKSl9fSx7a2V5OlwiaXNSZW1vdGVEYXRhU291cmNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fHRoaXMucHJvcHMpLnJlbW90ZX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXtoZWlnaHQ6dGhpcy5wcm9wcy5oZWlnaHQsbWF4SGVpZ2h0OnRoaXMucHJvcHMubWF4SGVpZ2h0fSx0PXRoaXMuZ2V0Q29sdW1uc0Rlc2NyaXB0aW9uKHRoaXMucHJvcHMpLHI9dGhpcy5zdG9yZS5nZXRTb3J0SW5mbygpLG89dGhpcy5yZW5kZXJQYWdpbmF0aW9uKCksbj10aGlzLnJlbmRlclRvb2xCYXIoKSxhPXRoaXMucmVuZGVyVGFibGVGaWx0ZXIodCkscz10aGlzLmlzU2VsZWN0QWxsKCksbD10aGlzLnByb3BzLm9wdGlvbnMuc29ydEluZGljYXRvcjtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5wcm9wcy5vcHRpb25zLnNvcnRJbmRpY2F0b3ImJihsPSEwKSxwW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInJlYWN0LWJzLXRhYmxlLWNvbnRhaW5lclwiLHN0eWxlOnRoaXMucHJvcHMuY29udGFpbmVyU3R5bGV9LG4scFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJyZWFjdC1icy10YWJsZVwiLHJlZjpcInRhYmxlXCIsc3R5bGU6aSh7fSxlLHRoaXMucHJvcHMudGFibGVTdHlsZSksb25Nb3VzZUVudGVyOnRoaXMuaGFuZGxlTW91c2VFbnRlcixvbk1vdXNlTGVhdmU6dGhpcy5oYW5kbGVNb3VzZUxlYXZlfSxwW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KGhbXCJkZWZhdWx0XCJdLHtyZWY6XCJoZWFkZXJcIixzdHlsZTp0aGlzLnByb3BzLmhlYWRlclN0eWxlLHJvd1NlbGVjdFR5cGU6dGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZSxoaWRlU2VsZWN0Q29sdW1uOnRoaXMucHJvcHMuc2VsZWN0Um93LmhpZGVTZWxlY3RDb2x1bW4sc29ydE5hbWU6cj9yLnNvcnRGaWVsZDp2b2lkIDAsc29ydE9yZGVyOnI/ci5vcmRlcjp2b2lkIDAsc29ydEluZGljYXRvcjpsLG9uU29ydDp0aGlzLmhhbmRsZVNvcnQsb25TZWxlY3RBbGxSb3c6dGhpcy5oYW5kbGVTZWxlY3RBbGxSb3csYm9yZGVyZWQ6dGhpcy5wcm9wcy5ib3JkZXJlZCxjb25kZW5zZWQ6dGhpcy5wcm9wcy5jb25kZW5zZWQsaXNGaWx0ZXJlZDp0aGlzLmZpbHRlcj8hMDohMSxpc1NlbGVjdEFsbDpzfSx0aGlzLnByb3BzLmNoaWxkcmVuKSxwW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KHZbXCJkZWZhdWx0XCJdLHtyZWY6XCJib2R5XCIsc3R5bGU6aSh7fSxlLHRoaXMucHJvcHMuYm9keVN0eWxlKSxkYXRhOnRoaXMuc3RhdGUuZGF0YSxjb2x1bW5zOnQsdHJDbGFzc05hbWU6dGhpcy5wcm9wcy50ckNsYXNzTmFtZSxzdHJpcGVkOnRoaXMucHJvcHMuc3RyaXBlZCxib3JkZXJlZDp0aGlzLnByb3BzLmJvcmRlcmVkLGhvdmVyOnRoaXMucHJvcHMuaG92ZXIsa2V5RmllbGQ6dGhpcy5zdG9yZS5nZXRLZXlGaWVsZCgpLGNvbmRlbnNlZDp0aGlzLnByb3BzLmNvbmRlbnNlZCxzZWxlY3RSb3c6dGhpcy5wcm9wcy5zZWxlY3RSb3csY2VsbEVkaXQ6dGhpcy5wcm9wcy5jZWxsRWRpdCxzZWxlY3RlZFJvd0tleXM6dGhpcy5zdGF0ZS5zZWxlY3RlZFJvd0tleXMsb25Sb3dDbGljazp0aGlzLmhhbmRsZVJvd0NsaWNrLG9uUm93TW91c2VPdmVyOnRoaXMuaGFuZGxlUm93TW91c2VPdmVyLG9uUm93TW91c2VPdXQ6dGhpcy5oYW5kbGVSb3dNb3VzZU91dCxvblNlbGVjdFJvdzp0aGlzLmhhbmRsZVNlbGVjdFJvdyxub0RhdGFUZXh0OnRoaXMucHJvcHMub3B0aW9ucy5ub0RhdGFUZXh0fSkpLGEsbyl9fSx7a2V5OlwiaXNTZWxlY3RBbGxcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuc3RvcmUuaXNFbXB0eSgpKXJldHVybiExO3ZhciBlPXRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRSb3dLZXlzKCksdD10aGlzLnN0b3JlLmdldEFsbFJvd2tleSgpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4hMTt2YXIgcj0wLG89MDtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpey0xIT09dC5pbmRleE9mKGUpP3IrKzpvKyt9KSxvPT09ZS5sZW5ndGg/ITE6cj09PXQubGVuZ3RoPyEwOlwiaW5kZXRlcm1pbmF0ZVwifX0se2tleTpcImNsZWFuU2VsZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RvcmUuc2V0U2VsZWN0ZWRSb3dLZXkoW10pLHRoaXMuc2V0U3RhdGUoe3NlbGVjdGVkUm93S2V5czpbXX0pfX0se2tleTpcImhhbmRsZUVkaXRDZWxsXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXMucHJvcHMuY2VsbEVkaXQsbj1vLmJlZm9yZVNhdmVDZWxsLGE9by5hZnRlclNhdmVDZWxsLGk9dm9pZCAwO2lmKHBbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2godGhpcy5wcm9wcy5jaGlsZHJlbixmdW5jdGlvbihlLHQpe3JldHVybiB0PT09cj8oaT1lLnByb3BzLmRhdGFGaWVsZCwhMSk6dm9pZCAwfSksbil7dmFyIHM9bih0aGlzLnN0YXRlLmRhdGFbdF0saSxlKTtpZighcyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHMpcmV0dXJuIHZvaWQgdGhpcy5zZXRTdGF0ZSh7ZGF0YTp0aGlzLnN0b3JlLmdldCgpfSl9dmFyIGw9dGhpcy5zdG9yZS5lZGl0KGUsdCxpKS5nZXQoKTt0aGlzLnNldFN0YXRlKHtkYXRhOmx9KSxhJiZhKHRoaXMuc3RhdGUuZGF0YVt0XSxpLGUpfX0se2tleTpcImhhbmRsZUFkZFJvd0F0QmVnaW5cIix2YWx1ZTpmdW5jdGlvbihlKXt0cnl7dGhpcy5zdG9yZS5hZGRBdEJlZ2luKGUpfWNhdGNoKHQpe3JldHVybiB0fXRoaXMuX2hhbmRsZUFmdGVyQWRkaW5nUm93KGUpfX0se2tleTpcImdldFNpemVQZXJQYWdlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5zaXplUGVyUGFnZX19LHtrZXk6XCJnZXRDdXJyZW50UGFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuY3VyclBhZ2V9fSx7a2V5OlwiZGVsZXRlUm93XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wcm9wcy5vcHRpb25zLm9uRGVsZXRlUm93O2lmKHQmJnQoZSksdGhpcy5zdG9yZS5zZXRTZWxlY3RlZFJvd0tleShbXSksdGhpcy5pc1JlbW90ZURhdGFTb3VyY2UoKSlyZXR1cm4gdm9pZCh0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJEZWxldGVSb3cmJnRoaXMucHJvcHMub3B0aW9ucy5hZnRlckRlbGV0ZVJvdyhlKSk7dGhpcy5zdG9yZS5yZW1vdmUoZSk7dmFyIHI9dm9pZCAwO2lmKHRoaXMucHJvcHMucGFnaW5hdGlvbil7dmFyIG89dGhpcy5zdGF0ZS5zaXplUGVyUGFnZSxuPU1hdGguY2VpbCh0aGlzLnN0b3JlLmdldERhdGFOdW0oKS9vKSxhPXRoaXMuc3RhdGUuY3VyclBhZ2U7YT5uJiYoYT1uKSxyPXRoaXMuc3RvcmUucGFnZShhLG8pLmdldCgpLHRoaXMuc2V0U3RhdGUoe2RhdGE6cixzZWxlY3RlZFJvd0tleXM6dGhpcy5zdG9yZS5nZXRTZWxlY3RlZFJvd0tleXMoKSxjdXJyUGFnZTphfSl9ZWxzZSByPXRoaXMuc3RvcmUuZ2V0KCksdGhpcy5zZXRTdGF0ZSh7ZGF0YTpyLHNlbGVjdGVkUm93S2V5czp0aGlzLnN0b3JlLmdldFNlbGVjdGVkUm93S2V5cygpfSk7dGhpcy5wcm9wcy5vcHRpb25zLmFmdGVyRGVsZXRlUm93JiZ0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJEZWxldGVSb3coZSl9fSx7a2V5OlwicmVuZGVyUGFnaW5hdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5wcm9wcy5wYWdpbmF0aW9uKXt2YXIgZT12b2lkIDA7ZT10aGlzLmlzUmVtb3RlRGF0YVNvdXJjZSgpP3RoaXMucHJvcHMuZmV0Y2hJbmZvLmRhdGFUb3RhbFNpemU6dGhpcy5zdG9yZS5nZXREYXRhTnVtKCk7dmFyIHQ9dGhpcy5wcm9wcy5vcHRpb25zO3JldHVybiBwW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInJlYWN0LWJzLXRhYmxlLXBhZ2luYXRpb25cIn0scFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChnW1wiZGVmYXVsdFwiXSx7cmVmOlwicGFnaW5hdGlvblwiLGN1cnJQYWdlOnRoaXMuc3RhdGUuY3VyclBhZ2UsY2hhbmdlUGFnZTp0aGlzLmhhbmRsZVBhZ2luYXRpb25EYXRhLmJpbmQodGhpcyksc2l6ZVBlclBhZ2U6dGhpcy5zdGF0ZS5zaXplUGVyUGFnZSxzaXplUGVyUGFnZUxpc3Q6dC5zaXplUGVyUGFnZUxpc3R8fGRbXCJkZWZhdWx0XCJdLlNJWkVfUEVSX1BBR0VfTElTVCxwYWdpbmF0aW9uU2hvd3NUb3RhbDp0LnBhZ2luYXRpb25TaG93c1RvdGFsLHBhZ2luYXRpb25TaXplOnQucGFnaW5hdGlvblNpemV8fGRbXCJkZWZhdWx0XCJdLlBBR0lOQVRJT05fU0laRSxyZW1vdGU6dGhpcy5pc1JlbW90ZURhdGFTb3VyY2UoKSxkYXRhU2l6ZTplLG9uU2l6ZVBlclBhZ2VMaXN0OnQub25TaXplUGVyUGFnZUxpc3QscHJlUGFnZTp0LnByZVBhZ2V8fGRbXCJkZWZhdWx0XCJdLlBSRV9QQUdFLG5leHRQYWdlOnQubmV4dFBhZ2V8fGRbXCJkZWZhdWx0XCJdLk5FWFRfUEFHRSxmaXJzdFBhZ2U6dC5maXJzdFBhZ2V8fGRbXCJkZWZhdWx0XCJdLkZJUlNUX1BBR0UsbGFzdFBhZ2U6dC5sYXN0UGFnZXx8ZFtcImRlZmF1bHRcIl0uTEFTVF9QQUdFfSkpfXJldHVybiBudWxsfX0se2tleTpcInJlbmRlclRvb2xCYXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLnNlbGVjdFJvdyxyPWUuaW5zZXJ0Um93LG89ZS5kZWxldGVSb3csbj1lLnNlYXJjaCxhPWUuY2hpbGRyZW4saT10JiZ0LnNob3dPbmx5U2VsZWN0ZWQ7aWYoaXx8cnx8b3x8bnx8dGhpcy5wcm9wcy5leHBvcnRDU1Ype3ZhciBzPXZvaWQgMDtyZXR1cm4gcz1BcnJheS5pc0FycmF5KGEpP2EubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcHM7cmV0dXJue25hbWU6dC5jaGlsZHJlbixmaWVsZDp0LmRhdGFGaWVsZCxhdXRvVmFsdWU6dC5hdXRvVmFsdWV8fCExLGVkaXRhYmxlOnQuZWRpdGFibGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZWRpdGFibGU/dC5lZGl0YWJsZSgpOnQuZWRpdGFibGUsZm9ybWF0OnQuZGF0YUZvcm1hdD9mdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhRm9ybWF0KGUsbnVsbCx0LmZvcm1hdEV4dHJhRGF0YSkucmVwbGFjZSgvPC4qPz4vZyxcIlwiKX06ITF9fSk6W3tuYW1lOmEucHJvcHMuY2hpbGRyZW4sZmllbGQ6YS5wcm9wcy5kYXRhRmllbGQsZWRpdGFibGU6YS5wcm9wcy5lZGl0YWJsZX1dLHBbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicmVhY3QtYnMtdGFibGUtdG9vbC1iYXJcIn0scFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChUW1wiZGVmYXVsdFwiXSx7Y2xlYXJTZWFyY2g6dGhpcy5wcm9wcy5vcHRpb25zLmNsZWFyU2VhcmNoLHNlYXJjaERlbGF5VGltZTp0aGlzLnByb3BzLm9wdGlvbnMuc2VhcmNoRGVsYXlUaW1lLGVuYWJsZUluc2VydDpyLGVuYWJsZURlbGV0ZTpvLGVuYWJsZVNlYXJjaDpuLGVuYWJsZUV4cG9ydENTVjp0aGlzLnByb3BzLmV4cG9ydENTVixlbmFibGVTaG93T25seVNlbGVjdGVkOmksY29sdW1uczpzLHNlYXJjaFBsYWNlaG9sZGVyOnRoaXMucHJvcHMuc2VhcmNoUGxhY2Vob2xkZXIsZXhwb3J0Q1NWVGV4dDp0aGlzLnByb3BzLm9wdGlvbnMuZXhwb3J0Q1NWVGV4dCxpbnNlcnRUZXh0OnRoaXMucHJvcHMub3B0aW9ucy5pbnNlcnRUZXh0LGRlbGV0ZVRleHQ6dGhpcy5wcm9wcy5vcHRpb25zLmRlbGV0ZVRleHQsaWdub3JlRWRpdGFibGU6dGhpcy5wcm9wcy5vcHRpb25zLmlnbm9yZUVkaXRhYmxlLG9uQWRkUm93OnRoaXMuaGFuZGxlQWRkUm93LG9uRHJvcFJvdzp0aGlzLmhhbmRsZURyb3BSb3csb25TZWFyY2g6dGhpcy5oYW5kbGVTZWFyY2gsb25FeHBvcnRDU1Y6dGhpcy5oYW5kbGVFeHBvcnRDU1Ysb25TaG93T25seVNlbGVjdGVkOnRoaXMuaGFuZGxlU2hvd09ubHlTZWxlY3RlZH0pKX1yZXR1cm4gbnVsbH19LHtrZXk6XCJyZW5kZXJUYWJsZUZpbHRlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnByb3BzLmNvbHVtbkZpbHRlcj9wW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFBbXCJkZWZhdWx0XCJdLHtjb2x1bW5zOmUscm93U2VsZWN0VHlwZTp0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlLG9uRmlsdGVyOnRoaXMuaGFuZGxlRmlsdGVyRGF0YX0pOm51bGx9fSx7a2V5OlwiX2hhbmRsZUFmdGVyQWRkaW5nUm93XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwO2lmKHRoaXMucHJvcHMucGFnaW5hdGlvbil7dmFyIHI9dGhpcy5zdGF0ZS5zaXplUGVyUGFnZSxvPU1hdGguY2VpbCh0aGlzLnN0b3JlLmdldERhdGFOdW0oKS9yKTt0PXRoaXMuc3RvcmUucGFnZShvLHIpLmdldCgpLHRoaXMuc2V0U3RhdGUoe2RhdGE6dCxjdXJyUGFnZTpvfSl9ZWxzZSB0PXRoaXMuc3RvcmUuZ2V0KCksdGhpcy5zZXRTdGF0ZSh7ZGF0YTp0fSk7dGhpcy5wcm9wcy5vcHRpb25zLmFmdGVySW5zZXJ0Um93JiZ0aGlzLnByb3BzLm9wdGlvbnMuYWZ0ZXJJbnNlcnRSb3coZSl9fV0pLHR9KHUuQ29tcG9uZW50KTtSLnByb3BUeXBlcz17a2V5RmllbGQ6dS5Qcm9wVHlwZXMuc3RyaW5nLGhlaWdodDp1LlByb3BUeXBlcy5zdHJpbmcsbWF4SGVpZ2h0OnUuUHJvcFR5cGVzLnN0cmluZyxkYXRhOnUuUHJvcFR5cGVzLm9uZU9mVHlwZShbdS5Qcm9wVHlwZXMuYXJyYXksdS5Qcm9wVHlwZXMub2JqZWN0XSkscmVtb3RlOnUuUHJvcFR5cGVzLmJvb2wsc3RyaXBlZDp1LlByb3BUeXBlcy5ib29sLGJvcmRlcmVkOnUuUHJvcFR5cGVzLmJvb2wsaG92ZXI6dS5Qcm9wVHlwZXMuYm9vbCxjb25kZW5zZWQ6dS5Qcm9wVHlwZXMuYm9vbCxwYWdpbmF0aW9uOnUuUHJvcFR5cGVzLmJvb2wsc2VhcmNoUGxhY2Vob2xkZXI6dS5Qcm9wVHlwZXMuc3RyaW5nLHNlbGVjdFJvdzp1LlByb3BUeXBlcy5zaGFwZSh7bW9kZTp1LlByb3BUeXBlcy5vbmVPZihbZFtcImRlZmF1bHRcIl0uUk9XX1NFTEVDVF9OT05FLGRbXCJkZWZhdWx0XCJdLlJPV19TRUxFQ1RfU0lOR0xFLGRbXCJkZWZhdWx0XCJdLlJPV19TRUxFQ1RfTVVMVEldKSxiZ0NvbG9yOnUuUHJvcFR5cGVzLnN0cmluZyxzZWxlY3RlZDp1LlByb3BUeXBlcy5hcnJheSxvblNlbGVjdDp1LlByb3BUeXBlcy5mdW5jLG9uU2VsZWN0QWxsOnUuUHJvcFR5cGVzLmZ1bmMsY2xpY2tUb1NlbGVjdDp1LlByb3BUeXBlcy5ib29sLGhpZGVTZWxlY3RDb2x1bW46dS5Qcm9wVHlwZXMuYm9vbCxjbGlja1RvU2VsZWN0QW5kRWRpdENlbGw6dS5Qcm9wVHlwZXMuYm9vbCxzaG93T25seVNlbGVjdGVkOnUuUHJvcFR5cGVzLmJvb2x9KSxjZWxsRWRpdDp1LlByb3BUeXBlcy5zaGFwZSh7bW9kZTp1LlByb3BUeXBlcy5zdHJpbmcsYmx1clRvU2F2ZTp1LlByb3BUeXBlcy5ib29sLGJlZm9yZVNhdmVDZWxsOnUuUHJvcFR5cGVzLmZ1bmMsYWZ0ZXJTYXZlQ2VsbDp1LlByb3BUeXBlcy5mdW5jfSksaW5zZXJ0Um93OnUuUHJvcFR5cGVzLmJvb2wsZGVsZXRlUm93OnUuUHJvcFR5cGVzLmJvb2wsc2VhcmNoOnUuUHJvcFR5cGVzLmJvb2wsY29sdW1uRmlsdGVyOnUuUHJvcFR5cGVzLmJvb2wsdHJDbGFzc05hbWU6dS5Qcm9wVHlwZXMuYW55LHRhYmxlU3R5bGU6dS5Qcm9wVHlwZXMub2JqZWN0LGNvbnRhaW5lclN0eWxlOnUuUHJvcFR5cGVzLm9iamVjdCxoZWFkZXJTdHlsZTp1LlByb3BUeXBlcy5vYmplY3QsYm9keVN0eWxlOnUuUHJvcFR5cGVzLm9iamVjdCxvcHRpb25zOnUuUHJvcFR5cGVzLnNoYXBlKHtjbGVhclNlYXJjaDp1LlByb3BUeXBlcy5ib29sLHNvcnROYW1lOnUuUHJvcFR5cGVzLnN0cmluZyxzb3J0T3JkZXI6dS5Qcm9wVHlwZXMuc3RyaW5nLGRlZmF1bHRTb3J0TmFtZTp1LlByb3BUeXBlcy5zdHJpbmcsZGVmYXVsdFNvcnRPcmRlcjp1LlByb3BUeXBlcy5zdHJpbmcsc29ydEluZGljYXRvcjp1LlByb3BUeXBlcy5ib29sLGFmdGVyVGFibGVDb21wbGV0ZTp1LlByb3BUeXBlcy5mdW5jLGFmdGVyRGVsZXRlUm93OnUuUHJvcFR5cGVzLmZ1bmMsYWZ0ZXJJbnNlcnRSb3c6dS5Qcm9wVHlwZXMuZnVuYyxhZnRlclNlYXJjaDp1LlByb3BUeXBlcy5mdW5jLGFmdGVyQ29sdW1uRmlsdGVyOnUuUHJvcFR5cGVzLmZ1bmMsb25Sb3dDbGljazp1LlByb3BUeXBlcy5mdW5jLHBhZ2U6dS5Qcm9wVHlwZXMubnVtYmVyLHBhZ2luYXRpb25TaG93c1RvdGFsOnUuUHJvcFR5cGVzLmJvb2wsc2l6ZVBlclBhZ2VMaXN0OnUuUHJvcFR5cGVzLmFycmF5LHNpemVQZXJQYWdlOnUuUHJvcFR5cGVzLm51bWJlcixwYWdpbmF0aW9uU2l6ZTp1LlByb3BUeXBlcy5udW1iZXIsb25Tb3J0Q2hhbmdlOnUuUHJvcFR5cGVzLmZ1bmMsb25QYWdlQ2hhbmdlOnUuUHJvcFR5cGVzLmZ1bmMsb25TaXplUGVyUGFnZUxpc3Q6dS5Qcm9wVHlwZXMuZnVuYyxvbkZpbHRlckNoYW5nZTpwW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxvblNlYXJjaENoYW5nZTpwW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxvbkFkZFJvdzpwW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxvbkV4cG9ydFRvQ1NWOnBbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLG5vRGF0YVRleHQ6dS5Qcm9wVHlwZXMub25lT2ZUeXBlKFt1LlByb3BUeXBlcy5zdHJpbmcsdS5Qcm9wVHlwZXMub2JqZWN0XSksaGFuZGxlQ29uZmlybURlbGV0ZVJvdzp1LlByb3BUeXBlcy5mdW5jLHByZVBhZ2U6dS5Qcm9wVHlwZXMuc3RyaW5nLG5leHRQYWdlOnUuUHJvcFR5cGVzLnN0cmluZyxmaXJzdFBhZ2U6dS5Qcm9wVHlwZXMuc3RyaW5nLGxhc3RQYWdlOnUuUHJvcFR5cGVzLnN0cmluZyxzZWFyY2hEZWxheVRpbWU6dS5Qcm9wVHlwZXMubnVtYmVyLGV4cG9ydENTVlRleHQ6dS5Qcm9wVHlwZXMuc3RyaW5nLGluc2VydFRleHQ6dS5Qcm9wVHlwZXMuc3RyaW5nLGRlbGV0ZVRleHQ6dS5Qcm9wVHlwZXMuc3RyaW5nLGlnbm9yZUVkaXRhYmxlOnUuUHJvcFR5cGVzLmJvb2x9KSxmZXRjaEluZm86dS5Qcm9wVHlwZXMuc2hhcGUoe2RhdGFUb3RhbFNpemU6dS5Qcm9wVHlwZXMubnVtYmVyfSksZXhwb3J0Q1NWOnUuUHJvcFR5cGVzLmJvb2wsY3N2RmlsZU5hbWU6dS5Qcm9wVHlwZXMuc3RyaW5nfSxSLmRlZmF1bHRQcm9wcz17aGVpZ2h0OlwiMTAwJVwiLG1heEhlaWdodDp2b2lkIDAsc3RyaXBlZDohMSxib3JkZXJlZDohMCxob3ZlcjohMSxjb25kZW5zZWQ6ITEscGFnaW5hdGlvbjohMSxzZWFyY2hQbGFjZWhvbGRlcjp2b2lkIDAsc2VsZWN0Um93Onttb2RlOmRbXCJkZWZhdWx0XCJdLlJPV19TRUxFQ1RfTk9ORSxiZ0NvbG9yOmRbXCJkZWZhdWx0XCJdLlJPV19TRUxFQ1RfQkdfQ09MT1Isc2VsZWN0ZWQ6W10sb25TZWxlY3Q6dm9pZCAwLG9uU2VsZWN0QWxsOnZvaWQgMCxjbGlja1RvU2VsZWN0OiExLGhpZGVTZWxlY3RDb2x1bW46ITEsY2xpY2tUb1NlbGVjdEFuZEVkaXRDZWxsOiExLHNob3dPbmx5U2VsZWN0ZWQ6ITF9LGNlbGxFZGl0Onttb2RlOmRbXCJkZWZhdWx0XCJdLkNFTExfRURJVF9OT05FLGJsdXJUb1NhdmU6ITEsYmVmb3JlU2F2ZUNlbGw6dm9pZCAwLGFmdGVyU2F2ZUNlbGw6dm9pZCAwfSxpbnNlcnRSb3c6ITEsZGVsZXRlUm93OiExLHNlYXJjaDohMSxtdWx0aUNvbHVtblNlYXJjaDohMSxjb2x1bW5GaWx0ZXI6ITEsdHJDbGFzc05hbWU6XCJcIix0YWJsZVN0eWxlOnZvaWQgMCxjb250YWluZXJTdHlsZTp2b2lkIDAsaGVhZGVyU3R5bGU6dm9pZCAwLGJvZHlTdHlsZTp2b2lkIDAsb3B0aW9uczp7Y2xlYXJTZWFyY2g6ITEsc29ydE5hbWU6dm9pZCAwLHNvcnRPcmRlcjp2b2lkIDAsZGVmYXVsdFNvcnROYW1lOnZvaWQgMCxkZWZhdWx0U29ydE9yZGVyOnZvaWQgMCxzb3J0SW5kaWNhdG9yOiEwLGFmdGVyVGFibGVDb21wbGV0ZTp2b2lkIDAsYWZ0ZXJEZWxldGVSb3c6dm9pZCAwLGFmdGVySW5zZXJ0Um93OnZvaWQgMCxhZnRlclNlYXJjaDp2b2lkIDAsYWZ0ZXJDb2x1bW5GaWx0ZXI6dm9pZCAwLG9uUm93Q2xpY2s6dm9pZCAwLG9uTW91c2VMZWF2ZTp2b2lkIDAsb25Nb3VzZUVudGVyOnZvaWQgMCxvblJvd01vdXNlT3V0OnZvaWQgMCxvblJvd01vdXNlT3Zlcjp2b2lkIDAscGFnZTp2b2lkIDAscGFnaW5hdGlvblNob3dzVG90YWw6ITEsc2l6ZVBlclBhZ2VMaXN0OmRbXCJkZWZhdWx0XCJdLlNJWkVfUEVSX1BBR0VfTElTVCxzaXplUGVyUGFnZTp2b2lkIDAscGFnaW5hdGlvblNpemU6ZFtcImRlZmF1bHRcIl0uUEFHSU5BVElPTl9TSVpFLG9uU2l6ZVBlclBhZ2VMaXN0OnZvaWQgMCxub0RhdGFUZXh0OnZvaWQgMCxoYW5kbGVDb25maXJtRGVsZXRlUm93OnZvaWQgMCxwcmVQYWdlOmRbXCJkZWZhdWx0XCJdLlBSRV9QQUdFLG5leHRQYWdlOmRbXCJkZWZhdWx0XCJdLk5FWFRfUEFHRSxmaXJzdFBhZ2U6ZFtcImRlZmF1bHRcIl0uRklSU1RfUEFHRSxsYXN0UGFnZTpkW1wiZGVmYXVsdFwiXS5MQVNUX1BBR0Usc2VhcmNoRGVsYXlUaW1lOnZvaWQgMCxleHBvcnRDU1ZUZXh0OmRbXCJkZWZhdWx0XCJdLkVYUE9SVF9DU1ZfVEVYVCxpbnNlcnRUZXh0OmRbXCJkZWZhdWx0XCJdLklOU0VSVF9CVE5fVEVYVCxkZWxldGVUZXh0OmRbXCJkZWZhdWx0XCJdLkRFTEVURV9CVE5fVEVYVCxpZ25vcmVFZGl0YWJsZTohMX0sZmV0Y2hJbmZvOntkYXRhVG90YWxTaXplOjB9LGV4cG9ydENTVjohMSxjc3ZGaWxlTmFtZTpcInNwcmVhZHNoZWV0LmNzdlwifSx0W1wiZGVmYXVsdFwiXT1SLGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG8pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG8mJmUodCxvKSx0fX0oKSxzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPWUsYT10LGk9cjtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixhKTtpZih2b2lkIDAhPT1zKXtpZihcInZhbHVlXCJpbiBzKXJldHVybiBzLnZhbHVlO3ZhciBsPXMuZ2V0O2lmKHZvaWQgMD09PWwpcmV0dXJuO3JldHVybiBsLmNhbGwoaSl9dmFyIHU9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT11KXJldHVybjtlPXUsdD1hLHI9aSxvPSEwLHM9dT12b2lkIDB9fSxsPXIoMiksdT1vKGwpLHA9cig0NiksYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KSxzKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksXCJjb25zdHJ1Y3RvclwiLHRoaXMpLmNhbGwodGhpcyxlKSx0aGlzLmN1cnJlbnRGaWx0ZXI9e319cmV0dXJuIGEodCxlKSxpKHQsW3trZXk6XCJoYW5kbGVGaWx0ZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG89cnx8dVtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuQ1VTVE9NO2lmKG51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCl7dmFyIG49ITA7Zm9yKHZhciBhIGluIHQpaWYoIXRbYV18fFwiXCI9PT10W2FdKXtuPSExO2JyZWFrfW4/dGhpcy5jdXJyZW50RmlsdGVyW2VdPXt2YWx1ZTp0LHR5cGU6b306ZGVsZXRlIHRoaXMuY3VycmVudEZpbHRlcltlXX1lbHNlIHQmJlwiXCIhPT10LnRyaW0oKT90aGlzLmN1cnJlbnRGaWx0ZXJbZV09e3ZhbHVlOnQudHJpbSgpLHR5cGU6b306ZGVsZXRlIHRoaXMuY3VycmVudEZpbHRlcltlXTt0aGlzLmVtaXQoXCJvbkZpbHRlckNoYW5nZVwiLHRoaXMuY3VycmVudEZpbHRlcil9fV0pLHR9KHAuRXZlbnRFbWl0dGVyKTt0LkZpbHRlcj1jfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpLHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49ZSxhPXQsaT1yO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGEpO2lmKHZvaWQgMCE9PXMpe2lmKFwidmFsdWVcImluIHMpcmV0dXJuIHMudmFsdWU7dmFyIGw9cy5nZXQ7aWYodm9pZCAwPT09bClyZXR1cm47cmV0dXJuIGwuY2FsbChpKX12YXIgdT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXUpcmV0dXJuO1xuZT11LHQ9YSxyPWksbz0hMCxzPXU9dm9pZCAwfX0sbD1yKDEpLHU9byhsKSxwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtuKHRoaXMsdCkscyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGEodCxlKSxpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwidGhcIix7c3R5bGU6e3RleHRBbGlnbjpcImNlbnRlclwifX0sdGhpcy5wcm9wcy5jaGlsZHJlbil9fV0pLHR9KGwuQ29tcG9uZW50KTtwLnByb3BUeXBlcz17Y2hpbGRyZW46bC5Qcm9wVHlwZXMubm9kZX0sdFtcImRlZmF1bHRcIl09cCxlLmV4cG9ydHM9dFtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQscixvKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxvJiZlKHQsbyksdH19KCkscz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPSEwO287KXt2YXIgbj1lLGE9dCxpPXI7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgcz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sYSk7aWYodm9pZCAwIT09cyl7aWYoXCJ2YWx1ZVwiaW4gcylyZXR1cm4gcy52YWx1ZTt2YXIgbD1zLmdldDtpZih2b2lkIDA9PT1sKXJldHVybjtyZXR1cm4gbC5jYWxsKGkpfXZhciB1PU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09dSlyZXR1cm47ZT11LHQ9YSxyPWksbz0hMCxzPXU9dm9pZCAwfX0sbD1yKDEpLHU9byhsKSxwPXIoMiksYz1vKHApLGQ9cigyMCksZj1vKGQpLGg9cigxNSkseT1vKGgpLHY9cigxNiksbT1vKHYpLGc9cigzKSxiPW8oZyksVD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZX0sRT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7bih0aGlzLHQpLHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMuaGFuZGxlUm93TW91c2VPdXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbz1yLnByb3BzLmRhdGFbZV07ci5wcm9wcy5vblJvd01vdXNlT3V0KG8sdCl9LHRoaXMuaGFuZGxlUm93TW91c2VPdmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG89ci5wcm9wcy5kYXRhW2VdO3IucHJvcHMub25Sb3dNb3VzZU92ZXIobyx0KX0sdGhpcy5oYW5kbGVSb3dDbGljaz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDAsbz1yLnByb3BzLG49by5kYXRhLGE9by5vblJvd0NsaWNrO24uZm9yRWFjaChmdW5jdGlvbihyLG8pe289PT1lLTEmJih0PXIpfSksYSh0KX0sdGhpcy5oYW5kbGVTZWxlY3RSb3c9ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPXZvaWQgMCxhPXIucHJvcHMsaT1hLmRhdGEscz1hLm9uU2VsZWN0Um93O2kuZm9yRWFjaChmdW5jdGlvbih0LHIpe3JldHVybiByPT09ZS0xPyhuPXQsITEpOnZvaWQgMH0pLHMobix0LG8pfSx0aGlzLmhhbmRsZVNlbGVjdFJvd0NvbHVtQ2hhbmdlPWZ1bmN0aW9uKGUpe3IucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3QmJnIucHJvcHMuc2VsZWN0Um93LmNsaWNrVG9TZWxlY3RBbmRFZGl0Q2VsbHx8ci5oYW5kbGVTZWxlY3RSb3coZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yb3dJbmRleCsxLGUuY3VycmVudFRhcmdldC5jaGVja2VkLGUpfSx0aGlzLmhhbmRsZUVkaXRDZWxsPWZ1bmN0aW9uKGUsdCxvKXtyLmVkaXRpbmc9ITAsci5faXNTZWxlY3RSb3dEZWZpbmVkKCkmJih0LS0sci5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbiYmdCsrKSxlLS07dmFyIG49e2N1cnJFZGl0Q2VsbDp7cmlkOmUsY2lkOnR9fTtpZihyLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwmJnIucHJvcHMuY2VsbEVkaXQubW9kZSE9PWNbXCJkZWZhdWx0XCJdLkNFTExfRURJVF9EQkNMSUNLKXt2YXIgYT0tMSE9PXIucHJvcHMuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoci5wcm9wcy5kYXRhW2VdW3IucHJvcHMua2V5RmllbGRdKTtyLmhhbmRsZVNlbGVjdFJvdyhlKzEsIWEsbyl9ci5zZXRTdGF0ZShuKX0sdGhpcy5oYW5kbGVDb21wbGV0ZUVkaXRDZWxsPWZ1bmN0aW9uKGUsdCxvKXtyLnNldFN0YXRlKHtjdXJyRWRpdENlbGw6bnVsbH0pLG51bGwhPT1lJiZyLnByb3BzLmNlbGxFZGl0Ll9fb25Db21wbGV0ZUVkaXRfXyhlLHQsbyl9LHRoaXMuc3RhdGU9e2N1cnJFZGl0Q2VsbDpudWxsfSx0aGlzLmVkaXRpbmc9ITF9cmV0dXJuIGEodCxlKSxpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSgwLGJbXCJkZWZhdWx0XCJdKShcInRhYmxlXCIse1widGFibGUtc3RyaXBlZFwiOnRoaXMucHJvcHMuc3RyaXBlZCxcInRhYmxlLWJvcmRlcmVkXCI6dGhpcy5wcm9wcy5ib3JkZXJlZCxcInRhYmxlLWhvdmVyXCI6dGhpcy5wcm9wcy5ob3ZlcixcInRhYmxlLWNvbmRlbnNlZFwiOnRoaXMucHJvcHMuY29uZGVuc2VkfSksdD10aGlzLl9pc1NlbGVjdFJvd0RlZmluZWQoKSxyPXRoaXMucmVuZGVyVGFibGVIZWFkZXIodCksbz10aGlzLnByb3BzLmRhdGEubWFwKGZ1bmN0aW9uKGUscil7dmFyIG89dGhpcy5wcm9wcy5jb2x1bW5zLm1hcChmdW5jdGlvbih0LG8pe3ZhciBuPWVbdC5uYW1lXTtpZih0aGlzLmVkaXRpbmcmJnQubmFtZSE9PXRoaXMucHJvcHMua2V5RmllbGQmJnQuZWRpdGFibGUmJm51bGwhPT10aGlzLnN0YXRlLmN1cnJFZGl0Q2VsbCYmdGhpcy5zdGF0ZS5jdXJyRWRpdENlbGwucmlkPT09ciYmdGhpcy5zdGF0ZS5jdXJyRWRpdENlbGwuY2lkPT09byl7dmFyIGE9dC5lZGl0YWJsZSxpPXQuZm9ybWF0P2Z1bmN0aW9uKHIpe3JldHVybiB0LmZvcm1hdChyLGUsdC5mb3JtYXRFeHRyYURhdGEpLnJlcGxhY2UoLzwuKj8+L2csXCJcIil9OiExO3JldHVybiBUKHQuZWRpdGFibGUpJiYoYT10LmVkaXRhYmxlKG4sZSxyLG8pKSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KG1bXCJkZWZhdWx0XCJdLHtjb21wbGV0ZUVkaXQ6dGhpcy5oYW5kbGVDb21wbGV0ZUVkaXRDZWxsLGVkaXRhYmxlOmEsZm9ybWF0OnQuZm9ybWF0P2k6ITEsa2V5Om8sYmx1clRvU2F2ZTp0aGlzLnByb3BzLmNlbGxFZGl0LmJsdXJUb1NhdmUscm93SW5kZXg6cixjb2xJbmRleDpvfSxuKX12YXIgcz1uLGw9dC5jbGFzc05hbWU7aWYoVCh0LmNsYXNzTmFtZSkmJihsPXQuY2xhc3NOYW1lKG4sZSxyLG8pKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5mb3JtYXQpe3ZhciBwPXQuZm9ybWF0KG4sZSx0LmZvcm1hdEV4dHJhRGF0YSk7cz11W1wiZGVmYXVsdFwiXS5pc1ZhbGlkRWxlbWVudChwKT9wOnVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6e19faHRtbDpwfX0pfXJldHVybiB1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KHlbXCJkZWZhdWx0XCJdLHtrZXk6byxkYXRhQWxpZ246dC5hbGlnbixjbGFzc05hbWU6bCxjZWxsRWRpdDp0aGlzLnByb3BzLmNlbGxFZGl0LGhpZGRlbjp0LmhpZGRlbixvbkVkaXQ6dGhpcy5oYW5kbGVFZGl0Q2VsbCx3aWR0aDp0LndpZHRofSxzKX0sdGhpcyksbj0tMSE9PXRoaXMucHJvcHMuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2YoZVt0aGlzLnByb3BzLmtleUZpZWxkXSksYT10JiYhdGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbj90aGlzLnJlbmRlclNlbGVjdFJvd0NvbHVtbihuKTpudWxsLGk9dGhpcy5wcm9wcy50ckNsYXNzTmFtZTtyZXR1cm4gVCh0aGlzLnByb3BzLnRyQ2xhc3NOYW1lKSYmKGk9dGhpcy5wcm9wcy50ckNsYXNzTmFtZShlLHIpKSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KGZbXCJkZWZhdWx0XCJdLHtpc1NlbGVjdGVkOm4sa2V5OnIsY2xhc3NOYW1lOmksc2VsZWN0Um93OnQ/dGhpcy5wcm9wcy5zZWxlY3RSb3c6dm9pZCAwLGVuYWJsZUNlbGxFZGl0OnRoaXMucHJvcHMuY2VsbEVkaXQubW9kZSE9PWNbXCJkZWZhdWx0XCJdLkNFTExfRURJVF9OT05FLG9uUm93Q2xpY2s6dGhpcy5oYW5kbGVSb3dDbGljayxvblJvd01vdXNlT3Zlcjp0aGlzLmhhbmRsZVJvd01vdXNlT3ZlcixvblJvd01vdXNlT3V0OnRoaXMuaGFuZGxlUm93TW91c2VPdXQsb25TZWxlY3RSb3c6dGhpcy5oYW5kbGVTZWxlY3RSb3d9LGEsbyl9LHRoaXMpO3JldHVybiAwPT09by5sZW5ndGgmJm8ucHVzaCh1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KGZbXCJkZWZhdWx0XCJdLHtrZXk6XCIjI3RhYmxlLWVtcHR5IyNcIn0sdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInRkXCIse2NvbFNwYW46dGhpcy5wcm9wcy5jb2x1bW5zLmxlbmd0aCsodD8xOjApLGNsYXNzTmFtZTpcInJlYWN0LWJzLXRhYmxlLW5vLWRhdGFcIn0sdGhpcy5wcm9wcy5ub0RhdGFUZXh0fHxjW1wiZGVmYXVsdFwiXS5OT19EQVRBX1RFWFQpKSksdGhpcy5lZGl0aW5nPSExLHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7cmVmOlwiY29udGFpbmVyXCIsY2xhc3NOYW1lOlwicmVhY3QtYnMtY29udGFpbmVyLWJvZHlcIixzdHlsZTp0aGlzLnByb3BzLnN0eWxlfSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwidGFibGVcIix7Y2xhc3NOYW1lOmV9LHIsdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInRib2R5XCIse3JlZjpcInRib2R5XCJ9LG8pKSl9fSx7a2V5OlwicmVuZGVyVGFibGVIZWFkZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1udWxsO2lmKGUpe3ZhciByPXt3aWR0aDozMCxtaW5XaWR0aDozMH07dGhpcy5wcm9wcy5zZWxlY3RSb3cuaGlkZVNlbGVjdENvbHVtbnx8KHQ9dVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImNvbFwiLHtzdHlsZTpyLGtleTotMX0pKX12YXIgbz10aGlzLnByb3BzLmNvbHVtbnMubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09PWUud2lkdGg/ZS53aWR0aDpwYXJzZUludChlLndpZHRoLDEwKSxvPXtkaXNwbGF5OmUuaGlkZGVuP1wibm9uZVwiOm51bGwsd2lkdGg6cixtaW5XaWR0aDpyfTtyZXR1cm4gdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImNvbFwiLHtzdHlsZTpvLGtleTp0LGNsYXNzTmFtZTplLmNsYXNzTmFtZX0pfSk7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJjb2xncm91cFwiLHtyZWY6XCJoZWFkZXJcIn0sdCxvKX19LHtrZXk6XCJyZW5kZXJTZWxlY3RSb3dDb2x1bW5cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZT09PWNbXCJkZWZhdWx0XCJdLlJPV19TRUxFQ1RfU0lOR0xFP3VbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoeVtcImRlZmF1bHRcIl0se2RhdGFBbGlnbjpcImNlbnRlclwifSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIix7dHlwZTpcInJhZGlvXCIsY2hlY2tlZDplLG9uQ2hhbmdlOnRoaXMuaGFuZGxlU2VsZWN0Um93Q29sdW1DaGFuZ2V9KSk6dVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCh5W1wiZGVmYXVsdFwiXSx7ZGF0YUFsaWduOlwiY2VudGVyXCJ9LHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLHt0eXBlOlwiY2hlY2tib3hcIixjaGVja2VkOmUsb25DaGFuZ2U6dGhpcy5oYW5kbGVTZWxlY3RSb3dDb2x1bUNoYW5nZX0pKX19LHtrZXk6XCJfaXNTZWxlY3RSb3dEZWZpbmVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3RSb3cubW9kZT09PWNbXCJkZWZhdWx0XCJdLlJPV19TRUxFQ1RfU0lOR0xFfHx0aGlzLnByb3BzLnNlbGVjdFJvdy5tb2RlPT09Y1tcImRlZmF1bHRcIl0uUk9XX1NFTEVDVF9NVUxUSX19XSksdH0obC5Db21wb25lbnQpO0UucHJvcFR5cGVzPXtkYXRhOmwuUHJvcFR5cGVzLmFycmF5LGNvbHVtbnM6bC5Qcm9wVHlwZXMuYXJyYXksc3RyaXBlZDpsLlByb3BUeXBlcy5ib29sLGJvcmRlcmVkOmwuUHJvcFR5cGVzLmJvb2wsaG92ZXI6bC5Qcm9wVHlwZXMuYm9vbCxjb25kZW5zZWQ6bC5Qcm9wVHlwZXMuYm9vbCxrZXlGaWVsZDpsLlByb3BUeXBlcy5zdHJpbmcsc2VsZWN0ZWRSb3dLZXlzOmwuUHJvcFR5cGVzLmFycmF5LG9uUm93Q2xpY2s6bC5Qcm9wVHlwZXMuZnVuYyxvblNlbGVjdFJvdzpsLlByb3BUeXBlcy5mdW5jLG5vRGF0YVRleHQ6bC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtsLlByb3BUeXBlcy5zdHJpbmcsbC5Qcm9wVHlwZXMub2JqZWN0XSksc3R5bGU6bC5Qcm9wVHlwZXMub2JqZWN0fSx0W1wiZGVmYXVsdFwiXT1FLGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbyBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG8pJiYoZVtvXT1yW29dKX1yZXR1cm4gZX0scz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpLGw9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49ZSxhPXQsaT1yO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGEpO2lmKHZvaWQgMCE9PXMpe2lmKFwidmFsdWVcImluIHMpcmV0dXJuIHMudmFsdWU7dmFyIGw9cy5nZXQ7aWYodm9pZCAwPT09bClyZXR1cm47cmV0dXJuIGwuY2FsbChpKX12YXIgdT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXUpcmV0dXJuO2U9dSx0PWEscj1pLG89ITAscz11PXZvaWQgMH19LHU9cigxKSxwPW8odSksYz1yKDIpLGQ9byhjKSxmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9dGhpcztuKHRoaXMsdCksbChPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsZSksdGhpcy5oYW5kbGVDZWxsRWRpdD1mdW5jdGlvbihlKXtpZihyLnByb3BzLmNlbGxFZGl0Lm1vZGU9PT1kW1wiZGVmYXVsdFwiXS5DRUxMX0VESVRfREJDTElDSylpZihkb2N1bWVudC5zZWxlY3Rpb24mJmRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSlkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTtlbHNlIGlmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciB0PXdpbmRvdy5nZXRTZWxlY3Rpb24oKTt0LnJlbW92ZUFsbFJhbmdlcygpfXIucHJvcHMub25FZGl0KGUuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LnJvd0luZGV4KzEsZS5jdXJyZW50VGFyZ2V0LmNlbGxJbmRleCxlKX19cmV0dXJuIGEodCxlKSxzKHQsW3trZXk6XCJzaG91bGRDb21wb25lbnRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMucHJvcHMuY2hpbGRyZW4sbz10aGlzLnByb3BzLndpZHRoIT09ZS53aWR0aHx8dGhpcy5wcm9wcy5jbGFzc05hbWUhPT1lLmNsYXNzTmFtZXx8dGhpcy5wcm9wcy5oaWRkZW4hPT1lLmhpZGRlbnx8dGhpcy5wcm9wcy5kYXRhQWxpZ24hPT1lLmRhdGFBbGlnbnx8dHlwZW9mIHIhPXR5cGVvZiBlLmNoaWxkcmVufHwoXCJcIit0aGlzLnByb3BzLm9uRWRpdCkudG9TdHJpbmcoKSE9PShcIlwiK2Uub25FZGl0KS50b1N0cmluZygpO3JldHVybiBvP286KG89XCJvYmplY3RcIj09dHlwZW9mIHImJm51bGwhPT1yJiZudWxsIT09ci5wcm9wcz9cImNoZWNrYm94XCI9PT1yLnByb3BzLnR5cGV8fFwicmFkaW9cIj09PXIucHJvcHMudHlwZT9vfHxyLnByb3BzLnR5cGUhPT1lLmNoaWxkcmVuLnByb3BzLnR5cGV8fHIucHJvcHMuY2hlY2tlZCE9PWUuY2hpbGRyZW4ucHJvcHMuY2hlY2tlZDohMDpvfHxyIT09ZS5jaGlsZHJlbixvP286dGhpcy5wcm9wcy5jZWxsRWRpdCYmZS5jZWxsRWRpdD9vfHx0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGUhPT1lLmNlbGxFZGl0Lm1vZGU6ITEpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e3RleHRBbGlnbjp0aGlzLnByb3BzLmRhdGFBbGlnbixkaXNwbGF5OnRoaXMucHJvcHMuaGlkZGVuP1wibm9uZVwiOm51bGx9LHQ9e307cmV0dXJuIHRoaXMucHJvcHMuY2VsbEVkaXQmJih0aGlzLnByb3BzLmNlbGxFZGl0Lm1vZGU9PT1kW1wiZGVmYXVsdFwiXS5DRUxMX0VESVRfQ0xJQ0s/dC5vbkNsaWNrPXRoaXMuaGFuZGxlQ2VsbEVkaXQ6dGhpcy5wcm9wcy5jZWxsRWRpdC5tb2RlPT09ZFtcImRlZmF1bHRcIl0uQ0VMTF9FRElUX0RCQ0xJQ0smJih0Lm9uRG91YmxlQ2xpY2s9dGhpcy5oYW5kbGVDZWxsRWRpdCkpLHBbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLGkoe3N0eWxlOmUsY2xhc3NOYW1lOnRoaXMucHJvcHMuY2xhc3NOYW1lfSx0KSx0aGlzLnByb3BzLmNoaWxkcmVuKX19XSksdH0odS5Db21wb25lbnQpO2YucHJvcFR5cGVzPXtkYXRhQWxpZ246dS5Qcm9wVHlwZXMuc3RyaW5nLGhpZGRlbjp1LlByb3BUeXBlcy5ib29sLGNsYXNzTmFtZTp1LlByb3BUeXBlcy5zdHJpbmcsY2hpbGRyZW46dS5Qcm9wVHlwZXMubm9kZX0sZi5kZWZhdWx0UHJvcHM9e2RhdGFBbGlnbjpcImxlZnRcIixoaWRkZW46ITEsY2xhc3NOYW1lOlwiXCJ9LHRbXCJkZWZhdWx0XCJdPWYsZS5leHBvcnRzPXRbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpLHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49ZSxhPXQsaT1yO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGEpO2lmKHZvaWQgMCE9PXMpe2lmKFwidmFsdWVcImluIHMpcmV0dXJuIHMudmFsdWU7dmFyIGw9cy5nZXQ7aWYodm9pZCAwPT09bClyZXR1cm47cmV0dXJuIGwuY2FsbChpKX12YXIgdT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXUpcmV0dXJuO2U9dSx0PWEscj1pLG89ITAscz11PXZvaWQgMH19LGw9cigxKSx1PW8obCkscD1yKDcpLGM9byhwKSxkPXIoOCksZj1vKGQpLGg9cigzKSx5PW8oaCksdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7bih0aGlzLHQpLHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMuaGFuZGxlS2V5UHJlc3M9ZnVuY3Rpb24oZSl7aWYoMTM9PT1lLmtleUNvZGUpe3ZhciB0PVwiY2hlY2tib3hcIj09PWUuY3VycmVudFRhcmdldC50eXBlP3IuX2dldENoZWNrQm94VmFsdWUoZSk6ZS5jdXJyZW50VGFyZ2V0LnZhbHVlO2lmKCFyLnZhbGlkYXRvcih0KSlyZXR1cm47ci5wcm9wcy5jb21wbGV0ZUVkaXQodCxyLnByb3BzLnJvd0luZGV4LHIucHJvcHMuY29sSW5kZXgpfWVsc2UgMjc9PT1lLmtleUNvZGUmJnIucHJvcHMuY29tcGxldGVFZGl0KG51bGwsci5wcm9wcy5yb3dJbmRleCxyLnByb3BzLmNvbEluZGV4KX0sdGhpcy5oYW5kbGVCbHVyPWZ1bmN0aW9uKGUpe2lmKHIucHJvcHMuYmx1clRvU2F2ZSl7dmFyIHQ9XCJjaGVja2JveFwiPT09ZS5jdXJyZW50VGFyZ2V0LnR5cGU/ci5fZ2V0Q2hlY2tCb3hWYWx1ZShlKTplLmN1cnJlbnRUYXJnZXQudmFsdWU7aWYoIXIudmFsaWRhdG9yKHQpKXJldHVybjtyLnByb3BzLmNvbXBsZXRlRWRpdCh0LHIucHJvcHMucm93SW5kZXgsci5wcm9wcy5jb2xJbmRleCl9fSx0aGlzLnRpbWVvdXRlQ2xlYXI9MCx0aGlzLnN0YXRlPXtzaGFrZUVkaXRvcjohMX19cmV0dXJuIGEodCxlKSxpKHQsW3trZXk6XCJ2YWxpZGF0b3JcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHQucHJvcHMuZWRpdGFibGUudmFsaWRhdG9yKXt2YXIgcj10LnByb3BzLmVkaXRhYmxlLnZhbGlkYXRvcihlKTtpZihyIT09ITApe3QucmVmcy5ub3RpZmllci5ub3RpY2UoXCJlcnJvclwiLHIsXCJQcmVzc2VkIEVTQyBjYW4gY2FuY2VsXCIpO3ZhciBvPXQucmVmcy5pbnB1dFJlZjtyZXR1cm4gdC5jbGVhclRpbWVvdXQoKSx0LnNldFN0YXRlKHtzaGFrZUVkaXRvcjohMH0pLHQudGltZW91dGVDbGVhcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zZXRTdGF0ZSh7c2hha2VFZGl0b3I6ITF9KX0sMzAwKSxvLmZvY3VzKCksITF9fXJldHVybiEwfX0se2tleTpcImNsZWFyVGltZW91dFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gZS50b1N0cmluZygpfSx0fShmdW5jdGlvbigpezAhPT10aGlzLnRpbWVvdXRlQ2xlYXImJihjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0ZUNsZWFyKSx0aGlzLnRpbWVvdXRlQ2xlYXI9MCl9KX0se2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlZnMuaW5wdXRSZWYuZm9jdXMoKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhclRpbWVvdXQoKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmVkaXRhYmxlLHI9ZS5mb3JtYXQsbz1lLmNoaWxkcmVuLG49dGhpcy5zdGF0ZS5zaGFrZUVkaXRvcixhPXtyZWY6XCJpbnB1dFJlZlwiLG9uS2V5RG93bjp0aGlzLmhhbmRsZUtleVByZXNzLG9uQmx1cjp0aGlzLmhhbmRsZUJsdXJ9O3QucGxhY2Vob2xkZXImJihhLnBsYWNlaG9sZGVyPXQucGxhY2Vob2xkZXIpO3ZhciBpPSgwLHlbXCJkZWZhdWx0XCJdKSh7YW5pbWF0ZWQ6bixzaGFrZTpufSk7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLHtyZWY6XCJ0ZFwiLHN0eWxlOntwb3NpdGlvbjpcInJlbGF0aXZlXCJ9fSwoMCxjW1wiZGVmYXVsdFwiXSkodCxhLHIsaSxvfHxcIlwiKSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KGZbXCJkZWZhdWx0XCJdLHtyZWY6XCJub3RpZmllclwifSkpfX0se2tleTpcIl9nZXRDaGVja0JveFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIixyPWUuY3VycmVudFRhcmdldC52YWx1ZS5zcGxpdChcIjpcIik7cmV0dXJuIHQ9ZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQ/clswXTpyWzFdfX1dKSx0fShsLkNvbXBvbmVudCk7di5wcm9wVHlwZXM9e2NvbXBsZXRlRWRpdDpsLlByb3BUeXBlcy5mdW5jLHJvd0luZGV4OmwuUHJvcFR5cGVzLm51bWJlcixjb2xJbmRleDpsLlByb3BUeXBlcy5udW1iZXIsYmx1clRvU2F2ZTpsLlByb3BUeXBlcy5ib29sLGVkaXRhYmxlOmwuUHJvcFR5cGVzLm9uZU9mVHlwZShbbC5Qcm9wVHlwZXMuYm9vbCxsLlByb3BUeXBlcy5vYmplY3RdKSxmb3JtYXQ6bC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtsLlByb3BUeXBlcy5ib29sLGwuUHJvcFR5cGVzLmZ1bmNdKSxjaGlsZHJlbjpsLlByb3BUeXBlcy5ub2RlfSx0W1wiZGVmYXVsdFwiXT12LGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG8pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG8mJmUodCxvKSx0fX0oKSxzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPWUsYT10LGk9cjtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixhKTtpZih2b2lkIDAhPT1zKXtpZihcInZhbHVlXCJpbiBzKXJldHVybiBzLnZhbHVlO3ZhciBsPXMuZ2V0O2lmKHZvaWQgMD09PWwpcmV0dXJuO3JldHVybiBsLmNhbGwoaSl9dmFyIHU9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT11KXJldHVybjtlPXUsdD1hLHI9aSxvPSEwLHM9dT12b2lkIDB9fSxsPXIoMSksdT1vKGwpLHA9cigyKSxjPW8ocCksZD1yKDMpLGY9byhkKSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9dGhpcztuKHRoaXMsdCkscyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsZSksdGhpcy5oYW5kbGVLZXlVcD1mdW5jdGlvbihlKXt2YXIgdD1lLmN1cnJlbnRUYXJnZXQsbz10LnZhbHVlLG49dC5uYW1lO1wiXCI9PT1vLnRyaW0oKT9kZWxldGUgci5maWx0ZXJPYmpbbl06ci5maWx0ZXJPYmpbbl09byxyLnByb3BzLm9uRmlsdGVyKHIuZmlsdGVyT2JqKX0sdGhpcy5maWx0ZXJPYmo9e319cmV0dXJuIGEodCxlKSxpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLnN0cmlwZWQscj1lLmNvbmRlbnNlZCxvPWUucm93U2VsZWN0VHlwZSxuPWUuY29sdW1ucyxhPSgwLGZbXCJkZWZhdWx0XCJdKShcInRhYmxlXCIse1widGFibGUtc3RyaXBlZFwiOnQsXCJ0YWJsZS1jb25kZW5zZWRcIjpyfSksaT1udWxsO2lmKG89PT1jW1wiZGVmYXVsdFwiXS5ST1dfU0VMRUNUX1NJTkdMRXx8bz09PWNbXCJkZWZhdWx0XCJdLlJPV19TRUxFQ1RfTVVMVEkpe3ZhciBzPXt3aWR0aDozNSxwYWRkaW5nTGVmdDowLHBhZGRpbmdSaWdodDowfTtpPXVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLHtzdHlsZTpzLGtleTotMX0sXCJGaWx0ZXJcIil9dmFyIGw9bi5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5oaWRkZW4scj1lLndpZHRoLG89ZS5uYW1lLG49e2Rpc3BsYXk6dD9cIm5vbmVcIjpudWxsLHdpZHRoOnJ9O3JldHVybiB1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwidGhcIix7a2V5Om8sc3R5bGU6bn0sdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ0aC1pbm5lciB0YWJsZS1oZWFkZXItY29sdW1uXCJ9LHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLHtzaXplOlwiMTBcIix0eXBlOlwidGV4dFwiLHBsYWNlaG9sZGVyOm8sbmFtZTpvLG9uS2V5VXA6dGhpcy5oYW5kbGVLZXlVcH0pKSl9LHRoaXMpO3JldHVybiB1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwidGFibGVcIix7Y2xhc3NOYW1lOmEsc3R5bGU6e21hcmdpblRvcDo1fX0sdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInRoZWFkXCIsbnVsbCx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwidHJcIix7c3R5bGU6e2JvcmRlckJvdHRvbVN0eWxlOlwiaGlkZGVuXCJ9fSxpLGwpKSl9fV0pLHR9KGwuQ29tcG9uZW50KTtoLnByb3BUeXBlcz17Y29sdW1uczpsLlByb3BUeXBlcy5hcnJheSxyb3dTZWxlY3RUeXBlOmwuUHJvcFR5cGVzLnN0cmluZyxvbkZpbHRlcjpsLlByb3BUeXBlcy5mdW5jfSx0W1wiZGVmYXVsdFwiXT1oLGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG8pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG8mJmUodCxvKSx0fX0oKSxzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPWUsYT10LGk9cjtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixhKTtpZih2b2lkIDAhPT1zKXtpZihcInZhbHVlXCJpbiBzKXJldHVybiBzLnZhbHVlO3ZhciBsPXMuZ2V0O2lmKHZvaWQgMD09PWwpcmV0dXJuO3JldHVybiBsLmNhbGwoaSl9dmFyIHU9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT11KXJldHVybjtlPXUsdD1hLHI9aSxvPSEwLHM9dT12b2lkIDB9fSxsPXIoMSksdT1vKGwpLHA9cig2KSxjPW8ocCksZD1yKDIpLGY9byhkKSxoPXIoMykseT1vKGgpLHY9cigxMyksbT1vKHYpLGc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe24odGhpcyx0KSxzKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksXCJjb25zdHJ1Y3RvclwiLHRoaXMpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gYSh0LGUpLGkodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZSh0aGlzLnByb3BzLmNoZWNrZWQpfX0se2tleTpcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnVwZGF0ZShlLmNoZWNrZWQpfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2NbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpLmluZGV0ZXJtaW5hdGU9XCJpbmRldGVybWluYXRlXCI9PT1lfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLHtjbGFzc05hbWU6XCJyZWFjdC1icy1zZWxlY3QtYWxsXCIsdHlwZTpcImNoZWNrYm94XCIsY2hlY2tlZDp0aGlzLnByb3BzLmNoZWNrZWQsb25DaGFuZ2U6dGhpcy5wcm9wcy5vbkNoYW5nZX0pfX1dKSx0fShsLkNvbXBvbmVudCksYj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7bih0aGlzLHQpLHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBhKHQsZSksaSh0LFt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9KDAseVtcImRlZmF1bHRcIl0pKFwicmVhY3QtYnMtY29udGFpbmVyLWhlYWRlclwiLFwidGFibGUtaGVhZGVyLXdyYXBwZXJcIikscj0oMCx5W1wiZGVmYXVsdFwiXSkoXCJ0YWJsZVwiLFwidGFibGUtaG92ZXJcIix7XCJ0YWJsZS1ib3JkZXJlZFwiOnRoaXMucHJvcHMuYm9yZGVyZWQsXCJ0YWJsZS1jb25kZW5zZWRcIjp0aGlzLnByb3BzLmNvbmRlbnNlZH0pLG89bnVsbDt0aGlzLnByb3BzLmhpZGVTZWxlY3RDb2x1bW58fChvPXRoaXMucmVuZGVyU2VsZWN0Um93SGVhZGVyKCkpO3ZhciBuPTA7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7cmVmOlwiY29udGFpbmVyXCIsY2xhc3NOYW1lOnQsc3R5bGU6dGhpcy5wcm9wcy5zdHlsZX0sdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInRhYmxlXCIse2NsYXNzTmFtZTpyfSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwidGhlYWRcIixudWxsLHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJ0clwiLHtyZWY6XCJoZWFkZXJcIn0sbyx1W1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5tYXAodGhpcy5wcm9wcy5jaGlsZHJlbixmdW5jdGlvbih0KXt2YXIgcj1lLnByb3BzLG89ci5zb3J0SW5kaWNhdG9yLGE9ci5zb3J0TmFtZSxpPXIuc29ydE9yZGVyLHM9ci5vblNvcnQsbD10LnByb3BzLHA9bC5kYXRhRmllbGQsYz1sLmRhdGFTb3J0LGQ9YyYmcD09PWE/aTp2b2lkIDA7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudCh0LHtrZXk6bisrLG9uU29ydDpzLHNvcnQ6ZCxzb3J0SW5kaWNhdG9yOm99KX0pKSkpKX19LHtrZXk6XCJyZW5kZXJTZWxlY3RSb3dIZWFkZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLnJvd1NlbGVjdFR5cGU9PT1mW1wiZGVmYXVsdFwiXS5ST1dfU0VMRUNUX1NJTkdMRT91W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KG1bXCJkZWZhdWx0XCJdLG51bGwpOnRoaXMucHJvcHMucm93U2VsZWN0VHlwZT09PWZbXCJkZWZhdWx0XCJdLlJPV19TRUxFQ1RfTVVMVEk/dVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChtW1wiZGVmYXVsdFwiXSxudWxsLHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoZyx7b25DaGFuZ2U6dGhpcy5wcm9wcy5vblNlbGVjdEFsbFJvdyxjaGVja2VkOnRoaXMucHJvcHMuaXNTZWxlY3RBbGx9KSk6bnVsbH19XSksdH0obC5Db21wb25lbnQpO2IucHJvcFR5cGVzPXtzdHlsZTpsLlByb3BUeXBlcy5vYmplY3Qscm93U2VsZWN0VHlwZTpsLlByb3BUeXBlcy5zdHJpbmcsb25Tb3J0OmwuUHJvcFR5cGVzLmZ1bmMsb25TZWxlY3RBbGxSb3c6bC5Qcm9wVHlwZXMuZnVuYyxzb3J0TmFtZTpsLlByb3BUeXBlcy5zdHJpbmcsc29ydE9yZGVyOmwuUHJvcFR5cGVzLnN0cmluZyxoaWRlU2VsZWN0Q29sdW1uOmwuUHJvcFR5cGVzLmJvb2wsYm9yZGVyZWQ6bC5Qcm9wVHlwZXMuYm9vbCxjb25kZW5zZWQ6bC5Qcm9wVHlwZXMuYm9vbCxpc0ZpbHRlcmVkOmwuUHJvcFR5cGVzLmJvb2wsaXNTZWxlY3RBbGw6bC5Qcm9wVHlwZXMub25lT2YoWyEwLFwiaW5kZXRlcm1pbmF0ZVwiLCExXSksc29ydEluZGljYXRvcjpsLlByb3BUeXBlcy5ib29sfSx0W1wiZGVmYXVsdFwiXT1iLGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbyBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG8pJiYoZVtvXT1yW29dKX1yZXR1cm4gZX0scz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpLGw9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49ZSxhPXQsaT1yO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGEpO2lmKHZvaWQgMCE9PXMpe2lmKFwidmFsdWVcImluIHMpcmV0dXJuIHMudmFsdWU7dmFyIGw9cy5nZXQ7aWYodm9pZCAwPT09bClyZXR1cm47cmV0dXJuIGwuY2FsbChpKX12YXIgdT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXUpcmV0dXJuO2U9dSx0PWEscj1pLG89ITAscz11PXZvaWQgMH19LHU9cigxKSxwPW8odSksYz1yKDIpLGQ9byhjKSxmPXIoNSksaD1vKGYpLHk9cigyMiksdj1vKHkpLG09cigyNiksZz1vKG0pLGI9cigyNCksVD1vKGIpLEU9cigyNSksUD1vKEUpLF89cigyMyksdz1vKF8pLE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgcj10aGlzO24odGhpcyx0KSxsKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksXCJjb25zdHJ1Y3RvclwiLHRoaXMpLmNhbGwodGhpcyxlKSx0aGlzLmhhbmRsZUNvbHVtbkNsaWNrPWZ1bmN0aW9uKCl7aWYoci5wcm9wcy5kYXRhU29ydCl7dmFyIGU9ci5wcm9wcy5zb3J0PT09ZFtcImRlZmF1bHRcIl0uU09SVF9ERVNDP2RbXCJkZWZhdWx0XCJdLlNPUlRfQVNDOmRbXCJkZWZhdWx0XCJdLlNPUlRfREVTQztyLnByb3BzLm9uU29ydChlLHIucHJvcHMuZGF0YUZpZWxkKX19LHRoaXMuaGFuZGxlRmlsdGVyPXRoaXMuaGFuZGxlRmlsdGVyLmJpbmQodGhpcyl9cmV0dXJuIGEodCxlKSxzKHQsW3trZXk6XCJoYW5kbGVGaWx0ZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMucHJvcHMuZmlsdGVyLmVtaXR0ZXIuaGFuZGxlRmlsdGVyKHRoaXMucHJvcHMuZGF0YUZpZWxkLGUsdCl9fSx7a2V5OlwiZ2V0RmlsdGVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMucHJvcHMuZmlsdGVyLnR5cGUpe2Nhc2UgZFtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuVEVYVDpyZXR1cm4gcFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChnW1wiZGVmYXVsdFwiXSxpKHt9LHRoaXMucHJvcHMuZmlsdGVyLHtjb2x1bW5OYW1lOnRoaXMucHJvcHMuY2hpbGRyZW4sZmlsdGVySGFuZGxlcjp0aGlzLmhhbmRsZUZpbHRlcn0pKTtjYXNlIGRbXCJkZWZhdWx0XCJdLkZJTFRFUl9UWVBFLlJFR0VYOnJldHVybiBwW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFRbXCJkZWZhdWx0XCJdLGkoe30sdGhpcy5wcm9wcy5maWx0ZXIse2NvbHVtbk5hbWU6dGhpcy5wcm9wcy5jaGlsZHJlbixmaWx0ZXJIYW5kbGVyOnRoaXMuaGFuZGxlRmlsdGVyfSkpO2Nhc2UgZFtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuU0VMRUNUOnJldHVybiBwW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFBbXCJkZWZhdWx0XCJdLGkoe30sdGhpcy5wcm9wcy5maWx0ZXIse2NvbHVtbk5hbWU6dGhpcy5wcm9wcy5jaGlsZHJlbixmaWx0ZXJIYW5kbGVyOnRoaXMuaGFuZGxlRmlsdGVyfSkpO2Nhc2UgZFtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuTlVNQkVSOnJldHVybiBwW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KHdbXCJkZWZhdWx0XCJdLGkoe30sdGhpcy5wcm9wcy5maWx0ZXIse2NvbHVtbk5hbWU6dGhpcy5wcm9wcy5jaGlsZHJlbixmaWx0ZXJIYW5kbGVyOnRoaXMuaGFuZGxlRmlsdGVyfSkpO2Nhc2UgZFtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuREFURTpyZXR1cm4gcFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCh2W1wiZGVmYXVsdFwiXSxpKHt9LHRoaXMucHJvcHMuZmlsdGVyLHtjb2x1bW5OYW1lOnRoaXMucHJvcHMuY2hpbGRyZW4sZmlsdGVySGFuZGxlcjp0aGlzLmhhbmRsZUZpbHRlcn0pKTtjYXNlIGRbXCJkZWZhdWx0XCJdLkZJTFRFUl9UWVBFLkNVU1RPTTpyZXR1cm4gdGhpcy5wcm9wcy5maWx0ZXIuZ2V0RWxlbWVudCh0aGlzLmhhbmRsZUZpbHRlcix0aGlzLnByb3BzLmZpbHRlci5jdXN0b21GaWx0ZXJQYXJhbWV0ZXJzKX19fSx7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVmc1tcImhlYWRlci1jb2xcIl0uc2V0QXR0cmlidXRlKFwiZGF0YS1maWVsZFwiLHRoaXMucHJvcHMuZGF0YUZpZWxkKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCx0PXt0ZXh0QWxpZ246dGhpcy5wcm9wcy5kYXRhQWxpZ24sZGlzcGxheTp0aGlzLnByb3BzLmhpZGRlbj9cIm5vbmVcIjpudWxsfTt0aGlzLnByb3BzLnNvcnRJbmRpY2F0b3ImJihlPXRoaXMucHJvcHMuZGF0YVNvcnQ/cFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwib3JkZXJcIn0scFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiZHJvcGRvd25cIn0scFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiY2FyZXRcIixzdHlsZTp7bWFyZ2luOlwiMTBweCAwIDEwcHggNXB4XCIsY29sb3I6XCIjY2NjXCJ9fSkpLHBbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImRyb3B1cFwifSxwW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjYXJldFwiLHN0eWxlOnttYXJnaW46XCIxMHB4IDBcIixjb2xvcjpcIiNjY2NcIn19KSkpOm51bGwpO3ZhciByPXRoaXMucHJvcHMuc29ydD9oW1wiZGVmYXVsdFwiXS5yZW5kZXJSZWFjdFNvcnRDYXJldCh0aGlzLnByb3BzLnNvcnQpOmU7dGhpcy5wcm9wcy5jYXJldFJlbmRlciYmKHI9dGhpcy5wcm9wcy5jYXJldFJlbmRlcih0aGlzLnByb3BzLnNvcnQpKTt2YXIgbz10aGlzLnByb3BzLmNsYXNzTmFtZStcIiBcIisodGhpcy5wcm9wcy5kYXRhU29ydD9cInNvcnQtY29sdW1uXCI6XCJcIiksbj1cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5wcm9wcy5jaGlsZHJlbj97dGl0bGU6dGhpcy5wcm9wcy5jaGlsZHJlbn06bnVsbDtyZXR1cm4gcFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInRoXCIsaSh7cmVmOlwiaGVhZGVyLWNvbFwiLGNsYXNzTmFtZTpvLHN0eWxlOnQsb25DbGljazp0aGlzLmhhbmRsZUNvbHVtbkNsaWNrfSxuKSx0aGlzLnByb3BzLmNoaWxkcmVuLHIscFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtvbkNsaWNrOmZ1bmN0aW9uKGUpe3JldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpfX0sdGhpcy5wcm9wcy5maWx0ZXI/dGhpcy5nZXRGaWx0ZXJzKCk6bnVsbCkpfX1dKSx0fSh1LkNvbXBvbmVudCksUz1bXTtmb3IodmFyIEMgaW4gZFtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUpUy5wdXNoKGRbXCJkZWZhdWx0XCJdLkZJTFRFUl9UWVBFW0NdKTtPLnByb3BUeXBlcz17ZGF0YUZpZWxkOnUuUHJvcFR5cGVzLnN0cmluZyxkYXRhQWxpZ246dS5Qcm9wVHlwZXMuc3RyaW5nLGRhdGFTb3J0OnUuUHJvcFR5cGVzLmJvb2wsb25Tb3J0OnUuUHJvcFR5cGVzLmZ1bmMsZGF0YUZvcm1hdDp1LlByb3BUeXBlcy5mdW5jLGlzS2V5OnUuUHJvcFR5cGVzLmJvb2wsZWRpdGFibGU6dS5Qcm9wVHlwZXMuYW55LGhpZGRlbjp1LlByb3BUeXBlcy5ib29sLHNlYXJjaGFibGU6dS5Qcm9wVHlwZXMuYm9vbCxjbGFzc05hbWU6dS5Qcm9wVHlwZXMuc3RyaW5nLHdpZHRoOnUuUHJvcFR5cGVzLnN0cmluZyxzb3J0RnVuYzp1LlByb3BUeXBlcy5mdW5jLHNvcnRGdW5jRXh0cmFEYXRhOnUuUHJvcFR5cGVzLmFueSxjb2x1bW5DbGFzc05hbWU6dS5Qcm9wVHlwZXMuYW55LGZpbHRlckZvcm1hdHRlZDp1LlByb3BUeXBlcy5ib29sLHNvcnQ6dS5Qcm9wVHlwZXMuc3RyaW5nLGNhcmV0UmVuZGVyOnUuUHJvcFR5cGVzLmZ1bmMsZm9ybWF0RXh0cmFEYXRhOnUuUHJvcFR5cGVzLmFueSxmaWx0ZXI6dS5Qcm9wVHlwZXMuc2hhcGUoe3R5cGU6dS5Qcm9wVHlwZXMub25lT2YoUyksZGVsYXk6dS5Qcm9wVHlwZXMubnVtYmVyLG9wdGlvbnM6dS5Qcm9wVHlwZXMub25lT2ZUeXBlKFt1LlByb3BUeXBlcy5vYmplY3QsdS5Qcm9wVHlwZXMuYXJyYXlPZih1LlByb3BUeXBlcy5udW1iZXIpXSksbnVtYmVyQ29tcGFyYXRvcnM6dS5Qcm9wVHlwZXMuYXJyYXlPZih1LlByb3BUeXBlcy5zdHJpbmcpLGVtaXR0ZXI6dS5Qcm9wVHlwZXMub2JqZWN0LHBsYWNlaG9sZGVyOnUuUHJvcFR5cGVzLnN0cmluZyxnZXRFbGVtZW50OnUuUHJvcFR5cGVzLmZ1bmMsY3VzdG9tRmlsdGVyUGFyYW1ldGVyczp1LlByb3BUeXBlcy5vYmplY3R9KSxzb3J0SW5kaWNhdG9yOnUuUHJvcFR5cGVzLmJvb2x9LE8uZGVmYXVsdFByb3BzPXtkYXRhQWxpZ246XCJsZWZ0XCIsZGF0YVNvcnQ6ITEsZGF0YUZvcm1hdDp2b2lkIDAsaXNLZXk6ITEsZWRpdGFibGU6ITAsb25Tb3J0OnZvaWQgMCxoaWRkZW46ITEsc2VhcmNoYWJsZTohMCxjbGFzc05hbWU6XCJcIix3aWR0aDpudWxsLHNvcnRGdW5jOnZvaWQgMCxjb2x1bW5DbGFzc05hbWU6XCJcIixmaWx0ZXJGb3JtYXR0ZWQ6ITEsc29ydDp2b2lkIDAsZm9ybWF0RXh0cmFEYXRhOnZvaWQgMCxzb3J0RnVuY0V4dHJhRGF0YTp2b2lkIDAsZmlsdGVyOnZvaWQgMCxzb3J0SW5kaWNhdG9yOiEwfSx0W1wiZGVmYXVsdFwiXT1PLGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbyBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG8pJiYoZVtvXT1yW29dKX1yZXR1cm4gZX0scz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpLGw9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49ZSxhPXQsaT1yO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGEpO2lmKHZvaWQgMCE9PXMpe2lmKFwidmFsdWVcImluIHMpcmV0dXJuIHMudmFsdWU7dmFyIGw9cy5nZXQ7aWYodm9pZCAwPT09bClyZXR1cm47cmV0dXJuIGwuY2FsbChpKX12YXIgdT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXUpcmV0dXJuO2U9dSx0PWEscj1pLG89ITAscz11PXZvaWQgMH19LHU9cigxKSxwPW8odSksYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7bih0aGlzLHQpLGwoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMucm93Q2xpY2s9ZnVuY3Rpb24oZSl7XCJJTlBVVFwiIT09ZS50YXJnZXQudGFnTmFtZSYmXCJTRUxFQ1RcIiE9PWUudGFyZ2V0LnRhZ05hbWUmJlwiVEVYVEFSRUFcIiE9PWUudGFyZ2V0LnRhZ05hbWUmJiFmdW5jdGlvbigpe3ZhciB0PWUuY3VycmVudFRhcmdldC5yb3dJbmRleCsxO3IucHJvcHMuc2VsZWN0Um93JiYoci5wcm9wcy5zZWxlY3RSb3cuY2xpY2tUb1NlbGVjdD9yLnByb3BzLm9uU2VsZWN0Um93KHQsIXIucHJvcHMuaXNTZWxlY3RlZCxlKTpyLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwmJihyLmNsaWNrTnVtKyssc2V0VGltZW91dChmdW5jdGlvbigpezE9PT1yLmNsaWNrTnVtJiZyLnByb3BzLm9uU2VsZWN0Um93KHQsIXIucHJvcHMuaXNTZWxlY3RlZCxlKSxyLmNsaWNrTnVtPTB9LDIwMCkpKSxyLnByb3BzLm9uUm93Q2xpY2smJnIucHJvcHMub25Sb3dDbGljayh0KX0oKX0sdGhpcy5yb3dNb3VzZU91dD1mdW5jdGlvbihlKXtyLnByb3BzLm9uUm93TW91c2VPdXQmJnIucHJvcHMub25Sb3dNb3VzZU91dChlLmN1cnJlbnRUYXJnZXQucm93SW5kZXgsZSl9LHRoaXMucm93TW91c2VPdmVyPWZ1bmN0aW9uKGUpe3IucHJvcHMub25Sb3dNb3VzZU92ZXImJnIucHJvcHMub25Sb3dNb3VzZU92ZXIoZS5jdXJyZW50VGFyZ2V0LnJvd0luZGV4LGUpfSx0aGlzLmNsaWNrTnVtPTB9cmV0dXJuIGEodCxlKSxzKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2xpY2tOdW09MDt2YXIgZT17c3R5bGU6e2JhY2tncm91bmRDb2xvcjp0aGlzLnByb3BzLmlzU2VsZWN0ZWQ/dGhpcy5wcm9wcy5zZWxlY3RSb3cuYmdDb2xvcjpudWxsfSxjbGFzc05hbWU6KHRoaXMucHJvcHMuaXNTZWxlY3RlZCYmdGhpcy5wcm9wcy5zZWxlY3RSb3cuY2xhc3NOYW1lP3RoaXMucHJvcHMuc2VsZWN0Um93LmNsYXNzTmFtZTpcIlwiKSsodGhpcy5wcm9wcy5jbGFzc05hbWV8fFwiXCIpfTtyZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3RSb3cmJih0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0fHx0aGlzLnByb3BzLnNlbGVjdFJvdy5jbGlja1RvU2VsZWN0QW5kRWRpdENlbGwpfHx0aGlzLnByb3BzLm9uUm93Q2xpY2s/cFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInRyXCIsaSh7fSxlLHtvbk1vdXNlT3Zlcjp0aGlzLnJvd01vdXNlT3Zlcixvbk1vdXNlT3V0OnRoaXMucm93TW91c2VPdXQsb25DbGljazp0aGlzLnJvd0NsaWNrfSksdGhpcy5wcm9wcy5jaGlsZHJlbik6cFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInRyXCIsZSx0aGlzLnByb3BzLmNoaWxkcmVuKX19XSksdH0odS5Db21wb25lbnQpO2MucHJvcFR5cGVzPXtpc1NlbGVjdGVkOnUuUHJvcFR5cGVzLmJvb2wsZW5hYmxlQ2VsbEVkaXQ6dS5Qcm9wVHlwZXMuYm9vbCxvblJvd0NsaWNrOnUuUHJvcFR5cGVzLmZ1bmMsb25TZWxlY3RSb3c6dS5Qcm9wVHlwZXMuZnVuYyxvblJvd01vdXNlT3V0OnUuUHJvcFR5cGVzLmZ1bmMsb25Sb3dNb3VzZU92ZXI6dS5Qcm9wVHlwZXMuZnVuY30sYy5kZWZhdWx0UHJvcHM9e29uUm93Q2xpY2s6dm9pZCAwfSx0W1wiZGVmYXVsdFwiXT1jLGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9XCJcIjtyZXR1cm4gMD09PWUubGVuZ3RoP3I6KHIrPXQuam9pbihcIixcIikrXCJcXG5cIixlLm1hcChmdW5jdGlvbihlKXt0Lm1hcChmdW5jdGlvbihvLG4pe3ZhciBhPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBlW29dPydcIicrZVtvXSsnXCInOlwiXCI7cis9YSxuKzE8dC5sZW5ndGgmJihyKz1cIixcIil9KSxyKz1cIlxcblwifSkscil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9cig1KSxpPW8oYSk7aWYoaVtcImRlZmF1bHRcIl0uY2FuVXNlRE9NKCkpdmFyIHM9cigzMSksbD1zLnNhdmVBczt2YXIgdT1mdW5jdGlvbihlLHQscil7dmFyIG89bihlLHQpO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJmwobmV3IEJsb2IoW29dLHt0eXBlOlwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCJ9KSxyKX07dFtcImRlZmF1bHRcIl09dSxlLmV4cG9ydHM9dFtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUuZ2V0RnVsbFllYXIoKStcIi1cIisoXCIwXCIrKGUuZ2V0TW9udGgoKSsxKSkuc2xpY2UoLTIpK1wiLVwiKyhcIjBcIitlLmdldERhdGUoKSkuc2xpY2UoLTIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQscixvKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxvJiZlKHQsbyksdH19KCksbD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPSEwO287KXt2YXIgbj1lLGE9dCxpPXI7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgcz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sYSk7aWYodm9pZCAwIT09cyl7aWYoXCJ2YWx1ZVwiaW4gcylyZXR1cm4gcy52YWx1ZTt2YXIgbD1zLmdldDtpZih2b2lkIDA9PT1sKXJldHVybjtyZXR1cm4gbC5jYWxsKGkpfXZhciB1PU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09dSlyZXR1cm47ZT11LHQ9YSxyPWksbz0hMCxzPXU9dm9pZCAwfX0sdT1yKDEpLHA9byh1KSxjPXIoMiksZD1vKGMpLGY9W1wiPVwiLFwiPlwiLFwiPj1cIixcIjxcIixcIjw9XCIsXCIhPVwiXSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLGwoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMuZGF0ZUNvbXBhcmF0b3JzPXRoaXMucHJvcHMuZGF0ZUNvbXBhcmF0b3JzfHxmLHRoaXMuZmlsdGVyPXRoaXMuZmlsdGVyLmJpbmQodGhpcyksdGhpcy5vbkNoYW5nZUNvbXBhcmF0b3I9dGhpcy5vbkNoYW5nZUNvbXBhcmF0b3IuYmluZCh0aGlzKX1yZXR1cm4gYSh0LGUpLHModCxbe2tleTpcInNldERlZmF1bHREYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1cIlwiLHQ9dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWU7cmV0dXJuIHQmJnQuZGF0ZSYmKGU9aShuZXcgRGF0ZSh0LmRhdGUpKSksZX19LHtrZXk6XCJvbkNoYW5nZUNvbXBhcmF0b3JcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJlZnMuaW5wdXREYXRlLnZhbHVlLHI9ZS50YXJnZXQudmFsdWU7XCJcIiE9PXQmJih0PW5ldyBEYXRlKHQpLHRoaXMucHJvcHMuZmlsdGVySGFuZGxlcih7ZGF0ZTp0LGNvbXBhcmF0b3I6cn0sZFtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuREFURSkpfX0se2tleTpcImdldENvbXBhcmF0b3JPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1bXTtlLnB1c2gocFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLHtrZXk6XCItMVwifSkpO2Zvcih2YXIgdD0wO3Q8dGhpcy5kYXRlQ29tcGFyYXRvcnMubGVuZ3RoO3QrKyllLnB1c2gocFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLHtrZXk6dCx2YWx1ZTp0aGlzLmRhdGVDb21wYXJhdG9yc1t0XX0sdGhpcy5kYXRlQ29tcGFyYXRvcnNbdF0pKTtyZXR1cm4gZX19LHtrZXk6XCJmaWx0ZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJlZnMuZGF0ZUZpbHRlckNvbXBhcmF0b3IudmFsdWUscj1lLnRhcmdldC52YWx1ZTtyP3RoaXMucHJvcHMuZmlsdGVySGFuZGxlcih7ZGF0ZTpuZXcgRGF0ZShyKSxjb21wYXJhdG9yOnR9LGRbXCJkZWZhdWx0XCJdLkZJTFRFUl9UWVBFLkRBVEUpOnRoaXMucHJvcHMuZmlsdGVySGFuZGxlcihudWxsLGRbXCJkZWZhdWx0XCJdLkZJTFRFUl9UWVBFLkRBVEUpfX0se2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlZnMuZGF0ZUZpbHRlckNvbXBhcmF0b3IudmFsdWUsdD10aGlzLnJlZnMuaW5wdXREYXRlLnZhbHVlO2UmJnQmJnRoaXMucHJvcHMuZmlsdGVySGFuZGxlcih7ZGF0ZTpuZXcgRGF0ZSh0KSxjb21wYXJhdG9yOmV9LGRbXCJkZWZhdWx0XCJdLkZJTFRFUl9UWVBFLkRBVEUpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWU7cmV0dXJuIHBbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiZmlsdGVyIGRhdGUtZmlsdGVyXCJ9LHBbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIix7cmVmOlwiZGF0ZUZpbHRlckNvbXBhcmF0b3JcIixjbGFzc05hbWU6XCJkYXRlLWZpbHRlci1jb21wYXJhdG9yIGZvcm0tY29udHJvbFwiLG9uQ2hhbmdlOnRoaXMub25DaGFuZ2VDb21wYXJhdG9yLGRlZmF1bHRWYWx1ZTplP2UuY29tcGFyYXRvcjpcIlwifSx0aGlzLmdldENvbXBhcmF0b3JPcHRpb25zKCkpLHBbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLHtyZWY6XCJpbnB1dERhdGVcIixjbGFzc05hbWU6XCJmaWx0ZXIgZGF0ZS1maWx0ZXItaW5wdXQgZm9ybS1jb250cm9sXCIsdHlwZTpcImRhdGVcIixvbkNoYW5nZTp0aGlzLmZpbHRlcixkZWZhdWx0VmFsdWU6dGhpcy5zZXREZWZhdWx0RGF0ZSgpfSkpfX1dKSx0fSh1LkNvbXBvbmVudCk7aC5wcm9wVHlwZXM9e2ZpbHRlckhhbmRsZXI6dS5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLGRlZmF1bHRWYWx1ZTp1LlByb3BUeXBlcy5zaGFwZSh7ZGF0ZTp1LlByb3BUeXBlcy5vYmplY3QsY29tcGFyYXRvcjp1LlByb3BUeXBlcy5vbmVPZihmKX0pLGRhdGVDb21wYXJhdG9yczpmdW5jdGlvbihlLHQpe2lmKGVbdF0pZm9yKHZhciByPTA7cjxlW3RdLmxlbmd0aDtyKyspe2Zvcih2YXIgbz0hMSxuPTA7bjxmLmxlbmd0aDtuKyspaWYoZltuXT09PWVbdF1bcl0pe289ITA7YnJlYWt9aWYoIW8pcmV0dXJuIG5ldyBFcnJvcihcIkRhdGUgY29tcGFyYXRvciBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkLlxcbiAgICAgICAgICBVc2Ugb25seSBcIitmKX19LGNvbHVtbk5hbWU6dS5Qcm9wVHlwZXMuc3RyaW5nfSx0W1wiZGVmYXVsdFwiXT1oLGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplXG59fWZ1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpLHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49ZSxhPXQsaT1yO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGEpO2lmKHZvaWQgMCE9PXMpe2lmKFwidmFsdWVcImluIHMpcmV0dXJuIHMudmFsdWU7dmFyIGw9cy5nZXQ7aWYodm9pZCAwPT09bClyZXR1cm47cmV0dXJuIGwuY2FsbChpKX12YXIgdT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXUpcmV0dXJuO2U9dSx0PWEscj1pLG89ITAscz11PXZvaWQgMH19LGw9cigxKSx1PW8obCkscD1yKDMpLGM9byhwKSxkPXIoMiksZj1vKGQpLGg9W1wiPVwiLFwiPlwiLFwiPj1cIixcIjxcIixcIjw9XCIsXCIhPVwiXSx5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMubnVtYmVyQ29tcGFyYXRvcnM9dGhpcy5wcm9wcy5udW1iZXJDb21wYXJhdG9yc3x8aCx0aGlzLnRpbWVvdXQ9bnVsbCx0aGlzLnN0YXRlPXtpc1BsYWNlaG9sZGVyU2VsZWN0ZWQ6dm9pZCAwPT09dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWV8fHZvaWQgMD09PXRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlcnx8dGhpcy5wcm9wcy5vcHRpb25zJiYtMT09PXRoaXMucHJvcHMub3B0aW9ucy5pbmRleE9mKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlcil9LHRoaXMub25DaGFuZ2VOdW1iZXI9dGhpcy5vbkNoYW5nZU51bWJlci5iaW5kKHRoaXMpLHRoaXMub25DaGFuZ2VOdW1iZXJTZXQ9dGhpcy5vbkNoYW5nZU51bWJlclNldC5iaW5kKHRoaXMpLHRoaXMub25DaGFuZ2VDb21wYXJhdG9yPXRoaXMub25DaGFuZ2VDb21wYXJhdG9yLmJpbmQodGhpcyl9cmV0dXJuIGEodCxlKSxpKHQsW3trZXk6XCJvbkNoYW5nZU51bWJlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZTtpZihcIlwiIT09cil7dGhpcy50aW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTt2YXIgbz1lLnRhcmdldC52YWx1ZTt0aGlzLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3QucHJvcHMuZmlsdGVySGFuZGxlcih7bnVtYmVyOm8sY29tcGFyYXRvcjpyfSxmW1wiZGVmYXVsdFwiXS5GSUxURVJfVFlQRS5OVU1CRVIpfSx0aGlzLnByb3BzLmRlbGF5KX19fSx7a2V5Olwib25DaGFuZ2VOdW1iZXJTZXRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSxyPWUudGFyZ2V0LnZhbHVlO3RoaXMuc2V0U3RhdGUoe2lzUGxhY2Vob2xkZXJTZWxlY3RlZDpcIlwiPT09cn0pLFwiXCIhPT10JiZ0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoe251bWJlcjpyLGNvbXBhcmF0b3I6dH0sZltcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuTlVNQkVSKX19LHtrZXk6XCJvbkNoYW5nZUNvbXBhcmF0b3JcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJlZnMubnVtYmVyRmlsdGVyLnZhbHVlLHI9ZS50YXJnZXQudmFsdWU7XCJcIiE9PXQmJnRoaXMucHJvcHMuZmlsdGVySGFuZGxlcih7bnVtYmVyOnQsY29tcGFyYXRvcjpyfSxmW1wiZGVmYXVsdFwiXS5GSUxURVJfVFlQRS5OVU1CRVIpfX0se2tleTpcImdldENvbXBhcmF0b3JPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1bXTtlLnB1c2godVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLHtrZXk6XCItMVwifSkpO2Zvcih2YXIgdD0wO3Q8dGhpcy5udW1iZXJDb21wYXJhdG9ycy5sZW5ndGg7dCsrKWUucHVzaCh1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIse2tleTp0LHZhbHVlOnRoaXMubnVtYmVyQ29tcGFyYXRvcnNbdF19LHRoaXMubnVtYmVyQ29tcGFyYXRvcnNbdF0pKTtyZXR1cm4gZX19LHtrZXk6XCJnZXROdW1iZXJPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXMucHJvcHMub3B0aW9ucztlLnB1c2godVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLHtrZXk6XCItMVwiLHZhbHVlOlwiXCJ9LHRoaXMucHJvcHMucGxhY2Vob2xkZXJ8fFwiU2VsZWN0IFwiK3RoaXMucHJvcHMuY29sdW1uTmFtZStcIi4uLlwiKSk7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS5wdXNoKHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIix7a2V5OnIsdmFsdWU6dFtyXX0sdFtyXSkpO3JldHVybiBlfX0se2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlZnMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSx0PXRoaXMucmVmcy5udW1iZXJGaWx0ZXIudmFsdWU7ZSYmdCYmdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKHtudW1iZXI6dCxjb21wYXJhdG9yOmV9LGZbXCJkZWZhdWx0XCJdLkZJTFRFUl9UWVBFLk5VTUJFUil9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9KDAsY1tcImRlZmF1bHRcIl0pKFwic2VsZWN0LWZpbHRlclwiLFwibnVtYmVyLWZpbHRlci1pbnB1dFwiLFwiZm9ybS1jb250cm9sXCIse1wicGxhY2Vob2xkZXItc2VsZWN0ZWRcIjp0aGlzLnN0YXRlLmlzUGxhY2Vob2xkZXJTZWxlY3RlZH0pO3JldHVybiB1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImZpbHRlciBudW1iZXItZmlsdGVyXCJ9LHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIix7cmVmOlwibnVtYmVyRmlsdGVyQ29tcGFyYXRvclwiLGNsYXNzTmFtZTpcIm51bWJlci1maWx0ZXItY29tcGFyYXRvciBmb3JtLWNvbnRyb2xcIixvbkNoYW5nZTp0aGlzLm9uQ2hhbmdlQ29tcGFyYXRvcixkZWZhdWx0VmFsdWU6dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWU/dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUuY29tcGFyYXRvcjpcIlwifSx0aGlzLmdldENvbXBhcmF0b3JPcHRpb25zKCkpLHRoaXMucHJvcHMub3B0aW9ucz91W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIse3JlZjpcIm51bWJlckZpbHRlclwiLGNsYXNzTmFtZTplLG9uQ2hhbmdlOnRoaXMub25DaGFuZ2VOdW1iZXJTZXQsZGVmYXVsdFZhbHVlOnRoaXMucHJvcHMuZGVmYXVsdFZhbHVlP3RoaXMucHJvcHMuZGVmYXVsdFZhbHVlLm51bWJlcjpcIlwifSx0aGlzLmdldE51bWJlck9wdGlvbnMoKSk6dVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImlucHV0XCIse3JlZjpcIm51bWJlckZpbHRlclwiLHR5cGU6XCJudW1iZXJcIixjbGFzc05hbWU6XCJudW1iZXItZmlsdGVyLWlucHV0IGZvcm0tY29udHJvbFwiLHBsYWNlaG9sZGVyOnRoaXMucHJvcHMucGxhY2Vob2xkZXJ8fFwiRW50ZXIgXCIrdGhpcy5wcm9wcy5jb2x1bW5OYW1lK1wiLi4uXCIsb25DaGFuZ2U6dGhpcy5vbkNoYW5nZU51bWJlcixkZWZhdWx0VmFsdWU6dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWU/dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyOlwiXCJ9KSl9fV0pLHR9KGwuQ29tcG9uZW50KTt5LnByb3BUeXBlcz17ZmlsdGVySGFuZGxlcjpsLlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsb3B0aW9uczpsLlByb3BUeXBlcy5hcnJheU9mKGwuUHJvcFR5cGVzLm51bWJlciksZGVmYXVsdFZhbHVlOmwuUHJvcFR5cGVzLnNoYXBlKHtudW1iZXI6bC5Qcm9wVHlwZXMubnVtYmVyLGNvbXBhcmF0b3I6bC5Qcm9wVHlwZXMub25lT2YoaCl9KSxkZWxheTpsLlByb3BUeXBlcy5udW1iZXIsbnVtYmVyQ29tcGFyYXRvcnM6ZnVuY3Rpb24oZSx0KXtpZihlW3RdKWZvcih2YXIgcj0wO3I8ZVt0XS5sZW5ndGg7cisrKXtmb3IodmFyIG89ITEsbj0wO248aC5sZW5ndGg7bisrKWlmKGhbbl09PT1lW3RdW3JdKXtvPSEwO2JyZWFrfWlmKCFvKXJldHVybiBuZXcgRXJyb3IoXCJOdW1iZXIgY29tcGFyYXRvciBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkLlxcbiAgICAgICAgICBVc2Ugb25seSBcIitoKX19LHBsYWNlaG9sZGVyOmwuUHJvcFR5cGVzLnN0cmluZyxjb2x1bW5OYW1lOmwuUHJvcFR5cGVzLnN0cmluZ30seS5kZWZhdWx0UHJvcHM9e2RlbGF5OmZbXCJkZWZhdWx0XCJdLkZJTFRFUl9ERUxBWX0sdFtcImRlZmF1bHRcIl09eSxlLmV4cG9ydHM9dFtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQscixvKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxvJiZlKHQsbyksdH19KCkscz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPSEwO287KXt2YXIgbj1lLGE9dCxpPXI7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgcz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sYSk7aWYodm9pZCAwIT09cyl7aWYoXCJ2YWx1ZVwiaW4gcylyZXR1cm4gcy52YWx1ZTt2YXIgbD1zLmdldDtpZih2b2lkIDA9PT1sKXJldHVybjtyZXR1cm4gbC5jYWxsKGkpfXZhciB1PU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09dSlyZXR1cm47ZT11LHQ9YSxyPWksbz0hMCxzPXU9dm9pZCAwfX0sbD1yKDEpLHU9byhsKSxwPXIoMiksYz1vKHApLGQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtuKHRoaXMsdCkscyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsZSksdGhpcy5maWx0ZXI9dGhpcy5maWx0ZXIuYmluZCh0aGlzKSx0aGlzLnRpbWVvdXQ9bnVsbH1yZXR1cm4gYSh0LGUpLGkodCxbe2tleTpcImZpbHRlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy50aW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTt2YXIgcj1lLnRhcmdldC52YWx1ZTt0aGlzLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3QucHJvcHMuZmlsdGVySGFuZGxlcihyLGNbXCJkZWZhdWx0XCJdLkZJTFRFUl9UWVBFLlJFR0VYKX0sdGhpcy5wcm9wcy5kZWxheSl9fSx7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVmcy5pbnB1dFRleHQudmFsdWU7ZSYmdGhpcy5wcm9wcy5maWx0ZXJIYW5kbGVyKGUsY1tcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuUkVHRVgpfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmRlZmF1bHRWYWx1ZSxyPWUucGxhY2Vob2xkZXIsbz1lLmNvbHVtbk5hbWU7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLHtyZWY6XCJpbnB1dFRleHRcIixjbGFzc05hbWU6XCJmaWx0ZXIgdGV4dC1maWx0ZXIgZm9ybS1jb250cm9sXCIsdHlwZTpcInRleHRcIixvbkNoYW5nZTp0aGlzLmZpbHRlcixwbGFjZWhvbGRlcjpyfHxcIkVudGVyIFJlZ2V4IGZvciBcIitvK1wiLi4uXCIsZGVmYXVsdFZhbHVlOnQ/dDpcIlwifSl9fV0pLHR9KGwuQ29tcG9uZW50KTtkLnByb3BUeXBlcz17ZmlsdGVySGFuZGxlcjpsLlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsZGVmYXVsdFZhbHVlOmwuUHJvcFR5cGVzLnN0cmluZyxkZWxheTpsLlByb3BUeXBlcy5udW1iZXIscGxhY2Vob2xkZXI6bC5Qcm9wVHlwZXMuc3RyaW5nLGNvbHVtbk5hbWU6bC5Qcm9wVHlwZXMuc3RyaW5nfSxkLmRlZmF1bHRQcm9wcz17ZGVsYXk6Y1tcImRlZmF1bHRcIl0uRklMVEVSX0RFTEFZfSx0W1wiZGVmYXVsdFwiXT1kLGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG8pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG8mJmUodCxvKSx0fX0oKSxzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPWUsYT10LGk9cjtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixhKTtpZih2b2lkIDAhPT1zKXtpZihcInZhbHVlXCJpbiBzKXJldHVybiBzLnZhbHVlO3ZhciBsPXMuZ2V0O2lmKHZvaWQgMD09PWwpcmV0dXJuO3JldHVybiBsLmNhbGwoaSl9dmFyIHU9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT11KXJldHVybjtlPXUsdD1hLHI9aSxvPSEwLHM9dT12b2lkIDB9fSxsPXIoMSksdT1vKGwpLHA9cigzKSxjPW8ocCksZD1yKDIpLGY9byhkKSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMuZmlsdGVyPXRoaXMuZmlsdGVyLmJpbmQodGhpcyksdGhpcy5zdGF0ZT17aXNQbGFjZWhvbGRlclNlbGVjdGVkOnZvaWQgMD09PXRoaXMucHJvcHMuZGVmYXVsdFZhbHVlfHwhdGhpcy5wcm9wcy5vcHRpb25zLmhhc093blByb3BlcnR5KHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlKX19cmV0dXJuIGEodCxlKSxpKHQsW3trZXk6XCJmaWx0ZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC52YWx1ZTt0aGlzLnNldFN0YXRlKHtpc1BsYWNlaG9sZGVyU2VsZWN0ZWQ6XCJcIj09PXR9KSx0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIodCxmW1wiZGVmYXVsdFwiXS5GSUxURVJfVFlQRS5TRUxFQ1QpfX0se2tleTpcImdldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy5wcm9wcyxyPXQub3B0aW9ucyxvPXQucGxhY2Vob2xkZXIsbj10LmNvbHVtbk5hbWU7cmV0dXJuIGUucHVzaCh1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIse2tleTpcIi0xXCIsdmFsdWU6XCJcIn0sb3x8XCJTZWxlY3QgXCIrbitcIi4uLlwiKSksT2JqZWN0LmtleXMocikubWFwKGZ1bmN0aW9uKHQpe2UucHVzaCh1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIse2tleTp0LHZhbHVlOnR9LHJbdF0pKX0pLGV9fSx7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVmcy5zZWxlY3RJbnB1dC52YWx1ZTtlJiZ0aGlzLnByb3BzLmZpbHRlckhhbmRsZXIoZSxmW1wiZGVmYXVsdFwiXS5GSUxURVJfVFlQRS5TRUxFQ1QpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9KDAsY1tcImRlZmF1bHRcIl0pKFwiZmlsdGVyXCIsXCJzZWxlY3QtZmlsdGVyXCIsXCJmb3JtLWNvbnRyb2xcIix7XCJwbGFjZWhvbGRlci1zZWxlY3RlZFwiOnRoaXMuc3RhdGUuaXNQbGFjZWhvbGRlclNlbGVjdGVkfSk7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIix7cmVmOlwic2VsZWN0SW5wdXRcIixjbGFzc05hbWU6ZSxvbkNoYW5nZTp0aGlzLmZpbHRlcixkZWZhdWx0VmFsdWU6dm9pZCAwIT09dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWU/dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWU6XCJcIn0sdGhpcy5nZXRPcHRpb25zKCkpfX1dKSx0fShsLkNvbXBvbmVudCk7aC5wcm9wVHlwZXM9e2ZpbHRlckhhbmRsZXI6bC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLG9wdGlvbnM6bC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQscGxhY2Vob2xkZXI6bC5Qcm9wVHlwZXMuc3RyaW5nLGNvbHVtbk5hbWU6bC5Qcm9wVHlwZXMuc3RyaW5nfSx0W1wiZGVmYXVsdFwiXT1oLGUuZXhwb3J0cz10W1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG8pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG8mJmUodCxvKSx0fX0oKSxzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPWUsYT10LGk9cjtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixhKTtpZih2b2lkIDAhPT1zKXtpZihcInZhbHVlXCJpbiBzKXJldHVybiBzLnZhbHVlO3ZhciBsPXMuZ2V0O2lmKHZvaWQgMD09PWwpcmV0dXJuO3JldHVybiBsLmNhbGwoaSl9dmFyIHU9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT11KXJldHVybjtlPXUsdD1hLHI9aSxvPSEwLHM9dT12b2lkIDB9fSxsPXIoMSksdT1vKGwpLHA9cigyKSxjPW8ocCksZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KSxzKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksXCJjb25zdHJ1Y3RvclwiLHRoaXMpLmNhbGwodGhpcyxlKSx0aGlzLmZpbHRlcj10aGlzLmZpbHRlci5iaW5kKHRoaXMpLHRoaXMudGltZW91dD1udWxsfXJldHVybiBhKHQsZSksaSh0LFt7a2V5OlwiZmlsdGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO3ZhciByPWUudGFyZ2V0LnZhbHVlO3RoaXMudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5wcm9wcy5maWx0ZXJIYW5kbGVyKHIsY1tcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuVEVYVCl9LHRoaXMucHJvcHMuZGVsYXkpfX0se2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlZnMuaW5wdXRUZXh0LnZhbHVlO2UmJnRoaXMucHJvcHMuZmlsdGVySGFuZGxlcihlLGNbXCJkZWZhdWx0XCJdLkZJTFRFUl9UWVBFLlRFWFQpfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLnBsYWNlaG9sZGVyLHI9ZS5jb2x1bW5OYW1lLG89ZS5kZWZhdWx0VmFsdWU7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLHtyZWY6XCJpbnB1dFRleHRcIixjbGFzc05hbWU6XCJmaWx0ZXIgdGV4dC1maWx0ZXIgZm9ybS1jb250cm9sXCIsdHlwZTpcInRleHRcIixvbkNoYW5nZTp0aGlzLmZpbHRlcixwbGFjZWhvbGRlcjp0fHxcIkVudGVyIFwiK3IrXCIuLi5cIixkZWZhdWx0VmFsdWU6bz9vOlwiXCJ9KX19XSksdH0obC5Db21wb25lbnQpO2QucHJvcFR5cGVzPXtmaWx0ZXJIYW5kbGVyOmwuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxkZWZhdWx0VmFsdWU6bC5Qcm9wVHlwZXMuc3RyaW5nLGRlbGF5OmwuUHJvcFR5cGVzLm51bWJlcixwbGFjZWhvbGRlcjpsLlByb3BUeXBlcy5zdHJpbmcsY29sdW1uTmFtZTpsLlByb3BUeXBlcy5zdHJpbmd9LGQuZGVmYXVsdFByb3BzPXtkZWxheTpjW1wiZGVmYXVsdFwiXS5GSUxURVJfREVMQVl9LHRbXCJkZWZhdWx0XCJdPWQsZS5leHBvcnRzPXRbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpLHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49ZSxhPXQsaT1yO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGEpO2lmKHZvaWQgMCE9PXMpe2lmKFwidmFsdWVcImluIHMpcmV0dXJuIHMudmFsdWU7dmFyIGw9cy5nZXQ7aWYodm9pZCAwPT09bClyZXR1cm47cmV0dXJuIGwuY2FsbChpKX12YXIgdT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXUpcmV0dXJuO2U9dSx0PWEscj1pLG89ITAscz11PXZvaWQgMH19LGw9cigxKSx1PW8obCkscD1yKDMpLGM9byhwKSxkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9dGhpcztuKHRoaXMsdCkscyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsZSksdGhpcy5wYWdlQnRuQ2xpY2s9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHIucHJvcHMuY2hhbmdlUGFnZShlLmN1cnJlbnRUYXJnZXQudGV4dENvbnRlbnQpfX1yZXR1cm4gYSh0LGUpLGkodCxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9KDAsY1tcImRlZmF1bHRcIl0pKHthY3RpdmU6dGhpcy5wcm9wcy5hY3RpdmUsZGlzYWJsZWQ6dGhpcy5wcm9wcy5kaXNhYmxlLGhpZGRlbjp0aGlzLnByb3BzLmhpZGRlbn0pO3JldHVybiB1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwibGlcIix7Y2xhc3NOYW1lOmV9LHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJhXCIse2hyZWY6XCIjXCIsb25DbGljazp0aGlzLnBhZ2VCdG5DbGlja30sdGhpcy5wcm9wcy5jaGlsZHJlbikpfX1dKSx0fShsLkNvbXBvbmVudCk7ZC5wcm9wVHlwZXM9e2NoYW5nZVBhZ2U6bC5Qcm9wVHlwZXMuZnVuYyxhY3RpdmU6bC5Qcm9wVHlwZXMuYm9vbCxkaXNhYmxlOmwuUHJvcFR5cGVzLmJvb2wsaGlkZGVuOmwuUHJvcFR5cGVzLmJvb2wsY2hpbGRyZW46bC5Qcm9wVHlwZXMubm9kZX0sdFtcImRlZmF1bHRcIl09ZCxlLmV4cG9ydHM9dFtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQscixvKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxvJiZlKHQsbyksdH19KCkscz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPSEwO287KXt2YXIgbj1lLGE9dCxpPXI7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgcz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sYSk7aWYodm9pZCAwIT09cyl7aWYoXCJ2YWx1ZVwiaW4gcylyZXR1cm4gcy52YWx1ZTt2YXIgbD1zLmdldDtpZih2b2lkIDA9PT1sKXJldHVybjtyZXR1cm4gbC5jYWxsKGkpfXZhciB1PU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09dSlyZXR1cm47ZT11LHQ9YSxyPWksbz0hMCxzPXU9dm9pZCAwfX0sbD1yKDEpLHU9byhsKSxwPXIoMjcpLGM9byhwKSxkPXIoMiksZj1vKGQpLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7bih0aGlzLHQpLHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuY2hhbmdlUGFnZT1mdW5jdGlvbih0KXt2YXIgcj1lLnByb3BzLG89ci5wcmVQYWdlLG49ci5jdXJyUGFnZSxhPXIubmV4dFBhZ2UsaT1yLmxhc3RQYWdlLHM9ci5maXJzdFBhZ2UsbD1yLnNpemVQZXJQYWdlO3Q9dD09PW8/MT5uLTE/MTpuLTE6dD09PWE/bisxPmUudG90YWxQYWdlcz9lLnRvdGFsUGFnZXM6bisxOnQ9PT1pP2UudG90YWxQYWdlczp0PT09cz8xOnBhcnNlSW50KHQsMTApLHQhPT1uJiZlLnByb3BzLmNoYW5nZVBhZ2UodCxsKX0sdGhpcy5jaGFuZ2VTaXplUGVyUGFnZT1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7dmFyIHI9cGFyc2VJbnQodC5jdXJyZW50VGFyZ2V0LnRleHQsMTApLG89ZS5wcm9wcy5jdXJyUGFnZTtyIT09ZS5wcm9wcy5zaXplUGVyUGFnZSYmKGUudG90YWxQYWdlcz1NYXRoLmNlaWwoZS5wcm9wcy5kYXRhU2l6ZS9yKSxvPmUudG90YWxQYWdlcyYmKG89ZS50b3RhbFBhZ2VzKSxlLnByb3BzLmNoYW5nZVBhZ2UobyxyKSxlLnByb3BzLm9uU2l6ZVBlclBhZ2VMaXN0JiZlLnByb3BzLm9uU2l6ZVBlclBhZ2VMaXN0KHIpKX19cmV0dXJuIGEodCxlKSxpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnByb3BzLHI9dC5jdXJyUGFnZSxvPXQuZGF0YVNpemUsbj10LnNpemVQZXJQYWdlLGE9dC5zaXplUGVyUGFnZUxpc3QsaT10LnBhZ2luYXRpb25TaG93c1RvdGFsO3RoaXMudG90YWxQYWdlcz1NYXRoLmNlaWwoby9uKTt2YXIgcz10aGlzLm1ha2VQYWdlKCksbD17XCJmbG9hdFwiOlwicmlnaHRcIixtYXJnaW5Ub3A6XCIwcHhcIn0scD1hLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImxpXCIse2tleTp0LHJvbGU6XCJwcmVzZW50YXRpb25cIn0sdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImFcIix7cm9sZTpcIm1lbnVpdGVtXCIsdGFiSW5kZXg6XCItMVwiLGhyZWY6XCIjXCIsb25DbGljazplLmNoYW5nZVNpemVQZXJQYWdlfSx0KSl9KSxjPWk/dVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIixudWxsLFwiU2hvd2luZyByb3dzIFwiLChyLTEpKm4rMSxcIiB0b8KgXCIsTWF0aC5taW4ocipuLG8pLFwiIG9mwqBcIixvKTpudWxsO3JldHVybiB1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInJvd1wiLHN0eWxlOnttYXJnaW5Ub3A6MTV9fSxhLmxlbmd0aD4xP3VbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixudWxsLHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY29sLW1kLTZcIn0sYyxcIiBcIix1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJkcm9wZG93blwifSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIse2NsYXNzTmFtZTpcImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcIix0eXBlOlwiYnV0dG9uXCIsaWQ6XCJwYWdlRHJvcERvd25cIixcImRhdGEtdG9nZ2xlXCI6XCJkcm9wZG93blwiLFwiYXJpYS1leHBhbmRlZFwiOlwidHJ1ZVwifSxuLHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsbnVsbCxcIiBcIix1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJjYXJldFwifSkpKSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwidWxcIix7Y2xhc3NOYW1lOlwiZHJvcGRvd24tbWVudVwiLHJvbGU6XCJtZW51XCIsXCJhcmlhLWxhYmVsbGVkYnlcIjpcInBhZ2VEcm9wRG93blwifSxwKSkpLHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY29sLW1kLTZcIn0sdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInVsXCIse2NsYXNzTmFtZTpcInBhZ2luYXRpb25cIixzdHlsZTpsfSxzKSkpOnVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixudWxsLHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY29sLW1kLTZcIn0sYyksdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjb2wtbWQtNlwifSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwidWxcIix7Y2xhc3NOYW1lOlwicGFnaW5hdGlvblwiLHN0eWxlOmx9LHMpKSkpfX0se2tleTpcIm1ha2VQYWdlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFBhZ2VzKCk7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWU9PT10aGlzLnByb3BzLmN1cnJQYWdlLHI9ITEsbz0hMTtyZXR1cm4gMSE9PXRoaXMucHJvcHMuY3VyclBhZ2V8fGUhPT10aGlzLnByb3BzLmZpcnN0UGFnZSYmZSE9PXRoaXMucHJvcHMucHJlUGFnZXx8KHI9ITAsbz0hMCksdGhpcy5wcm9wcy5jdXJyUGFnZSE9PXRoaXMudG90YWxQYWdlc3x8ZSE9PXRoaXMucHJvcHMubmV4dFBhZ2UmJmUhPT10aGlzLnByb3BzLmxhc3RQYWdlfHwocj0hMCxvPSEwKSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KGNbXCJkZWZhdWx0XCJdLHtrZXk6ZSxjaGFuZ2VQYWdlOnRoaXMuY2hhbmdlUGFnZSxhY3RpdmU6dCxkaXNhYmxlOnIsaGlkZGVuOm99LGUpfSx0aGlzKX19LHtrZXk6XCJnZXRQYWdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwLHQ9MSxyPXRoaXMudG90YWxQYWdlczt0PU1hdGgubWF4KHRoaXMucHJvcHMuY3VyclBhZ2UtTWF0aC5mbG9vcih0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplLzIpLDEpLHI9dCt0aGlzLnByb3BzLnBhZ2luYXRpb25TaXplLTEscj50aGlzLnRvdGFsUGFnZXMmJihyPXRoaXMudG90YWxQYWdlcyx0PXItdGhpcy5wcm9wcy5wYWdpbmF0aW9uU2l6ZSsxKSxlPTEhPT10JiZ0aGlzLnRvdGFsUGFnZXM+dGhpcy5wcm9wcy5wYWdpbmF0aW9uU2l6ZT9bdGhpcy5wcm9wcy5maXJzdFBhZ2UsdGhpcy5wcm9wcy5wcmVQYWdlXTp0aGlzLnRvdGFsUGFnZXM+MT9bdGhpcy5wcm9wcy5wcmVQYWdlXTpbXTtmb3IodmFyIG89dDtyPj1vO28rKylvPjAmJmUucHVzaChvKTtyZXR1cm4gciE9PXRoaXMudG90YWxQYWdlcz8oZS5wdXNoKHRoaXMucHJvcHMubmV4dFBhZ2UpLGUucHVzaCh0aGlzLnByb3BzLmxhc3RQYWdlKSk6dGhpcy50b3RhbFBhZ2VzPjEmJmUucHVzaCh0aGlzLnByb3BzLm5leHRQYWdlKSxlfX1dKSx0fShsLkNvbXBvbmVudCk7aC5wcm9wVHlwZXM9e2N1cnJQYWdlOmwuUHJvcFR5cGVzLm51bWJlcixzaXplUGVyUGFnZTpsLlByb3BUeXBlcy5udW1iZXIsZGF0YVNpemU6bC5Qcm9wVHlwZXMubnVtYmVyLGNoYW5nZVBhZ2U6bC5Qcm9wVHlwZXMuZnVuYyxzaXplUGVyUGFnZUxpc3Q6bC5Qcm9wVHlwZXMuYXJyYXkscGFnaW5hdGlvblNob3dzVG90YWw6bC5Qcm9wVHlwZXMuYm9vbCxwYWdpbmF0aW9uU2l6ZTpsLlByb3BUeXBlcy5udW1iZXIscmVtb3RlOmwuUHJvcFR5cGVzLmJvb2wsb25TaXplUGVyUGFnZUxpc3Q6bC5Qcm9wVHlwZXMuZnVuYyxwcmVQYWdlOmwuUHJvcFR5cGVzLnN0cmluZ30saC5kZWZhdWx0UHJvcHM9e3NpemVQZXJQYWdlOmZbXCJkZWZhdWx0XCJdLlNJWkVfUEVSX1BBR0V9LHRbXCJkZWZhdWx0XCJdPWgsZS5leHBvcnRzPXRbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0LHIsbyxuKXtyPXIudG9Mb3dlckNhc2UoKTt2YXIgYT1yPT09bFtcImRlZmF1bHRcIl0uU09SVF9ERVNDO3JldHVybiBlLnNvcnQoZnVuY3Rpb24oZSxpKXtyZXR1cm4gbz9vKGUsaSxyLHQsbik6YT9udWxsPT09aVt0XT8hMTpudWxsPT09ZVt0XT8hMDpcInN0cmluZ1wiPT10eXBlb2YgaVt0XT9pW3RdLmxvY2FsZUNvbXBhcmUoZVt0XSk6ZVt0XT5pW3RdPy0xOmVbdF08aVt0XT8xOjA6bnVsbD09PWlbdF0/ITA6bnVsbD09PWVbdF0/ITE6XCJzdHJpbmdcIj09dHlwZW9mIGVbdF0/ZVt0XS5sb2NhbGVDb21wYXJlKGlbdF0pOmVbdF08aVt0XT8tMTplW3RdPmlbdF0/MTowfSksZX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpLHM9cigyKSxsPW8ocyksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7bih0aGlzLGUpLHRoaXMuZGF0YT10LHRoaXMuY29sSW5mb3M9bnVsbCx0aGlzLmZpbHRlcmVkRGF0YT1udWxsLHRoaXMuaXNPbkZpbHRlcj0hMSx0aGlzLmZpbHRlck9iaj1udWxsLHRoaXMuc2VhcmNoVGV4dD1udWxsLHRoaXMuc29ydE9iaj1udWxsLHRoaXMucGFnZU9iaj17fSx0aGlzLnNlbGVjdGVkPVtdLHRoaXMubXVsdGlDb2x1bW5TZWFyY2g9ITEsdGhpcy5zaG93T25seVNlbGVjdGVkPSExLHRoaXMucmVtb3RlPSExfXJldHVybiBpKGUsW3trZXk6XCJzZXRQcm9wc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMua2V5RmllbGQ9ZS5rZXlGaWVsZCx0aGlzLmVuYWJsZVBhZ2luYXRpb249ZS5pc1BhZ2luYXRpb24sdGhpcy5jb2xJbmZvcz1lLmNvbEluZm9zLHRoaXMucmVtb3RlPWUucmVtb3RlLHRoaXMubXVsdGlDb2x1bW5TZWFyY2g9ZS5tdWx0aUNvbHVtblNlYXJjaH19LHtrZXk6XCJzZXREYXRhXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5kYXRhPWUsdGhpcy5yZW1vdGV8fHRoaXMuX3JlZnJlc2goKX19LHtrZXk6XCJnZXRDb2xJbmZvc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sSW5mb3N9fSx7a2V5OlwiZ2V0U29ydEluZm9cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvcnRPYmp9fSx7a2V5Olwic2V0U29ydEluZm9cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuc29ydE9iaj17b3JkZXI6ZSxzb3J0RmllbGQ6dH19fSx7a2V5Olwic2V0U2VsZWN0ZWRSb3dLZXlcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnNlbGVjdGVkPWV9fSx7a2V5OlwiZ2V0U2VsZWN0ZWRSb3dLZXlzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZH19LHtrZXk6XCJnZXRDdXJyZW50RGlzcGxheURhdGFcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzT25GaWx0ZXI/dGhpcy5maWx0ZXJlZERhdGE6dGhpcy5kYXRhfX0se2tleTpcIl9yZWZyZXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzT25GaWx0ZXImJihudWxsIT09dGhpcy5maWx0ZXJPYmomJnRoaXMuZmlsdGVyKHRoaXMuZmlsdGVyT2JqKSxudWxsIT09dGhpcy5zZWFyY2hUZXh0JiZ0aGlzLnNlYXJjaCh0aGlzLnNlYXJjaFRleHQpKSx0aGlzLnNvcnRPYmomJnRoaXMuc29ydCh0aGlzLnNvcnRPYmoub3JkZXIsdGhpcy5zb3J0T2JqLnNvcnRGaWVsZCl9fSx7a2V5OlwiaWdub3JlTm9uU2VsZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zaG93T25seVNlbGVjdGVkPSF0aGlzLnNob3dPbmx5U2VsZWN0ZWQsdGhpcy5zaG93T25seVNlbGVjdGVkPyh0aGlzLmlzT25GaWx0ZXI9ITAsdGhpcy5maWx0ZXJlZERhdGE9dGhpcy5kYXRhLmZpbHRlcihmdW5jdGlvbih0KXt2YXIgcj1lLnNlbGVjdGVkLmZpbmQoZnVuY3Rpb24ocil7cmV0dXJuIHRbZS5rZXlGaWVsZF09PT1yfSk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHI/ITA6ITF9KSk6dGhpcy5pc09uRmlsdGVyPSExfX0se2tleTpcInNvcnRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuc2V0U29ydEluZm8oZSx0KTt2YXIgcj10aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO2lmKCF0aGlzLmNvbEluZm9zW3RdKXJldHVybiB0aGlzO3ZhciBvPXRoaXMuY29sSW5mb3NbdF0sbj1vLnNvcnRGdW5jLGk9by5zb3J0RnVuY0V4dHJhRGF0YTtyZXR1cm4gcj1hKHIsdCxlLG4saSksdGhpc319LHtrZXk6XCJwYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wYWdlT2JqLmVuZD1lKnQtMSx0aGlzLnBhZ2VPYmouc3RhcnQ9dGhpcy5wYWdlT2JqLmVuZC0odC0xKSx0aGlzfX0se2tleTpcImVkaXRcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG89dGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKSxuPXZvaWQgMDtyZXR1cm4gdGhpcy5lbmFibGVQYWdpbmF0aW9uPyhvW3RoaXMucGFnZU9iai5zdGFydCt0XVtyXT1lLG49b1t0aGlzLnBhZ2VPYmouc3RhcnQrdF1bdGhpcy5rZXlGaWVsZF0pOihvW3RdW3JdPWUsbj1vW3RdW3RoaXMua2V5RmllbGRdKSx0aGlzLmlzT25GaWx0ZXImJih0aGlzLmRhdGEuZm9yRWFjaChmdW5jdGlvbih0KXt0W3RoaXMua2V5RmllbGRdPT09biYmKHRbcl09ZSl9LHRoaXMpLG51bGwhPT10aGlzLmZpbHRlck9iaiYmdGhpcy5maWx0ZXIodGhpcy5maWx0ZXJPYmopLG51bGwhPT10aGlzLnNlYXJjaFRleHQmJnRoaXMuc2VhcmNoKHRoaXMuc2VhcmNoVGV4dCkpLHRoaXN9fSx7a2V5OlwiYWRkQXRCZWdpblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlW3RoaXMua2V5RmllbGRdfHxcIlwiPT09ZVt0aGlzLmtleUZpZWxkXS50b1N0cmluZygpKXRocm93IHRoaXMua2V5RmllbGQrXCIgY2FuJ3QgYmUgZW1wdHkgdmFsdWUuXCI7dmFyIHQ9dGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKTt0LmZvckVhY2goZnVuY3Rpb24odCl7aWYodFt0aGlzLmtleUZpZWxkXS50b1N0cmluZygpPT09ZVt0aGlzLmtleUZpZWxkXS50b1N0cmluZygpKXRocm93IHRoaXMua2V5RmllbGQrXCIgXCIrZVt0aGlzLmtleUZpZWxkXStcIiBhbHJlYWR5IGV4aXN0c1wifSx0aGlzKSx0LnVuc2hpZnQoZSksdGhpcy5pc09uRmlsdGVyJiZ0aGlzLmRhdGEudW5zaGlmdChlKSx0aGlzLl9yZWZyZXNoKCl9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWVbdGhpcy5rZXlGaWVsZF18fFwiXCI9PT1lW3RoaXMua2V5RmllbGRdLnRvU3RyaW5nKCkpdGhyb3cgdGhpcy5rZXlGaWVsZCtcIiBjYW4ndCBiZSBlbXB0eSB2YWx1ZS5cIjt2YXIgdD10aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO3QuZm9yRWFjaChmdW5jdGlvbih0KXtpZih0W3RoaXMua2V5RmllbGRdLnRvU3RyaW5nKCk9PT1lW3RoaXMua2V5RmllbGRdLnRvU3RyaW5nKCkpdGhyb3cgdGhpcy5rZXlGaWVsZCtcIiBcIitlW3RoaXMua2V5RmllbGRdK1wiIGFscmVhZHkgZXhpc3RzXCJ9LHRoaXMpLHQucHVzaChlKSx0aGlzLmlzT25GaWx0ZXImJnRoaXMuZGF0YS5wdXNoKGUpLHRoaXMuX3JlZnJlc2goKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcy5nZXRDdXJyZW50RGlzcGxheURhdGEoKSxvPXIuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybi0xPT09ZS5pbmRleE9mKHJbdC5rZXlGaWVsZF0pfSk7dGhpcy5pc09uRmlsdGVyPyh0aGlzLmRhdGE9dGhpcy5kYXRhLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4tMT09PWUuaW5kZXhPZihyW3Qua2V5RmllbGRdKX0pLHRoaXMuZmlsdGVyZWREYXRhPW8pOnRoaXMuZGF0YT1vfX0se2tleTpcImZpbHRlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7MD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aD8odGhpcy5maWx0ZXJlZERhdGE9bnVsbCx0aGlzLmlzT25GaWx0ZXI9ITEsdGhpcy5maWx0ZXJPYmo9bnVsbCxudWxsIT09dGhpcy5zZWFyY2hUZXh0JiZ0aGlzLnNlYXJjaCh0aGlzLnNlYXJjaFRleHQpKToodGhpcy5maWx0ZXJPYmo9ZSx0aGlzLmZpbHRlcmVkRGF0YT10aGlzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uKHIpe3ZhciBvPSEwLG49dm9pZCAwO2Zvcih2YXIgYSBpbiBlKXt2YXIgaT1yW2FdO2lmKG51bGw9PT1pKXJldHVybiExO3N3aXRjaChlW2FdLnR5cGUpe2Nhc2UgbFtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuTlVNQkVSOm49ZVthXS52YWx1ZS5udW1iZXI7YnJlYWs7Y2FzZSBsW1wiZGVmYXVsdFwiXS5GSUxURVJfVFlQRS5DVVNUT006bj1cIm9iamVjdFwiPT10eXBlb2YgZVthXS52YWx1ZT92b2lkIDA6XCJzdHJpbmdcIj09dHlwZW9mIGVbYV0udmFsdWU/ZVthXS52YWx1ZS50b0xvd2VyQ2FzZSgpOmVbYV0udmFsdWU7YnJlYWs7Y2FzZSBsW1wiZGVmYXVsdFwiXS5GSUxURVJfVFlQRS5EQVRFOm49ZVthXS52YWx1ZS5kYXRlO2JyZWFrO2Nhc2UgbFtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuUkVHRVg6bj1lW2FdLnZhbHVlO2JyZWFrO2RlZmF1bHQ6bj1cInN0cmluZ1wiPT10eXBlb2YgZVthXS52YWx1ZT9lW2FdLnZhbHVlLnRvTG93ZXJDYXNlKCk6ZVthXS52YWx1ZSx2b2lkIDA9PT1uJiYobj1lW2FdLnRvTG93ZXJDYXNlKCkpfWlmKHQuY29sSW5mb3NbYV0pe3ZhciBzPXQuY29sSW5mb3NbYV0sdT1zLmZvcm1hdCxwPXMuZmlsdGVyRm9ybWF0dGVkLGM9cy5mb3JtYXRFeHRyYURhdGE7cCYmdSYmKGk9dShyW2FdLHIsYykpfXN3aXRjaChlW2FdLnR5cGUpe2Nhc2UgbFtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuTlVNQkVSOm89dC5maWx0ZXJOdW1iZXIoaSxuLGVbYV0udmFsdWUuY29tcGFyYXRvcik7YnJlYWs7Y2FzZSBsW1wiZGVmYXVsdFwiXS5GSUxURVJfVFlQRS5EQVRFOm89dC5maWx0ZXJEYXRlKGksbixlW2FdLnZhbHVlLmNvbXBhcmF0b3IpO2JyZWFrO2Nhc2UgbFtcImRlZmF1bHRcIl0uRklMVEVSX1RZUEUuUkVHRVg6bz10LmZpbHRlclJlZ2V4KGksbik7YnJlYWs7Y2FzZSBsW1wiZGVmYXVsdFwiXS5GSUxURVJfVFlQRS5DVVNUT006bz10LmZpbHRlckN1c3RvbShpLG4sZVthXS52YWx1ZSk7YnJlYWs7ZGVmYXVsdDpvPXQuZmlsdGVyVGV4dChpLG4pfWlmKCFvKWJyZWFrfXJldHVybiBvfSksdGhpcy5pc09uRmlsdGVyPSEwKX19LHtrZXk6XCJmaWx0ZXJOdW1iZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG89ITA7c3dpdGNoKHIpe2Nhc2VcIj1cIjplIT10JiYobz0hMSk7YnJlYWs7Y2FzZVwiPlwiOnQ+PWUmJihvPSExKTticmVhaztjYXNlXCI+PVwiOnQ+ZSYmKG89ITEpO2JyZWFrO2Nhc2VcIjxcIjplPj10JiYobz0hMSk7YnJlYWs7Y2FzZVwiPD1cIjplPnQmJihvPSExKTticmVhaztjYXNlXCIhPVwiOmU9PXQmJihvPSExKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoXCJOdW1iZXIgY29tcGFyYXRvciBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkXCIpfXJldHVybiBvfX0se2tleTpcImZpbHRlckRhdGVcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG89ITA7c3dpdGNoKHIpe2Nhc2VcIj1cIjplIT10JiYobz0hMSk7YnJlYWs7Y2FzZVwiPlwiOnQ+PWUmJihvPSExKTticmVhaztjYXNlXCI+PVwiOnQ+ZSYmKG89ITEpO2JyZWFrO2Nhc2VcIjxcIjplPj10JiYobz0hMSk7YnJlYWs7Y2FzZVwiPD1cIjplPnQmJihvPSExKTticmVhaztjYXNlXCIhPVwiOmU9PXQmJihvPSExKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoXCJEYXRlIGNvbXBhcmF0b3IgcHJvdmlkZWQgaXMgbm90IHN1cHBvcnRlZFwiKX1yZXR1cm4gb319LHtrZXk6XCJmaWx0ZXJSZWdleFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBuZXcgUmVnRXhwKHQsXCJpXCIpLnRlc3QoZSl9Y2F0Y2gocil7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIHJlZ3VsYXIgZXhwcmVzc2lvblwiKSwhMH19fSx7a2V5OlwiZmlsdGVyQ3VzdG9tXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBudWxsIT09ciYmXCJvYmplY3RcIj09dHlwZW9mIHI/ci5jYWxsYmFjayhlLHIuY2FsbGJhY2tQYXJhbWV0ZXJzKTp0aGlzLmZpbHRlclRleHQoZSx0KX19LHtrZXk6XCJmaWx0ZXJUZXh0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4tMT09PWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodCk/ITE6ITB9fSx7a2V5Olwic2VhcmNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztcIlwiPT09ZS50cmltKCk/KHRoaXMuZmlsdGVyZWREYXRhPW51bGwsdGhpcy5pc09uRmlsdGVyPSExLHRoaXMuc2VhcmNoVGV4dD1udWxsLG51bGwhPT10aGlzLmZpbHRlck9iaiYmdGhpcy5maWx0ZXIodGhpcy5maWx0ZXJPYmopKTohZnVuY3Rpb24oKXt0LnNlYXJjaFRleHQ9ZTt2YXIgcj1bXTt0Lm11bHRpQ29sdW1uU2VhcmNoP3I9ZS5zcGxpdChcIiBcIik6ci5wdXNoKGUpO3ZhciBvPW51bGwhPT10LmZpbHRlck9iaj90LmZpbHRlcih0LmZpbHRlck9iaik6dC5kYXRhO3QuZmlsdGVyZWREYXRhPW8uZmlsdGVyKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbz1PYmplY3Qua2V5cyhlKSxuPSExLGE9MCxpPW8ubGVuZ3RoO2k+YTthKyspe3ZhciBzPW9bYV07aWYodC5jb2xJbmZvc1tzXSYmZVtzXSl7dmFyIGw9dC5jb2xJbmZvc1tzXSx1PWwuZm9ybWF0LHA9bC5maWx0ZXJGb3JtYXR0ZWQsYz1sLmZvcm1hdEV4dHJhRGF0YSxkPWwuc2VhcmNoYWJsZSxmPWVbc107aWYoZCl7cCYmdSYmKGY9dShmLGUsYykpO2Zvcih2YXIgaD0wLHk9ci5sZW5ndGg7eT5oO2grKyl7dmFyIHY9cltoXS50b0xvd2VyQ2FzZSgpO2lmKC0xIT09Zi50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih2KSl7bj0hMDticmVha319fX19cmV0dXJuIG59KSx0LmlzT25GaWx0ZXI9ITB9KCl9fSx7a2V5OlwiZ2V0RGF0YUlnbm9yaW5nUGFnaW5hdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCl9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEN1cnJlbnREaXNwbGF5RGF0YSgpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gZTtpZih0aGlzLnJlbW90ZXx8IXRoaXMuZW5hYmxlUGFnaW5hdGlvbilyZXR1cm4gZTtmb3IodmFyIHQ9W10scj10aGlzLnBhZ2VPYmouc3RhcnQ7cjw9dGhpcy5wYWdlT2JqLmVuZCYmKHQucHVzaChlW3JdKSxyKzEhPT1lLmxlbmd0aCk7cisrKTtyZXR1cm4gdH19LHtrZXk6XCJnZXRLZXlGaWVsZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2V5RmllbGR9fSx7a2V5OlwiZ2V0RGF0YU51bVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudERpc3BsYXlEYXRhKCkubGVuZ3RofX0se2tleTpcImlzQ2hhbmdlZFBhZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhZ2VPYmouc3RhcnQmJnRoaXMucGFnZU9iai5lbmQ/ITA6ITF9fSx7a2V5OlwiaXNFbXB0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmRhdGEubGVuZ3RofHxudWxsPT09dGhpcy5kYXRhfHx2b2lkIDA9PT10aGlzLmRhdGF9fSx7a2V5OlwiZ2V0QWxsUm93a2V5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmRhdGEubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0W2Uua2V5RmllbGRdfSl9fV0pLGV9KCk7dC5UYWJsZURhdGFTdG9yZT11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpLHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49ZSxhPXQsaT1yO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGEpO2lmKHZvaWQgMCE9PXMpe2lmKFwidmFsdWVcImluIHMpcmV0dXJuIHMudmFsdWU7dmFyIGw9cy5nZXQ7aWYodm9pZCAwPT09bClyZXR1cm47cmV0dXJuIGwuY2FsbChpKX12YXIgdT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXUpcmV0dXJuO2U9dSx0PWEscj1pLG89ITAscz11PXZvaWQgMH19LGw9cigxKSx1PW8obCkscD1yKDMpLGM9byhwKSxkPXIoMiksZj1vKGQpLGg9cig3KSx5PW8oaCksdj1yKDgpLG09byh2KSxnPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9dGhpcyxvPWFyZ3VtZW50cztuKHRoaXMsdCkscyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsZSksdGhpcy5oYW5kbGVTYXZlQnRuQ2xpY2s9ZnVuY3Rpb24oKXt2YXIgZT1yLmNoZWNrQW5kUGFyc2VGb3JtKCk7aWYoZSl7dmFyIHQ9ci5wcm9wcy5vbkFkZFJvdyhlKTt0PyhyLnJlZnMubm90aWZpZXIubm90aWNlKFwiZXJyb3JcIix0LFwiUHJlc3NlZCBFU0MgY2FuIGNhbmNlbFwiKSxyLmNsZWFyVGltZW91dCgpLHIuc2V0U3RhdGUoe3NoYWtlRWRpdG9yOiEwLHZhbGlkYXRlU3RhdGU6XCJ0aGlzIGlzIGhhY2sgZm9yIHByZXZlbnQgYm9vdHN0cmFwIG1vZGFsIGhpZGVcIn0pLHIudGltZW91dGVDbGVhcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5zZXRTdGF0ZSh7c2hha2VFZGl0b3I6ITF9KX0sMzAwKSk6KHIuc2V0U3RhdGUoe3ZhbGlkYXRlU3RhdGU6bnVsbCxzaGFrZUVkaXRvcjohMX0sZnVuY3Rpb24oKXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJhY2tkcm9wXCIpLmNsaWNrKCksZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5cIityLm1vZGFsQ2xhc3NOYW1lKS5jbGljaygpfSksci5yZWZzLmZvcm0ucmVzZXQoKSl9fSx0aGlzLmhhbmRsZVNob3dPbmx5VG9nZ2xlPWZ1bmN0aW9uKCl7ci5zZXRTdGF0ZSh7c2hvd1NlbGVjdGVkOiFyLnN0YXRlLnNob3dTZWxlY3RlZH0pLHIucHJvcHMub25TaG93T25seVNlbGVjdGVkKCl9LHRoaXMuaGFuZGxlRHJvcFJvd0J0bkNsaWNrPWZ1bmN0aW9uKCl7ci5wcm9wcy5vbkRyb3BSb3coKX0sdGhpcy5oYW5kbGVEZWJvdW5jZT1mdW5jdGlvbihlLHQsbil7dmFyIGE9dm9pZCAwO3JldHVybiBmdW5jdGlvbigpe3ZhciBpPWZ1bmN0aW9uKCl7YT1udWxsLG58fGUuYXBwbHkocixvKX0scz1uJiYhYTtjbGVhclRpbWVvdXQoYSksYT1zZXRUaW1lb3V0KGksdHx8MCkscyYmZS5hcHB5KHIsbyl9fSx0aGlzLmhhbmRsZUtleVVwPWZ1bmN0aW9uKGUpe2UucGVyc2lzdCgpLHIuZGVib3VuY2VDYWxsYmFjayhlKX0sdGhpcy5oYW5kbGVFeHBvcnRDU1Y9ZnVuY3Rpb24oKXtyLnByb3BzLm9uRXhwb3J0Q1NWKCl9LHRoaXMuaGFuZGxlQ2xlYXJCdG5DbGljaz1mdW5jdGlvbigpe3IucmVmcy5zZWFjaElucHV0LnZhbHVlPVwiXCIsci5wcm9wcy5vblNlYXJjaChcIlwiKX0sdGhpcy50aW1lb3V0ZUNsZWFyPTAsdGhpcy5tb2RhbENsYXNzTmFtZSx0aGlzLnN0YXRlPXtpc0luc2VydFJvd1RyaWdnZXI6ITAsdmFsaWRhdGVTdGF0ZTpudWxsLHNoYWtlRWRpdG9yOiExLHNob3dTZWxlY3RlZDohMX19cmV0dXJuIGEodCxlKSxpKHQsbnVsbCxbe2tleTpcIm1vZGFsU2VxXCIsdmFsdWU6MCxlbnVtZXJhYmxlOiEwfV0pLGkodCxbe2tleTpcImNvbXBvbmVudFdpbGxNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucHJvcHMuc2VhcmNoRGVsYXlUaW1lP3RoaXMucHJvcHMuc2VhcmNoRGVsYXlUaW1lOjA7dGhpcy5kZWJvdW5jZUNhbGxiYWNrPXRoaXMuaGFuZGxlRGVib3VuY2UoZnVuY3Rpb24oKXtlLnByb3BzLm9uU2VhcmNoKGUucmVmcy5zZWFjaElucHV0LnZhbHVlKX0sdCl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2xlYXJUaW1lb3V0KCl9fSx7a2V5OlwiY2xlYXJUaW1lb3V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBlLnRvU3RyaW5nKCl9LHR9KGZ1bmN0aW9uKCl7dGhpcy50aW1lb3V0ZUNsZWFyJiYoY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dGVDbGVhciksdGhpcy50aW1lb3V0ZUNsZWFyPTApfSl9LHtrZXk6XCJjaGVja0FuZFBhcnNlRm9ybVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt9LHI9e30sbz0hMCxuPXZvaWQgMCxhPXZvaWQgMDtyZXR1cm4gdGhpcy5wcm9wcy5jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oZSxpKXtpZihlLmF1dG9WYWx1ZSl7dmFyIHM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7bj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmF1dG9WYWx1ZT9lLmF1dG9WYWx1ZSgpOlwiYXV0b3ZhbHVlLVwiK3N9ZWxzZXt2YXIgbD10aGlzLnJlZnNbZS5maWVsZCtpXTtpZihuPWwudmFsdWUsZS5lZGl0YWJsZSYmXCJjaGVja2JveFwiPT09ZS5lZGl0YWJsZS50eXBlKXt2YXIgdT1uLnNwbGl0KFwiOlwiKTtuPWwuY2hlY2tlZD91WzBdOnVbMV19ZS5lZGl0YWJsZSYmZS5lZGl0YWJsZS52YWxpZGF0b3ImJihhPWUuZWRpdGFibGUudmFsaWRhdG9yKG4pLGEhPT0hMCYmKG89ITEscltlLmZpZWxkXT1hKSl9dFtlLmZpZWxkXT1ufSx0aGlzKSxvP3Q6KHRoaXMuY2xlYXJUaW1lb3V0KCksdGhpcy5zZXRTdGF0ZSh7dmFsaWRhdGVTdGF0ZTpyLHNoYWtlRWRpdG9yOiEwfSksdGhpcy5yZWZzLm5vdGlmaWVyLm5vdGljZShcImVycm9yXCIsXCJGb3JtIHZhbGlkYXRlIGVycm9ycywgcGxlYXNlIGNoZWNraW5nIVwiLFwiUHJlc3NlZCBFU0MgY2FuIGNhbmNlbFwiKSx0aGlzLnRpbWVvdXRlQ2xlYXI9c2V0VGltZW91dChmdW5jdGlvbigpe2Uuc2V0U3RhdGUoe3NoYWtlRWRpdG9yOiExfSl9LDMwMCksbnVsbCl9fSx7a2V5OlwiaGFuZGxlQ2xvc2VCdG5cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVmcy53YXJuaW5nLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1vZGFsQ2xhc3NOYW1lPVwiYnMtdGFibGUtbW9kYWwtc21cIit0Lm1vZGFsU2VxKys7dmFyIGU9bnVsbCxyPW51bGwsbz1udWxsLG49bnVsbDt0aGlzLnByb3BzLmVuYWJsZUluc2VydCYmKGU9dVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLHt0eXBlOlwiYnV0dG9uXCIsY2xhc3NOYW1lOlwiYnRuIGJ0bi1pbmZvIHJlYWN0LWJzLXRhYmxlLWFkZC1idG5cIixcImRhdGEtdG9nZ2xlXCI6XCJtb2RhbFwiLFwiZGF0YS10YXJnZXRcIjpcIi5cIit0aGlzLm1vZGFsQ2xhc3NOYW1lfSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiaVwiLHtjbGFzc05hbWU6XCJnbHlwaGljb24gZ2x5cGhpY29uLXBsdXNcIn0pLFwiIFwiLHRoaXMucHJvcHMuaW5zZXJ0VGV4dCkpLHRoaXMucHJvcHMuZW5hYmxlRGVsZXRlJiYocj11W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIse3R5cGU6XCJidXR0b25cIixjbGFzc05hbWU6XCJidG4gYnRuLXdhcm5pbmcgcmVhY3QtYnMtdGFibGUtZGVsLWJ0blwiLFwiZGF0YS10b2dnbGVcIjpcInRvb2x0aXBcIixcImRhdGEtcGxhY2VtZW50XCI6XCJyaWdodFwiLHRpdGxlOlwiRHJvcCBzZWxlY3RlZCByb3dcIixvbkNsaWNrOnRoaXMuaGFuZGxlRHJvcFJvd0J0bkNsaWNrfSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiaVwiLHtjbGFzc05hbWU6XCJnbHlwaGljb24gZ2x5cGhpY29uLXRyYXNoXCJ9KSxcIiBcIix0aGlzLnByb3BzLmRlbGV0ZVRleHQpKSx0aGlzLnByb3BzLmVuYWJsZVNob3dPbmx5U2VsZWN0ZWQmJihuPXVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIix7dHlwZTpcImJ1dHRvblwiLG9uQ2xpY2s6dGhpcy5oYW5kbGVTaG93T25seVRvZ2dsZSxjbGFzc05hbWU6XCJidG4gYnRuLXByaW1hcnlcIixcImRhdGEtdG9nZ2xlXCI6XCJidXR0b25cIixcImFyaWEtcHJlc3NlZFwiOlwiZmFsc2VcIn0sdGhpcy5zdGF0ZS5zaG93U2VsZWN0ZWQ/ZltcImRlZmF1bHRcIl0uU0hPV19BTEw6ZltcImRlZmF1bHRcIl0uU0hPV19PTkxZX1NFTEVDVCkpLHRoaXMucHJvcHMuZW5hYmxlRXhwb3J0Q1NWJiYobz11W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIse3R5cGU6XCJidXR0b25cIixjbGFzc05hbWU6XCJidG4gYnRuLXN1Y2Nlc3NcIixvbkNsaWNrOnRoaXMuaGFuZGxlRXhwb3J0Q1NWfSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiaVwiLHtjbGFzc05hbWU6XCJnbHlwaGljb24gZ2x5cGhpY29uLWV4cG9ydFwifSksdGhpcy5wcm9wcy5leHBvcnRDU1ZUZXh0KSk7dmFyIGE9dGhpcy5yZW5kZXJTZWFyY2hQYW5lbCgpLGk9dGhpcy5wcm9wcy5lbmFibGVJbnNlcnQ/dGhpcy5yZW5kZXJJbnNlcnRSb3dNb2RhbCgpOm51bGw7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicm93XCJ9LHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC02IGNvbC1sZy04XCJ9LHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiYnRuLWdyb3VwIGJ0bi1ncm91cC1zbVwiLHJvbGU6XCJncm91cFwifSxvLGUscixuKSksdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTYgY29sLWxnLTRcIlxufSxhKSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KG1bXCJkZWZhdWx0XCJdLHtyZWY6XCJub3RpZmllclwifSksaSl9fSx7a2V5OlwicmVuZGVyU2VhcmNoUGFuZWxcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMucHJvcHMuZW5hYmxlU2VhcmNoKXt2YXIgZT1cImZvcm0tZ3JvdXAgZm9ybS1ncm91cC1zbSByZWFjdC1icy10YWJsZS1zZWFyY2gtZm9ybVwiLHQ9bnVsbDtyZXR1cm4gdGhpcy5wcm9wcy5jbGVhclNlYXJjaCYmKHQ9dVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOlwiaW5wdXQtZ3JvdXAtYnRuXCJ9LHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIix7Y2xhc3NOYW1lOlwiYnRuIGJ0bi1kZWZhdWx0XCIsdHlwZTpcImJ1dHRvblwiLG9uQ2xpY2s6dGhpcy5oYW5kbGVDbGVhckJ0bkNsaWNrfSxcIkNsZWFyXCIpKSxlKz1cIiBpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1zbVwiKSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTplfSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIix7cmVmOlwic2VhY2hJbnB1dFwiLGNsYXNzTmFtZTpcImZvcm0tY29udHJvbFwiLHR5cGU6XCJ0ZXh0XCIscGxhY2Vob2xkZXI6dGhpcy5wcm9wcy5zZWFyY2hQbGFjZWhvbGRlcj90aGlzLnByb3BzLnNlYXJjaFBsYWNlaG9sZGVyOlwiU2VhcmNoXCIsb25LZXlVcDp0aGlzLmhhbmRsZUtleVVwfSksdCl9cmV0dXJuIG51bGx9fSx7a2V5OlwicmVuZGVySW5zZXJ0Um93TW9kYWxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnN0YXRlLnZhbGlkYXRlU3RhdGV8fHt9LHI9dGhpcy5zdGF0ZS5zaGFrZUVkaXRvcixvPXRoaXMucHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24ocixvKXt2YXIgbj1yLmVkaXRhYmxlLGE9ci5mb3JtYXQsaT1yLmZpZWxkLHM9ci5uYW1lLGw9ci5hdXRvVmFsdWUscD17cmVmOmkrbyxwbGFjZWhvbGRlcjpuLnBsYWNlaG9sZGVyP24ucGxhY2Vob2xkZXI6c307aWYobClyZXR1cm4gbnVsbDt2YXIgYz10W2ldP3VbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImhlbHAtYmxvY2sgYmctZGFuZ2VyXCJ9LHRbaV0pOm51bGw7cmV0dXJuIHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiZm9ybS1ncm91cFwiLGtleTppfSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwibGFiZWxcIixudWxsLHMpLCgwLHlbXCJkZWZhdWx0XCJdKShuLHAsYSxcIlwiLHZvaWQgMCxlLnByb3BzLmlnbm9yZUVkaXRhYmxlKSxjKX0pLG49KDAsY1tcImRlZmF1bHRcIl0pKFwibW9kYWxcIixcImZhZGVcIix0aGlzLm1vZGFsQ2xhc3NOYW1lLHtcImluXCI6cnx8dGhpcy5zdGF0ZS52YWxpZGF0ZVN0YXRlfSksYT0oMCxjW1wiZGVmYXVsdFwiXSkoXCJtb2RhbC1kaWFsb2dcIixcIm1vZGFsLXNtXCIse2FuaW1hdGVkOnIsc2hha2U6cn0pO3JldHVybiB1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3JlZjpcIm1vZGFsXCIsY2xhc3NOYW1lOm4sdGFiSW5kZXg6XCItMVwiLHJvbGU6XCJkaWFsb2dcIn0sdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6YX0sdVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJtb2RhbC1jb250ZW50XCJ9LHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwibW9kYWwtaGVhZGVyXCJ9LHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIix7dHlwZTpcImJ1dHRvblwiLGNsYXNzTmFtZTpcImNsb3NlXCIsXCJkYXRhLWRpc21pc3NcIjpcIm1vZGFsXCIsXCJhcmlhLWxhYmVsXCI6XCJDbG9zZVwifSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9LFwiw5dcIikpLHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJoNFwiLHtjbGFzc05hbWU6XCJtb2RhbC10aXRsZVwifSxcIk5ldyBSZWNvcmRcIikpLHVbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwibW9kYWwtYm9keVwifSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLHtyZWY6XCJmb3JtXCJ9LG8pKSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcIm1vZGFsLWZvb3RlclwifSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIse3R5cGU6XCJidXR0b25cIixjbGFzc05hbWU6XCJidG4gYnRuLWRlZmF1bHRcIixcImRhdGEtZGlzbWlzc1wiOlwibW9kYWxcIn0sXCJDbG9zZVwiKSx1W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIse3R5cGU6XCJidXR0b25cIixjbGFzc05hbWU6XCJidG4gYnRuLWluZm9cIixvbkNsaWNrOnRoaXMuaGFuZGxlU2F2ZUJ0bkNsaWNrfSxcIlNhdmVcIikpKSkpfX1dKSx0fShsLkNvbXBvbmVudCk7Zy5wcm9wVHlwZXM9e29uQWRkUm93OmwuUHJvcFR5cGVzLmZ1bmMsb25Ecm9wUm93OmwuUHJvcFR5cGVzLmZ1bmMsb25TaG93T25seVNlbGVjdGVkOmwuUHJvcFR5cGVzLmZ1bmMsZW5hYmxlSW5zZXJ0OmwuUHJvcFR5cGVzLmJvb2wsZW5hYmxlRGVsZXRlOmwuUHJvcFR5cGVzLmJvb2wsZW5hYmxlU2VhcmNoOmwuUHJvcFR5cGVzLmJvb2wsZW5hYmxlU2hvd09ubHlTZWxlY3RlZDpsLlByb3BUeXBlcy5ib29sLGNvbHVtbnM6bC5Qcm9wVHlwZXMuYXJyYXksc2VhcmNoUGxhY2Vob2xkZXI6bC5Qcm9wVHlwZXMuc3RyaW5nLGV4cG9ydENTVlRleHQ6bC5Qcm9wVHlwZXMuc3RyaW5nLGluc2VydFRleHQ6bC5Qcm9wVHlwZXMuc3RyaW5nLGRlbGV0ZVRleHQ6bC5Qcm9wVHlwZXMuc3RyaW5nLGNsZWFyU2VhcmNoOmwuUHJvcFR5cGVzLmJvb2wsaWdub3JlRWRpdGFibGU6bC5Qcm9wVHlwZXMuYm9vbH0sZy5kZWZhdWx0UHJvcHM9e2VuYWJsZUluc2VydDohMSxlbmFibGVEZWxldGU6ITEsZW5hYmxlU2VhcmNoOiExLGVuYWJsZVNob3dPbmx5U2VsZWN0ZWQ6ITEsY2xlYXJTZWFyY2g6ITEsaWdub3JlRWRpdGFibGU6ITEsZXhwb3J0Q1NWVGV4dDpmW1wiZGVmYXVsdFwiXS5FWFBPUlRfQ1NWX1RFWFQsaW5zZXJ0VGV4dDpmW1wiZGVmYXVsdFwiXS5JTlNFUlRfQlROX1RFWFQsZGVsZXRlVGV4dDpmW1wiZGVmYXVsdFwiXS5ERUxFVEVfQlROX1RFWFR9LHRbXCJkZWZhdWx0XCJdPWcsZS5leHBvcnRzPXRbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbihlLHQscil7dmFyIG8sbixhPWF8fGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBuYXZpZ2F0b3J8fCEvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl7dmFyIHQ9ZS5kb2N1bWVudCxyPWZ1bmN0aW9uKCl7cmV0dXJuIGUuVVJMfHxlLndlYmtpdFVSTHx8ZX0sbz10LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixcImFcIiksbj1cImRvd25sb2FkXCJpbiBvLGE9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKTtlLmRpc3BhdGNoRXZlbnQodCl9LGk9L1ZlcnNpb25cXC9bXFxkXFwuXSsuKlNhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxzPWUud2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0sbD1lLnJlcXVlc3RGaWxlU3lzdGVtfHxzfHxlLm1velJlcXVlc3RGaWxlU3lzdGVtLHU9ZnVuY3Rpb24odCl7KGUuc2V0SW1tZWRpYXRlfHxlLnNldFRpbWVvdXQpKGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9LHA9XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixjPTAsZD01MDAsZj1mdW5jdGlvbih0KXt2YXIgbz1mdW5jdGlvbigpe1wic3RyaW5nXCI9PXR5cGVvZiB0P3IoKS5yZXZva2VPYmplY3RVUkwodCk6dC5yZW1vdmUoKX07ZS5jaHJvbWU/bygpOnNldFRpbWVvdXQobyxkKX0saD1mdW5jdGlvbihlLHQscil7dD1bXS5jb25jYXQodCk7Zm9yKHZhciBvPXQubGVuZ3RoO28tLTspe3ZhciBuPWVbXCJvblwiK3Rbb11dO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pdHJ5e24uY2FsbChlLHJ8fGUpfWNhdGNoKGEpe3UoYSl9fX0seT1mdW5jdGlvbihlKXtyZXR1cm4vXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdChlLnR5cGUpP25ldyBCbG9iKFtcIlxcdWZlZmZcIixlXSx7dHlwZTplLnR5cGV9KTplfSx2PWZ1bmN0aW9uKHQsdSxkKXtkfHwodD15KHQpKTt2YXIgdixtLGcsYj10aGlzLFQ9dC50eXBlLEU9ITEsUD1mdW5jdGlvbigpe2goYixcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpfSxfPWZ1bmN0aW9uKCl7aWYobSYmaSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZpbGVSZWFkZXIpe3ZhciBvPW5ldyBGaWxlUmVhZGVyO3JldHVybiBvLm9ubG9hZGVuZD1mdW5jdGlvbigpe3ZhciBlPW8ucmVzdWx0O20ubG9jYXRpb24uaHJlZj1cImRhdGE6YXR0YWNobWVudC9maWxlXCIrZS5zbGljZShlLnNlYXJjaCgvWyw7XS8pKSxiLnJlYWR5U3RhdGU9Yi5ET05FLFAoKX0sby5yZWFkQXNEYXRhVVJMKHQpLHZvaWQoYi5yZWFkeVN0YXRlPWIuSU5JVCl9aWYoKEV8fCF2KSYmKHY9cigpLmNyZWF0ZU9iamVjdFVSTCh0KSksbSltLmxvY2F0aW9uLmhyZWY9djtlbHNle3ZhciBuPWUub3Blbih2LFwiX2JsYW5rXCIpO3ZvaWQgMD09biYmaSYmKGUubG9jYXRpb24uaHJlZj12KX1iLnJlYWR5U3RhdGU9Yi5ET05FLFAoKSxmKHYpfSx3PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiLnJlYWR5U3RhdGUhPT1iLkRPTkU/ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfX0sTz17Y3JlYXRlOiEwLGV4Y2x1c2l2ZTohMX07cmV0dXJuIGIucmVhZHlTdGF0ZT1iLklOSVQsdXx8KHU9XCJkb3dubG9hZFwiKSxuPyh2PXIoKS5jcmVhdGVPYmplY3RVUkwodCksby5ocmVmPXYsby5kb3dubG9hZD11LHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe2EobyksUCgpLGYodiksYi5yZWFkeVN0YXRlPWIuRE9ORX0pKTooZS5jaHJvbWUmJlQmJlQhPT1wJiYoZz10LnNsaWNlfHx0LndlYmtpdFNsaWNlLHQ9Zy5jYWxsKHQsMCx0LnNpemUscCksRT0hMCkscyYmXCJkb3dubG9hZFwiIT09dSYmKHUrPVwiLmRvd25sb2FkXCIpLChUPT09cHx8cykmJihtPWUpLGw/KGMrPXQuc2l6ZSx2b2lkIGwoZS5URU1QT1JBUlksYyx3KGZ1bmN0aW9uKGUpe2Uucm9vdC5nZXREaXJlY3RvcnkoXCJzYXZlZFwiLE8sdyhmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbigpe2UuZ2V0RmlsZSh1LE8sdyhmdW5jdGlvbihlKXtlLmNyZWF0ZVdyaXRlcih3KGZ1bmN0aW9uKHIpe3Iub253cml0ZWVuZD1mdW5jdGlvbih0KXttLmxvY2F0aW9uLmhyZWY9ZS50b1VSTCgpLGIucmVhZHlTdGF0ZT1iLkRPTkUsaChiLFwid3JpdGVlbmRcIix0KSxmKGUpfSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXt2YXIgZT1yLmVycm9yO2UuY29kZSE9PWUuQUJPUlRfRVJSJiZfKCl9LFwid3JpdGVzdGFydCBwcm9ncmVzcyB3cml0ZSBhYm9ydFwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JbXCJvblwiK2VdPWJbXCJvblwiK2VdfSksci53cml0ZSh0KSxiLmFib3J0PWZ1bmN0aW9uKCl7ci5hYm9ydCgpLGIucmVhZHlTdGF0ZT1iLkRPTkV9LGIucmVhZHlTdGF0ZT1iLldSSVRJTkd9KSxfKX0pLF8pfTtlLmdldEZpbGUodSx7Y3JlYXRlOiExfSx3KGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCkscigpfSksdyhmdW5jdGlvbihlKXtlLmNvZGU9PT1lLk5PVF9GT1VORF9FUlI/cigpOl8oKX0pKX0pLF8pfSksXykpOnZvaWQgXygpKX0sbT12LnByb3RvdHlwZSxnPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmV3IHYoZSx0LHIpfTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYj9mdW5jdGlvbihlLHQscil7cmV0dXJuIHJ8fChlPXkoZSkpLG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGUsdHx8XCJkb3dubG9hZFwiKX06KG0uYWJvcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UucmVhZHlTdGF0ZT1lLkRPTkUsaChlLFwiYWJvcnRcIil9LG0ucmVhZHlTdGF0ZT1tLklOSVQ9MCxtLldSSVRJTkc9MSxtLkRPTkU9MixtLmVycm9yPW0ub253cml0ZXN0YXJ0PW0ub25wcm9ncmVzcz1tLm9ud3JpdGU9bS5vbmFib3J0PW0ub25lcnJvcj1tLm9ud3JpdGVlbmQ9bnVsbCxnKX19KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fCh2b2lkIDApLmNvbnRlbnQpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBlJiZlLmV4cG9ydHM/ZS5leHBvcnRzLnNhdmVBcz1hOm51bGwhPT1yKDQ0KSYmbnVsbCE9cig0NSkmJihvPVtdLG49ZnVuY3Rpb24oKXtyZXR1cm4gYX0uYXBwbHkodCxvKSwhKHZvaWQgMCE9PW4mJihlLmV4cG9ydHM9bikpKX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgbz1yKDMzKSxuPXthZGRDbGFzczpmdW5jdGlvbihlLHIpe3JldHVybi9cXHMvLnRlc3Qocik/XCJwcm9kdWN0aW9uXCIhPT10LmVudi5OT0RFX0VOVj9vKCExLCdDU1NDb3JlLmFkZENsYXNzIHRha2VzIG9ubHkgYSBzaW5nbGUgY2xhc3MgbmFtZS4gXCIlc1wiIGNvbnRhaW5zIG11bHRpcGxlIGNsYXNzZXMuJyxyKTpvKCExKTp2b2lkIDAsciYmKGUuY2xhc3NMaXN0P2UuY2xhc3NMaXN0LmFkZChyKTpuLmhhc0NsYXNzKGUscil8fChlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZStcIiBcIityKSksZX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4vXFxzLy50ZXN0KHIpP1wicHJvZHVjdGlvblwiIT09dC5lbnYuTk9ERV9FTlY/byghMSwnQ1NTQ29yZS5yZW1vdmVDbGFzcyB0YWtlcyBvbmx5IGEgc2luZ2xlIGNsYXNzIG5hbWUuIFwiJXNcIiBjb250YWlucyBtdWx0aXBsZSBjbGFzc2VzLicscik6byghMSk6dm9pZCAwLHImJihlLmNsYXNzTGlzdD9lLmNsYXNzTGlzdC5yZW1vdmUocik6bi5oYXNDbGFzcyhlLHIpJiYoZS5jbGFzc05hbWU9ZS5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrcitcIig/OlxcXFxzfCQpXCIsXCJnXCIpLFwiJDFcIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLFwiXCIpKSksZX0sY29uZGl0aW9uQ2xhc3M6ZnVuY3Rpb24oZSx0LHIpe3JldHVybihyP24uYWRkQ2xhc3M6bi5yZW1vdmVDbGFzcykoZSx0KX0saGFzQ2xhc3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4vXFxzLy50ZXN0KHIpP1wicHJvZHVjdGlvblwiIT09dC5lbnYuTk9ERV9FTlY/byghMSxcIkNTUy5oYXNDbGFzcyB0YWtlcyBvbmx5IGEgc2luZ2xlIGNsYXNzIG5hbWUuXCIpOm8oITEpOnZvaWQgMCxlLmNsYXNzTGlzdD8hIXImJmUuY2xhc3NMaXN0LmNvbnRhaW5zKHIpOihcIiBcIitlLmNsYXNzTmFtZStcIiBcIikuaW5kZXhPZihcIiBcIityK1wiIFwiKT4tMX19O2UuZXhwb3J0cz1ufSkuY2FsbCh0LHIoNCkpfSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSxyLG8sbixhLGkscyxsKXtpZihcInByb2R1Y3Rpb25cIiE9PXQuZW52Lk5PREVfRU5WJiZ2b2lkIDA9PT1yKXRocm93IG5ldyBFcnJvcihcImludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50XCIpO2lmKCFlKXt2YXIgdTtpZih2b2lkIDA9PT1yKXU9bmV3IEVycm9yKFwiTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7ZWxzZXt2YXIgcD1bbyxuLGEsaSxzLGxdLGM9MDt1PW5ldyBFcnJvcihyLnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gcFtjKytdfSkpLHUubmFtZT1cIkludmFyaWFudCBWaW9sYXRpb25cIn10aHJvdyB1LmZyYW1lc1RvUG9wPTEsdX19ZS5leHBvcnRzPXJ9KS5jYWxsKHQscig0KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gbihlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHMoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX12YXIgbD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBvIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbykmJihlW29dPXJbb10pfXJldHVybiBlfSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQscixvKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxvJiZlKHQsbyksdH19KCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHA9cigxKSxjPW8ocCksZD1yKDEwKSxmPW8oZCksaD1yKDkpLHk9byhoKSx2PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxyLG8sbjthKHRoaXMsdCk7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsbD1BcnJheShzKSx1PTA7cz51O3UrKylsW3VdPWFyZ3VtZW50c1t1XTtyZXR1cm4gcj1vPWkodGhpcywoZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGwpKSksby5zdGF0ZT17dG9hc3RzOltdLHRvYXN0SWQ6MCxwcmV2aW91c01lc3NhZ2U6bnVsbH0sbj1yLGkobyxuKX1yZXR1cm4gcyh0LGUpLHUodCxbe2tleTpcImVycm9yXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX25vdGlmeSh0aGlzLnByb3BzLnRvYXN0VHlwZS5lcnJvcixlLHQscil9fSx7a2V5OlwiaW5mb1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUuaW5mbyxlLHQscil9fSx7a2V5Olwic3VjY2Vzc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUuc3VjY2VzcyxlLHQscil9fSx7a2V5Olwid2FybmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9ub3RpZnkodGhpcy5wcm9wcy50b2FzdFR5cGUud2FybmluZyxlLHQscil9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7T2JqZWN0LmtleXModGhpcy5yZWZzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucmVmc1t0XS5oaWRlVG9hc3QoITEpfSl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbCh7fSx0aGlzLnByb3BzLHtcImFyaWEtbGl2ZVwiOlwicG9saXRlXCIscm9sZTpcImFsZXJ0XCJ9KSx0aGlzLnN0YXRlLnRvYXN0cy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUucHJvcHMudG9hc3RNZXNzYWdlRmFjdG9yeSh0KX0pKX19LHtrZXk6XCJfbm90aWZ5XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXMsYT1hcmd1bWVudHMubGVuZ3RoPD0zfHx2b2lkIDA9PT1hcmd1bWVudHNbM10/e306YXJndW1lbnRzWzNdO2lmKCF0aGlzLnByb3BzLnByZXZlbnREdXBsaWNhdGVzfHx0aGlzLnN0YXRlLnByZXZpb3VzTWVzc2FnZSE9PXQpe3ZhciBpPXRoaXMuc3RhdGUudG9hc3RJZCsrLHM9aSxsPSgwLGZbXCJkZWZhdWx0XCJdKShhLHskbWVyZ2U6e3R5cGU6ZSx0aXRsZTpyLG1lc3NhZ2U6dCx0b2FzdElkOnMsa2V5OmkscmVmOlwidG9hc3RzX19cIitpLGhhbmRsZU9uQ2xpY2s6ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYS5oYW5kbGVPbkNsaWNrJiZhLmhhbmRsZU9uQ2xpY2soKSxvLl9oYW5kbGVfdG9hc3Rfb25fY2xpY2soZSl9LGhhbmRsZVJlbW92ZTp0aGlzLl9oYW5kbGVfdG9hc3RfcmVtb3ZlLmJpbmQodGhpcyl9fSksdT1uKHt9LFwiXCIrKHRoaXMucHJvcHMubmV3ZXN0T25Ub3A/XCIkdW5zaGlmdFwiOlwiJHB1c2hcIiksW2xdKSxwPSgwLGZbXCJkZWZhdWx0XCJdKSh0aGlzLnN0YXRlLHt0b2FzdHM6dSxwcmV2aW91c01lc3NhZ2U6eyRzZXQ6dH19KTt0aGlzLnNldFN0YXRlKHApfX19LHtrZXk6XCJfaGFuZGxlX3RvYXN0X29uX2NsaWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5wcm9wcy5vbkNsaWNrKGUpLGUuZGVmYXVsdFByZXZlbnRlZHx8KGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpKX19LHtrZXk6XCJfaGFuZGxlX3RvYXN0X3JlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1cIlwiKyh0aGlzLnByb3BzLm5ld2VzdE9uVG9wP1wicmVkdWNlUmlnaHRcIjpcInJlZHVjZVwiKTt0aGlzLnN0YXRlLnRvYXN0c1tyXShmdW5jdGlvbihyLG8sbil7cmV0dXJuIHJ8fG8udG9hc3RJZCE9PWU/ITE6KHQuc2V0U3RhdGUoKDAsZltcImRlZmF1bHRcIl0pKHQuc3RhdGUse3RvYXN0czp7JHNwbGljZTpbW24sMV1dfX0pKSwhMCl9LCExKX19XSksdH0ocC5Db21wb25lbnQpO3YuZGVmYXVsdFByb3BzPXt0b2FzdFR5cGU6e2Vycm9yOlwiZXJyb3JcIixpbmZvOlwiaW5mb1wiLHN1Y2Nlc3M6XCJzdWNjZXNzXCIsd2FybmluZzpcIndhcm5pbmdcIn0saWQ6XCJ0b2FzdC1jb250YWluZXJcIix0b2FzdE1lc3NhZ2VGYWN0b3J5OmNbXCJkZWZhdWx0XCJdLmNyZWF0ZUZhY3RvcnkoeVtcImRlZmF1bHRcIl0pLHByZXZlbnREdXBsaWNhdGVzOiExLG5ld2VzdE9uVG9wOiEwLG9uQ2xpY2s6ZnVuY3Rpb24oKXt9fSx0W1wiZGVmYXVsdFwiXT12fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMzIpLGE9byhuKSxpPXIoMzkpLHM9byhpKSxsPXIoNiksdT1vKGwpLHA9MTcsYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO3RbXCJkZWZhdWx0XCJdPXtnZXREZWZhdWx0UHJvcHM6ZnVuY3Rpb24oKXtyZXR1cm57dHJhbnNpdGlvbjpudWxsLHNob3dBbmltYXRpb246XCJhbmltYXRlZCBib3VuY2VJblwiLGhpZGVBbmltYXRpb246XCJhbmltYXRlZCBib3VuY2VPdXRcIix0aW1lT3V0OjVlMyxleHRlbmRlZFRpbWVPdXQ6MWUzfX0sY29tcG9uZW50V2lsbE1vdW50OmZ1bmN0aW9uKCl7dGhpcy5jbGFzc05hbWVRdWV1ZT1bXSx0aGlzLmlzSGlkaW5nPSExLHRoaXMuaW50ZXJ2YWxJZD1udWxsfSxjb21wb25lbnREaWRNb3VudDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5faXNfbW91bnRlZD0hMCx0aGlzLl9zaG93KCk7dmFyIHQ9dVtcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcykscj1mdW5jdGlvbiBvKCl7ZS5pc0hpZGluZyYmKGUuX3NldF9pc19oaWRpbmcoITEpLHNbXCJkZWZhdWx0XCJdLnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIodCxvKSxlLl9oYW5kbGVfcmVtb3ZlKCkpfTtzW1wiZGVmYXVsdFwiXS5hZGRFbmRFdmVudExpc3RlbmVyKHQsciksdGhpcy5wcm9wcy50aW1lT3V0PjAmJnRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LHRoaXMucHJvcHMudGltZU91dCkpfSxjb21wb25lbnRXaWxsVW5tb3VudDpmdW5jdGlvbigpe3RoaXMuX2lzX21vdW50ZWQ9ITEsdGhpcy5pbnRlcnZhbElkJiZjbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbElkKX0sX3NldF90cmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWU/XCJsZWF2ZVwiOlwiZW50ZXJcIixyPXVbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpLG89dGhpcy5wcm9wcy50cmFuc2l0aW9uK1wiLVwiK3Qsbj1vK1wiLWFjdGl2ZVwiLGk9ZnVuY3Rpb24gbChlKXtlJiZlLnRhcmdldCE9PXJ8fChhW1wiZGVmYXVsdFwiXS5yZW1vdmVDbGFzcyhyLG8pLGFbXCJkZWZhdWx0XCJdLnJlbW92ZUNsYXNzKHIsbiksc1tcImRlZmF1bHRcIl0ucmVtb3ZlRW5kRXZlbnRMaXN0ZW5lcihyLGwpKX07c1tcImRlZmF1bHRcIl0uYWRkRW5kRXZlbnRMaXN0ZW5lcihyLGkpLGFbXCJkZWZhdWx0XCJdLmFkZENsYXNzKHIsbyksdGhpcy5fcXVldWVfY2xhc3Mobil9LF9jbGVhcl90cmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXVbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpLHI9ZT9cImxlYXZlXCI6XCJlbnRlclwiLG89dGhpcy5wcm9wcy50cmFuc2l0aW9uK1wiLVwiK3Isbj1vK1wiLWFjdGl2ZVwiO2FbXCJkZWZhdWx0XCJdLnJlbW92ZUNsYXNzKHQsbyksYVtcImRlZmF1bHRcIl0ucmVtb3ZlQ2xhc3ModCxuKX0sX3NldF9hbmltYXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9dVtcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcykscj10aGlzLl9nZXRfYW5pbWF0aW9uX2NsYXNzZXMoZSksbz1mdW5jdGlvbiBuKGUpe2UmJmUudGFyZ2V0IT09dHx8KHIuZm9yRWFjaChmdW5jdGlvbihlKXthW1wiZGVmYXVsdFwiXS5yZW1vdmVDbGFzcyh0LGUpfSksc1tcImRlZmF1bHRcIl0ucmVtb3ZlRW5kRXZlbnRMaXN0ZW5lcih0LG4pKX07c1tcImRlZmF1bHRcIl0uYWRkRW5kRXZlbnRMaXN0ZW5lcih0LG8pLHIuZm9yRWFjaChmdW5jdGlvbihlKXthW1wiZGVmYXVsdFwiXS5hZGRDbGFzcyh0LGUpfSl9LF9nZXRfYW5pbWF0aW9uX2NsYXNzZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZT90aGlzLnByb3BzLmhpZGVBbmltYXRpb246dGhpcy5wcm9wcy5zaG93QW5pbWF0aW9uO3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PWMuY2FsbCh0KT90Olwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCIgXCIpOnZvaWQgMH0sX2NsZWFyX2FuaW1hdGlvbjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcy5fZ2V0X2FuaW1hdGlvbl9jbGFzc2VzKGUpO3IuZm9yRWFjaChmdW5jdGlvbihlKXthW1wiZGVmYXVsdFwiXS5yZW1vdmVDbGFzcyh1W1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0KSxlKX0pfSxfcXVldWVfY2xhc3M6ZnVuY3Rpb24oZSl7dGhpcy5jbGFzc05hbWVRdWV1ZS5wdXNoKGUpLHRoaXMudGltZW91dHx8KHRoaXMudGltZW91dD1zZXRUaW1lb3V0KHRoaXMuX2ZsdXNoX2NsYXNzX25hbWVfcXVldWUscCkpfSxfZmx1c2hfY2xhc3NfbmFtZV9xdWV1ZTpmdW5jdGlvbigpe3RoaXMuX2lzX21vdW50ZWQmJnRoaXMuY2xhc3NOYW1lUXVldWUuZm9yRWFjaChhW1wiZGVmYXVsdFwiXS5hZGRDbGFzcy5iaW5kKGFbXCJkZWZhdWx0XCJdLHVbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpKSksdGhpcy5jbGFzc05hbWVRdWV1ZS5sZW5ndGg9MCx0aGlzLnRpbWVvdXQ9bnVsbH0sX3Nob3c6ZnVuY3Rpb24oKXt0aGlzLnByb3BzLnRyYW5zaXRpb24/dGhpcy5fc2V0X3RyYW5zaXRpb24oKTp0aGlzLnByb3BzLnNob3dBbmltYXRpb24mJnRoaXMuX3NldF9hbmltYXRpb24oKX0saGFuZGxlTW91c2VFbnRlcjpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmludGVydmFsSWQpLHRoaXMuX3NldF9pbnRlcnZhbF9pZChudWxsKSx0aGlzLmlzSGlkaW5nJiYodGhpcy5fc2V0X2lzX2hpZGluZyghMSksdGhpcy5wcm9wcy5oaWRlQW5pbWF0aW9uP3RoaXMuX2NsZWFyX2FuaW1hdGlvbighMCk6dGhpcy5wcm9wcy50cmFuc2l0aW9uJiZ0aGlzLl9jbGVhcl90cmFuc2l0aW9uKCEwKSl9LGhhbmRsZU1vdXNlTGVhdmU6ZnVuY3Rpb24oKXshdGhpcy5pc0hpZGluZyYmKHRoaXMucHJvcHMudGltZU91dD4wfHx0aGlzLnByb3BzLmV4dGVuZGVkVGltZU91dD4wKSYmdGhpcy5fc2V0X2ludGVydmFsX2lkKHNldFRpbWVvdXQodGhpcy5oaWRlVG9hc3QsdGhpcy5wcm9wcy5leHRlbmRlZFRpbWVPdXQpKX0saGlkZVRvYXN0OmZ1bmN0aW9uKGUpe3RoaXMuaXNIaWRpbmd8fG51bGw9PT10aGlzLmludGVydmFsSWQmJiFlfHwodGhpcy5fc2V0X2lzX2hpZGluZyghMCksdGhpcy5wcm9wcy50cmFuc2l0aW9uP3RoaXMuX3NldF90cmFuc2l0aW9uKCEwKTp0aGlzLnByb3BzLmhpZGVBbmltYXRpb24/dGhpcy5fc2V0X2FuaW1hdGlvbighMCk6dGhpcy5faGFuZGxlX3JlbW92ZSgpKX0sX3NldF9pbnRlcnZhbF9pZDpmdW5jdGlvbihlKXt0aGlzLmludGVydmFsSWQ9ZX0sX3NldF9pc19oaWRpbmc6ZnVuY3Rpb24oZSl7dGhpcy5pc0hpZGluZz1lfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gbihlLHQpe2VbdC5zaG93TWV0aG9kXSh7ZHVyYXRpb246dC5zaG93RHVyYXRpb24sZWFzaW5nOnQuc2hvd0Vhc2luZ30pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPXIoNiksaT1vKGEpO3RbXCJkZWZhdWx0XCJdPXtnZXREZWZhdWx0UHJvcHM6ZnVuY3Rpb24oKXtyZXR1cm57c3R5bGU6e2Rpc3BsYXk6XCJub25lXCJ9LHNob3dNZXRob2Q6XCJmYWRlSW5cIixzaG93RHVyYXRpb246MzAwLHNob3dFYXNpbmc6XCJzd2luZ1wiLGhpZGVNZXRob2Q6XCJmYWRlT3V0XCIsaGlkZUR1cmF0aW9uOjFlMyxoaWRlRWFzaW5nOlwic3dpbmdcIix0aW1lT3V0OjVlMyxleHRlbmRlZFRpbWVPdXQ6MWUzfX0sZ2V0SW5pdGlhbFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue2ludGVydmFsSWQ6bnVsbCxpc0hpZGluZzohMX19LGNvbXBvbmVudERpZE1vdW50OmZ1bmN0aW9uKCl7bih0aGlzLl9nZXRfJF9ub2RlKCksdGhpcy5wcm9wcyksdGhpcy5wcm9wcy50aW1lT3V0PjAmJnRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LHRoaXMucHJvcHMudGltZU91dCkpfSxoYW5kbGVNb3VzZUVudGVyOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuc3RhdGUuaW50ZXJ2YWxJZCksdGhpcy5fc2V0X2ludGVydmFsX2lkKG51bGwpLHRoaXMuX3NldF9pc19oaWRpbmcoITEpLG4odGhpcy5fZ2V0XyRfbm9kZSgpLnN0b3AoITAsITApLHRoaXMucHJvcHMpfSxoYW5kbGVNb3VzZUxlYXZlOmZ1bmN0aW9uKCl7IXRoaXMuc3RhdGUuaXNIaWRpbmcmJih0aGlzLnByb3BzLnRpbWVPdXQ+MHx8dGhpcy5wcm9wcy5leHRlbmRlZFRpbWVPdXQ+MCkmJnRoaXMuX3NldF9pbnRlcnZhbF9pZChzZXRUaW1lb3V0KHRoaXMuaGlkZVRvYXN0LHRoaXMucHJvcHMuZXh0ZW5kZWRUaW1lT3V0KSl9LGhpZGVUb2FzdDpmdW5jdGlvbihlKXt0aGlzLnN0YXRlLmlzSGlkaW5nfHxudWxsPT09dGhpcy5zdGF0ZS5pbnRlcnZhbElkJiYhZXx8KHRoaXMuc2V0U3RhdGUoe2lzSGlkaW5nOiEwfSksdGhpcy5fZ2V0XyRfbm9kZSgpW3RoaXMucHJvcHMuaGlkZU1ldGhvZF0oe2R1cmF0aW9uOnRoaXMucHJvcHMuaGlkZUR1cmF0aW9uLGVhc2luZzp0aGlzLnByb3BzLmhpZGVFYXNpbmcsY29tcGxldGU6dGhpcy5faGFuZGxlX3JlbW92ZX0pKX0sX2dldF8kX25vZGU6ZnVuY3Rpb24oKXtyZXR1cm4galF1ZXJ5KGlbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpKX0sX3NldF9pbnRlcnZhbF9pZDpmdW5jdGlvbihlKXt0aGlzLnNldFN0YXRlKHtpbnRlcnZhbElkOmV9KX0sX3NldF9pc19oaWRpbmc6ZnVuY3Rpb24oZSl7dGhpcy5zZXRTdGF0ZSh7aXNIaWRpbmc6ZX0pfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Ub2FzdE1lc3NhZ2U9dC5Ub2FzdENvbnRhaW5lcj12b2lkIDA7dmFyIG49cigzNCksYT1vKG4pLGk9cig5KSxzPW8oaSk7dC5Ub2FzdENvbnRhaW5lcj1hW1wiZGVmYXVsdFwiXSx0LlRvYXN0TWVzc2FnZT1zW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUsdCl7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmFzc2lnbiB0YXJnZXQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXCIpO2Zvcih2YXIgcj1PYmplY3QoZSksbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgYT1hcmd1bWVudHNbbl07aWYobnVsbCE9YSl7dmFyIGk9T2JqZWN0KGEpO2Zvcih2YXIgcyBpbiBpKW8uY2FsbChpLHMpJiYocltzXT1pW3NdKX19cmV0dXJuIHJ9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0PWUuc3R5bGU7XCJBbmltYXRpb25FdmVudFwiaW4gd2luZG93fHxkZWxldGUgcy5hbmltYXRpb25lbmQuYW5pbWF0aW9uLFwiVHJhbnNpdGlvbkV2ZW50XCJpbiB3aW5kb3d8fGRlbGV0ZSBzLnRyYW5zaXRpb25lbmQudHJhbnNpdGlvbjtmb3IodmFyIHIgaW4gcyl7dmFyIG89c1tyXTtmb3IodmFyIG4gaW4gbylpZihuIGluIHQpe2wucHVzaChvW25dKTticmVha319fWZ1bmN0aW9uIG4oZSx0LHIpe2UuYWRkRXZlbnRMaXN0ZW5lcih0LHIsITEpfWZ1bmN0aW9uIGEoZSx0LHIpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LHIsITEpfXZhciBpPXIoNDEpLHM9e3RyYW5zaXRpb25lbmQ6e3RyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsV2Via2l0VHJhbnNpdGlvbjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIixNb3pUcmFuc2l0aW9uOlwibW96VHJhbnNpdGlvbkVuZFwiLE9UcmFuc2l0aW9uOlwib1RyYW5zaXRpb25FbmRcIixtc1RyYW5zaXRpb246XCJNU1RyYW5zaXRpb25FbmRcIn0sYW5pbWF0aW9uZW5kOnthbmltYXRpb246XCJhbmltYXRpb25lbmRcIixXZWJraXRBbmltYXRpb246XCJ3ZWJraXRBbmltYXRpb25FbmRcIixNb3pBbmltYXRpb246XCJtb3pBbmltYXRpb25FbmRcIixPQW5pbWF0aW9uOlwib0FuaW1hdGlvbkVuZFwiLG1zQW5pbWF0aW9uOlwiTVNBbmltYXRpb25FbmRcIn19LGw9W107aS5jYW5Vc2VET00mJm8oKTt2YXIgdT17YWRkRW5kRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihlLHQpe3JldHVybiAwPT09bC5sZW5ndGg/dm9pZCB3aW5kb3cuc2V0VGltZW91dCh0LDApOnZvaWQgbC5mb3JFYWNoKGZ1bmN0aW9uKHIpe24oZSxyLHQpfSl9LHJlbW92ZUVuZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZSx0KXswIT09bC5sZW5ndGgmJmwuZm9yRWFjaChmdW5jdGlvbihyKXthKGUscix0KX0pfX07ZS5leHBvcnRzPXV9LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLmNvbmNhdCgpOmUmJlwib2JqZWN0XCI9PXR5cGVvZiBlP2kobmV3IGUuY29uc3RydWN0b3IsZSk6ZX1mdW5jdGlvbiBuKGUscixvKXtBcnJheS5pc0FycmF5KGUpP3ZvaWQgMDpcInByb2R1Y3Rpb25cIiE9PXQuZW52Lk5PREVfRU5WP2woITEsXCJ1cGRhdGUoKTogZXhwZWN0ZWQgdGFyZ2V0IG9mICVzIHRvIGJlIGFuIGFycmF5OyBnb3QgJXMuXCIsbyxlKTpsKCExKTt2YXIgbj1yW29dO0FycmF5LmlzQXJyYXkobik/dm9pZCAwOlwicHJvZHVjdGlvblwiIT09dC5lbnYuTk9ERV9FTlY/bCghMSxcInVwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGFuIGFycmF5OyBnb3QgJXMuIERpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBwYXJhbWV0ZXIgaW4gYW4gYXJyYXk/XCIsbyxuKTpsKCExKX1mdW5jdGlvbiBhKGUscil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHI/XCJwcm9kdWN0aW9uXCIhPT10LmVudi5OT0RFX0VOVj9sKCExLFwidXBkYXRlKCk6IFlvdSBwcm92aWRlZCBhIGtleSBwYXRoIHRvIHVwZGF0ZSgpIHRoYXQgZGlkIG5vdCBjb250YWluIG9uZSBvZiAlcy4gRGlkIHlvdSBmb3JnZXQgdG8gaW5jbHVkZSB7JXM6IC4uLn0/XCIsdi5qb2luKFwiLCBcIiksZik6bCghMSk6dm9pZCAwLHUuY2FsbChyLGYpKXJldHVybiAxIT09T2JqZWN0LmtleXMocikubGVuZ3RoP1wicHJvZHVjdGlvblwiIT09dC5lbnYuTk9ERV9FTlY/bCghMSxcIkNhbm5vdCBoYXZlIG1vcmUgdGhhbiBvbmUga2V5IGluIGFuIG9iamVjdCB3aXRoICVzXCIsZik6bCghMSk6dm9pZCAwLHJbZl07dmFyIHM9byhlKTtpZih1LmNhbGwocixoKSl7dmFyIGc9cltoXTtnJiZcIm9iamVjdFwiPT10eXBlb2YgZz92b2lkIDA6XCJwcm9kdWN0aW9uXCIhPT10LmVudi5OT0RFX0VOVj9sKCExLFwidXBkYXRlKCk6ICVzIGV4cGVjdHMgYSBzcGVjIG9mIHR5cGUgJ29iamVjdCc7IGdvdCAlc1wiLGgsZyk6bCghMSkscyYmXCJvYmplY3RcIj09dHlwZW9mIHM/dm9pZCAwOlwicHJvZHVjdGlvblwiIT09dC5lbnYuTk9ERV9FTlY/bCghMSxcInVwZGF0ZSgpOiAlcyBleHBlY3RzIGEgdGFyZ2V0IG9mIHR5cGUgJ29iamVjdCc7IGdvdCAlc1wiLGgscyk6bCghMSksaShzLHJbaF0pfXUuY2FsbChyLHApJiYobihlLHIscCkscltwXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MucHVzaChlKX0pKSx1LmNhbGwocixjKSYmKG4oZSxyLGMpLHJbY10uZm9yRWFjaChmdW5jdGlvbihlKXtzLnVuc2hpZnQoZSl9KSksdS5jYWxsKHIsZCkmJihBcnJheS5pc0FycmF5KGUpP3ZvaWQgMDpcInByb2R1Y3Rpb25cIiE9PXQuZW52Lk5PREVfRU5WP2woITEsXCJFeHBlY3RlZCAlcyB0YXJnZXQgdG8gYmUgYW4gYXJyYXk7IGdvdCAlc1wiLGQsZSk6bCghMSksQXJyYXkuaXNBcnJheShyW2RdKT92b2lkIDA6XCJwcm9kdWN0aW9uXCIhPT10LmVudi5OT0RFX0VOVj9sKCExLFwidXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYW4gYXJyYXkgb2YgYXJyYXlzOyBnb3QgJXMuIERpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBwYXJhbWV0ZXJzIGluIGFuIGFycmF5P1wiLGQscltkXSk6bCghMSkscltkXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe0FycmF5LmlzQXJyYXkoZSk/dm9pZCAwOlwicHJvZHVjdGlvblwiIT09dC5lbnYuTk9ERV9FTlY/bCghMSxcInVwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGFuIGFycmF5IG9mIGFycmF5czsgZ290ICVzLiBEaWQgeW91IGZvcmdldCB0byB3cmFwIHlvdXIgcGFyYW1ldGVycyBpbiBhbiBhcnJheT9cIixkLHJbZF0pOmwoITEpLHMuc3BsaWNlLmFwcGx5KHMsZSl9KSksdS5jYWxsKHIseSkmJihcImZ1bmN0aW9uXCIhPXR5cGVvZiByW3ldP1wicHJvZHVjdGlvblwiIT09dC5lbnYuTk9ERV9FTlY/bCghMSxcInVwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGEgZnVuY3Rpb247IGdvdCAlcy5cIix5LHJbeV0pOmwoITEpOnZvaWQgMCxzPXJbeV0ocykpO2Zvcih2YXIgYiBpbiByKW0uaGFzT3duUHJvcGVydHkoYikmJm1bYl18fChzW2JdPWEoZVtiXSxyW2JdKSk7cmV0dXJuIHN9dmFyIGk9cigzOCkscz1yKDQzKSxsPXIoNDIpLHU9e30uaGFzT3duUHJvcGVydHkscD1zKHskcHVzaDpudWxsfSksYz1zKHskdW5zaGlmdDpudWxsfSksZD1zKHskc3BsaWNlOm51bGx9KSxmPXMoeyRzZXQ6bnVsbH0pLGg9cyh7JG1lcmdlOm51bGx9KSx5PXMoeyRhcHBseTpudWxsfSksdj1bcCxjLGQsZixoLHldLG09e307di5mb3JFYWNoKGZ1bmN0aW9uKGUpe21bZV09ITB9KSxlLmV4cG9ydHM9YX0pLmNhbGwodCxyKDQpKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgcj0hKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fCF3aW5kb3cuZG9jdW1lbnR8fCF3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCksbz17Y2FuVXNlRE9NOnIsY2FuVXNlV29ya2VyczpcInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyLGNhblVzZUV2ZW50TGlzdGVuZXJzOnImJiEoIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyJiYhd2luZG93LmF0dGFjaEV2ZW50KSxjYW5Vc2VWaWV3cG9ydDpyJiYhIXdpbmRvdy5zY3JlZW4saXNJbldvcmtlcjohcn07ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlLHIsbyxuLGEsaSxzLGwpe2lmKFwicHJvZHVjdGlvblwiIT09dC5lbnYuTk9ERV9FTlYmJnZvaWQgMD09PXIpdGhyb3cgbmV3IEVycm9yKFwiaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnRcIik7aWYoIWUpe3ZhciB1O2lmKHZvaWQgMD09PXIpdT1uZXcgRXJyb3IoXCJNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLlwiKTtlbHNle3ZhciBwPVtvLG4sYSxpLHMsbF0sYz0wO3U9bmV3IEVycm9yKHIucmVwbGFjZSgvJXMvZyxmdW5jdGlvbigpe3JldHVybiBwW2MrK119KSksdS5uYW1lPVwiSW52YXJpYW50IFZpb2xhdGlvblwifXRocm93IHUuZnJhbWVzVG9Qb3A9MSx1fX1lLmV4cG9ydHM9cn0pLmNhbGwodCxyKDQpKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIHQ7cmV0dXJuIG51bGx9O2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKX19LGZ1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKHQpe2UuZXhwb3J0cz10fSkuY2FsbCh0LHt9KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5fZXZlbnRzPXRoaXMuX2V2ZW50c3x8e30sdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfWZ1bmN0aW9uIG8oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX1mdW5jdGlvbiBuKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZS5leHBvcnRzPXIsci5FdmVudEVtaXR0ZXI9cixyLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMCxyLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpfHwwPmV8fGlzTmFOKGUpKXRocm93IFR5cGVFcnJvcihcIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdCxyLG4scyxsLHU7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSxcImVycm9yXCI9PT1lJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8YSh0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpe2lmKHQ9YXJndW1lbnRzWzFdLHQgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0O3Rocm93IFR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4nKX1pZihyPXRoaXMuX2V2ZW50c1tlXSxpKHIpKXJldHVybiExO2lmKG8ocikpc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpyLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSAyOnIuY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOnIuY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2RlZmF1bHQ6cz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksci5hcHBseSh0aGlzLHMpfWVsc2UgaWYoYShyKSlmb3Iocz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksdT1yLnNsaWNlKCksbj11Lmxlbmd0aCxsPTA7bj5sO2wrKyl1W2xdLmFwcGx5KHRoaXMscyk7cmV0dXJuITB9LHIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lciYmdGhpcy5lbWl0KFwibmV3TGlzdGVuZXJcIixlLG8odC5saXN0ZW5lcik/dC5saXN0ZW5lcjp0KSx0aGlzLl9ldmVudHNbZV0/YSh0aGlzLl9ldmVudHNbZV0pP3RoaXMuX2V2ZW50c1tlXS5wdXNoKHQpOnRoaXMuX2V2ZW50c1tlXT1bdGhpcy5fZXZlbnRzW2VdLHRdOnRoaXMuX2V2ZW50c1tlXT10LGEodGhpcy5fZXZlbnRzW2VdKSYmIXRoaXMuX2V2ZW50c1tlXS53YXJuZWQmJihuPWkodGhpcy5fbWF4TGlzdGVuZXJzKT9yLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dGhpcy5fbWF4TGlzdGVuZXJzLG4mJm4+MCYmdGhpcy5fZXZlbnRzW2VdLmxlbmd0aD5uJiYodGhpcy5fZXZlbnRzW2VdLndhcm5lZD0hMCxjb25zb2xlLmVycm9yKFwiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC5cIix0aGlzLl9ldmVudHNbZV0ubGVuZ3RoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpKSx0aGlzfSxyLnByb3RvdHlwZS5vbj1yLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMucmVtb3ZlTGlzdGVuZXIoZSxyKSxufHwobj0hMCx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3ZhciBuPSExO3JldHVybiByLmxpc3RlbmVyPXQsdGhpcy5vbihlLHIpLHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLHM7aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2lmKCF0aGlzLl9ldmVudHN8fCF0aGlzLl9ldmVudHNbZV0pcmV0dXJuIHRoaXM7aWYocj10aGlzLl9ldmVudHNbZV0saT1yLmxlbmd0aCxuPS0xLHI9PT10fHxvKHIubGlzdGVuZXIpJiZyLmxpc3RlbmVyPT09dClkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixlLHQpO2Vsc2UgaWYoYShyKSl7Zm9yKHM9aTtzLS0gPjA7KWlmKHJbc109PT10fHxyW3NdLmxpc3RlbmVyJiZyW3NdLmxpc3RlbmVyPT09dCl7bj1zO2JyZWFrfWlmKDA+bilyZXR1cm4gdGhpczsxPT09ci5sZW5ndGg/KHIubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSk6ci5zcGxpY2UobiwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSx0KX1yZXR1cm4gdGhpc30sci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpcztpZighdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLl9ldmVudHM9e306dGhpcy5fZXZlbnRzW2VdJiZkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih0IGluIHRoaXMuX2V2ZW50cylcInJlbW92ZUxpc3RlbmVyXCIhPT10JiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyh0KTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSx0aGlzLl9ldmVudHM9e30sdGhpc31pZihyPXRoaXMuX2V2ZW50c1tlXSxvKHIpKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxyKTtlbHNlIGlmKHIpZm9yKDtyLmxlbmd0aDspdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHJbci5sZW5ndGgtMV0pO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXN9LHIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1tlXT9vKHRoaXMuX2V2ZW50c1tlXSk/W3RoaXMuX2V2ZW50c1tlXV06dGhpcy5fZXZlbnRzW2VdLnNsaWNlKCk6W119LHIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZXZlbnRzKXt2YXIgdD10aGlzLl9ldmVudHNbZV07aWYobyh0KSlyZXR1cm4gMTtpZih0KXJldHVybiB0Lmxlbmd0aH1yZXR1cm4gMH0sci5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGlzdGVuZXJDb3VudCh0KX19XSl9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWFjdC1ib290c3RyYXAtdGFibGUvZGlzdC9yZWFjdC1ib290c3RyYXAtdGFibGUubWluLmpzXG4gKiogbW9kdWxlIGlkID0gMzY3XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }

});